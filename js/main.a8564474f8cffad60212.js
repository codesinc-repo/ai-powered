!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="1daab52d-4c1a-4f04-a41c-71a567a2c651",e._sentryDebugIdIdentifier="sentry-dbid-1daab52d-4c1a-4f04-a41c-71a567a2c651")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"5.94.1"},(self.webpackChunktaskcade=self.webpackChunktaskcade||[]).push([[8792],{69506:(e,t,n)=>{var a={"./ar/strings.json":[32720,2720],"./cs/strings.json":[26141,6141],"./da/strings.json":[49088,9088],"./de/strings.json":[91564,1564],"./en-GB/strings.json":[98696,8696],"./en-US/strings.json":[17237,7237],"./es/strings.json":[85387,5387],"./fa/strings.json":[77706,7706],"./fi/strings.json":[82146,2146],"./fr/strings.json":[61651,1651],"./he/strings.json":[66008,6008],"./hu/strings.json":[67336,7336],"./id/strings.json":[82770,2770],"./it/strings.json":[65058,5058],"./ja/strings.json":[8462,8462],"./ko/strings.json":[71897,1897],"./nl/strings.json":[95749,5749],"./no/strings.json":[49040,9040],"./pl/strings.json":[8543,8543],"./pt/strings.json":[71639,1639],"./ro/strings.json":[17644,7644],"./ru/strings.json":[84530,4530],"./sk/strings.json":[60197,197],"./sv/strings.json":[12066,2066],"./ta/strings.json":[42960,2960],"./th/strings.json":[13199,3199],"./tr/strings.json":[70357,357],"./uk/strings.json":[76787,6787],"./vi/strings.json":[5746,5746],"./zh-Hans/strings.json":[72013,4394],"./zh-Hant/strings.json":[34423,4423]};function l(e){if(!n.o(a,e))return Promise.resolve().then(()=>{var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=a[e],l=t[0];return n.e(t[1]).then(()=>n.t(l,19))}l.keys=()=>Object.keys(a),l.id=69506,e.exports=l},35358:(e,t,n)=>{var a={"./af":25177,"./af.js":25177,"./ar":61509,"./ar-dz":41488,"./ar-dz.js":41488,"./ar-kw":58676,"./ar-kw.js":58676,"./ar-ly":42353,"./ar-ly.js":42353,"./ar-ma":24496,"./ar-ma.js":24496,"./ar-sa":82682,"./ar-sa.js":82682,"./ar-tn":89756,"./ar-tn.js":89756,"./ar.js":61509,"./az":95533,"./az.js":95533,"./be":28959,"./be.js":28959,"./bg":47777,"./bg.js":47777,"./bm":54903,"./bm.js":54903,"./bn":61290,"./bn-bd":17357,"./bn-bd.js":17357,"./bn.js":61290,"./bo":31545,"./bo.js":31545,"./br":11470,"./br.js":11470,"./bs":44429,"./bs.js":44429,"./ca":7306,"./ca.js":7306,"./cs":56464,"./cs.js":56464,"./cv":73635,"./cv.js":73635,"./cy":64226,"./cy.js":64226,"./da":93601,"./da.js":93601,"./de":77853,"./de-at":26111,"./de-at.js":26111,"./de-ch":54697,"./de-ch.js":54697,"./de.js":77853,"./dv":60708,"./dv.js":60708,"./el":54691,"./el.js":54691,"./en-au":53872,"./en-au.js":53872,"./en-ca":28298,"./en-ca.js":28298,"./en-gb":56195,"./en-gb.js":56195,"./en-ie":66584,"./en-ie.js":66584,"./en-il":65543,"./en-il.js":65543,"./en-in":9033,"./en-in.js":9033,"./en-nz":79402,"./en-nz.js":79402,"./en-sg":43004,"./en-sg.js":43004,"./eo":32934,"./eo.js":32934,"./es":97650,"./es-do":20838,"./es-do.js":20838,"./es-mx":17730,"./es-mx.js":17730,"./es-us":56575,"./es-us.js":56575,"./es.js":97650,"./et":3035,"./et.js":3035,"./eu":3508,"./eu.js":3508,"./fa":119,"./fa.js":119,"./fi":90527,"./fi.js":90527,"./fil":95995,"./fil.js":95995,"./fo":52477,"./fo.js":52477,"./fr":85498,"./fr-ca":26435,"./fr-ca.js":26435,"./fr-ch":37892,"./fr-ch.js":37892,"./fr.js":85498,"./fy":37071,"./fy.js":37071,"./ga":41734,"./ga.js":41734,"./gd":70217,"./gd.js":70217,"./gl":77329,"./gl.js":77329,"./gom-deva":32124,"./gom-deva.js":32124,"./gom-latn":93383,"./gom-latn.js":93383,"./gu":95050,"./gu.js":95050,"./he":11713,"./he.js":11713,"./hi":43861,"./hi.js":43861,"./hr":26308,"./hr.js":26308,"./hu":90609,"./hu.js":90609,"./hy-am":17160,"./hy-am.js":17160,"./id":74063,"./id.js":74063,"./is":89374,"./is.js":89374,"./it":88383,"./it-ch":21827,"./it-ch.js":21827,"./it.js":88383,"./ja":23827,"./ja.js":23827,"./jv":89722,"./jv.js":89722,"./ka":41794,"./ka.js":41794,"./kk":27088,"./kk.js":27088,"./km":96870,"./km.js":96870,"./kn":84451,"./kn.js":84451,"./ko":63164,"./ko.js":63164,"./ku":98174,"./ku.js":98174,"./ky":78474,"./ky.js":78474,"./lb":79680,"./lb.js":79680,"./lo":15867,"./lo.js":15867,"./lt":45766,"./lt.js":45766,"./lv":69532,"./lv.js":69532,"./me":58076,"./me.js":58076,"./mi":41848,"./mi.js":41848,"./mk":30306,"./mk.js":30306,"./ml":73739,"./ml.js":73739,"./mn":99053,"./mn.js":99053,"./mr":86169,"./mr.js":86169,"./ms":73386,"./ms-my":92297,"./ms-my.js":92297,"./ms.js":73386,"./mt":77075,"./mt.js":77075,"./my":72264,"./my.js":72264,"./nb":22274,"./nb.js":22274,"./ne":8235,"./ne.js":8235,"./nl":92572,"./nl-be":43784,"./nl-be.js":43784,"./nl.js":92572,"./nn":54566,"./nn.js":54566,"./oc-lnc":69330,"./oc-lnc.js":69330,"./pa-in":29849,"./pa-in.js":29849,"./pl":94418,"./pl.js":94418,"./pt":79834,"./pt-br":48303,"./pt-br.js":48303,"./pt.js":79834,"./ro":24457,"./ro.js":24457,"./ru":82271,"./ru.js":82271,"./sd":1221,"./sd.js":1221,"./se":33478,"./se.js":33478,"./si":17538,"./si.js":17538,"./sk":5784,"./sk.js":5784,"./sl":46637,"./sl.js":46637,"./sq":86794,"./sq.js":86794,"./sr":45719,"./sr-cyrl":3322,"./sr-cyrl.js":3322,"./sr.js":45719,"./ss":56e3,"./ss.js":56e3,"./sv":41011,"./sv.js":41011,"./sw":40748,"./sw.js":40748,"./ta":11025,"./ta.js":11025,"./te":11885,"./te.js":11885,"./tet":28861,"./tet.js":28861,"./tg":86571,"./tg.js":86571,"./th":55802,"./th.js":55802,"./tk":59527,"./tk.js":59527,"./tl-ph":29231,"./tl-ph.js":29231,"./tlh":31052,"./tlh.js":31052,"./tr":85096,"./tr.js":85096,"./tzl":79846,"./tzl.js":79846,"./tzm":81765,"./tzm-latn":97711,"./tzm-latn.js":97711,"./tzm.js":81765,"./ug-cn":48414,"./ug-cn.js":48414,"./uk":16618,"./uk.js":16618,"./ur":57777,"./ur.js":57777,"./uz":57609,"./uz-latn":72475,"./uz-latn.js":72475,"./uz.js":57609,"./vi":21135,"./vi.js":21135,"./x-pseudo":64051,"./x-pseudo.js":64051,"./yo":82218,"./yo.js":82218,"./zh-cn":52648,"./zh-cn.js":52648,"./zh-hk":1632,"./zh-hk.js":1632,"./zh-mo":31541,"./zh-mo.js":31541,"./zh-tw":50304,"./zh-tw.js":50304};function l(e){return n(i(e))}function i(e){if(!n.o(a,e)){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}l.keys=function(){return Object.keys(a)},l.resolve=i,e.exports=l,l.id=35358},32649:(e,t,n)=>{"use strict";n.d(t,{Cu:()=>d,Ho:()=>u,M:()=>a,Wj:()=>s,dU:()=>c,eo:()=>o,r7:()=>r});var a,l=n(8604),i=n(8515);!function(e){e.TEXT="/text",e.ASSIGNEE="/attributes/assignee",e.DATE="/attributes/date",e.COMMENT="/attributes/comment",e.TIMER="/attributes/timer",e.MEDIA="/attributes/media",e.AGENT="/attributes/agent",e.REACTION="/attributes/reaction"}(a||(a={}));let r=new Set(["/attributes/agent","/attributes/date","/attributes/assignee","/attributes/comment","/attributes/reaction","/attributes/timer","/attributes/media"]);function o(e){return r.has(e)}let s={type:i.yd,rank:"F",columns:{"/text":{id:"/text",fieldPath:"/text",rank:"7",width:480},"/attributes/agent":{id:"/attributes/agent",fieldPath:"/attributes/agent",rank:"A"},"/attributes/date":{id:"/attributes/date",fieldPath:"/attributes/date",rank:"F"},"/attributes/assignee":{id:"/attributes/assignee",fieldPath:"/attributes/assignee",rank:"N"},"/attributes/comment":{id:"/attributes/comment",fieldPath:"/attributes/comment",rank:"V"},"/attributes/reaction":{id:"/attributes/reaction",fieldPath:"/attributes/reaction",rank:"c"},"/attributes/timer":{id:"/attributes/timer",fieldPath:"/attributes/timer",rank:"k"},"/attributes/media":{id:"/attributes/media",fieldPath:"/attributes/media",rank:"s"}}},d={"/attributes/assignee":"field_assign","/attributes/date":"field_duedate","/attributes/comment":"field_comment","/attributes/reaction":"field_reaction","/attributes/timer":"field_timer","/attributes/media":"field_upload","/attributes/agent":"dd_ai"},u={Select:"field_select",number:"field_number",string:"field_text"},c={"/attributes/assignee":(0,l.zR)({id:"general.assignee",defaultMessage:"Assignee"}),"/attributes/date":(0,l.zR)({id:"general.due_date",defaultMessage:"Due Date"}),"/attributes/comment":(0,l.zR)({id:"general.comments",defaultMessage:"Comments"}),"/attributes/reaction":(0,l.zR)({id:"general.reactions",defaultMessage:"Reactions"}),"/attributes/timer":(0,l.zR)({id:"general.timer",defaultMessage:"Timer"}),"/attributes/media":(0,l.zR)({id:"general.media_embed",defaultMessage:"Media/Embed"}),"/text":(0,l.zR)({id:"general.task",defaultMessage:"Task"}),"/attributes/agent":(0,l.zR)({id:"general.agents",defaultMessage:"Agents"})}},2301:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var a=n(58596);function l(e,t){if(null!=t){let{contexts:n,extras:a,level:l,tags:i,user:r}=t;if(null!=n)for(let[t,a]of Object.entries(n))e.setContext(t,a);null!=a&&e.setExtras(a),null!=l&&e.setLevel(l),null!=i&&e.setTags(i),null!=r&&e.setUser(r)}}function i(e,t,n){let i=(0,a.getStatusCodeFromError)(e)??a.StatusCode.INTERNAL_SERVER_ERROR,r=i>=500?"error":"warning";return t.withScope(i=>{i.setLevel(r),l(i,(0,a.getSentryScopeFromError)(e)),l(i,n),t.captureException(e)}),{level:r,statusCode:i}}},95322:(e,t,n)=>{"use strict";n.d(t,{E:()=>a});let a=n(14476).z.enum(["uploadFileType","custom_field_edit","custom_field_add","agent_editor_create_thread","create_space","project_member_invite_role","gantt_view","credit_alert","create_space_agent","copy_space_agent","sidebar_upgrade","project_header_upgrade","request_limit_old_background_agent","request_limit_create_project","request_limit_media_chat","request_limit_project_add_block","request_limit_chat","request_limit_agent_chat","request_limit_multi_agent_toolbar","request_limit_document_import","request_limit_spreadsheet_import","request_limit_editor_assistant","request_limit_result_bulk_agent","agent_editor_continue_thread"])},42922:(e,t,n)=>{"use strict";function a(e){return null!=e&&"recurrence"in e&&null!=e.recurrence&&null!=e.recurrence.rruleSet&&0!==e.recurrence.rruleSet.length}n.d(t,{y:()=>a})},777:(e,t,n)=>{"use strict";n.d(t,{Z7:()=>r,ah:()=>i,jh:()=>l,kh:()=>a});let a="@@taskade/billing/TOGGLE_PAYWALL";function l(e,t){return{type:a,payload:{workspaceId:e,reason:t}}}let i="@@taskade/billing/TOGGLE_UPGRADE";function r(e){return{type:i,payload:{featureId:e}}}},54769:(e,t,n)=>{"use strict";n.d(t,{Ig:()=>i,RG:()=>a,Yt:()=>l,fd:()=>r});let a="@@taskade/Chatroom/CHATROOM_SET_LATEST_MESSAGE_AT",l="@@taskade/Chatroom/CHATROOM_UNSET_LATEST_MESSAGE_AT";function i(e){return{type:a,payload:{latestMessageAt:e}}}function r(){return{type:l}}},93382:(e,t,n)=>{"use strict";n.d(t,{GV:()=>f,HN:()=>p,KL:()=>o,Ps:()=>d,Uy:()=>u,__:()=>r,bL:()=>s,rj:()=>m,sJ:()=>c});var a=n(83741),l=n(69843),i=n.n(l);let r="@@taskade/Chatroom/CHATROOM_DID_MOUNT",o="@@taskade/Chatroom/CHATROOM_WILL_UNMOUNT",s="@@taskade/Chatroom/RECEIVE_EVENT",d="@@taskade/Chatroom/SEND_MESSAGE";function u(e){if("document"===e.type&&i()(e.id))try{throw Error("Invalid Schema Detected: to")}catch(t){console.warn({to:e,error:t}),a.v4(n=>{n.setExtra("to",e),a.Cp(t)})}return{type:r,payload:{to:e}}}function c(e){return{type:o,payload:{to:e}}}function p(e,t){return{type:"@@taskade/Chatroom/SET_CHATROOM_FETCH_STATUS",payload:{to:e,fetchStatus:t}}}function f(e,t){return{type:s,payload:{to:e,data:t}}}function m(e){return{type:"@@taskade/Chatroom/RESET_CHATROOM",payload:{to:e}}}},35788:(e,t,n)=>{"use strict";n.d(t,{G:()=>l,q:()=>a});let a="@@taskade/documentPreferences/SET_HIDE_COMPLETED";function l(e){return{type:a,payload:{hideCompleted:e}}}},56737:(e,t,n)=>{"use strict";n.d(t,{B_:()=>b,Cj:()=>T,Fm:()=>D,G0:()=>N,MS:()=>f,MV:()=>m,Me:()=>k,OJ:()=>S,P2:()=>E,PU:()=>y,Q4:()=>h,R_:()=>g,SN:()=>I,TK:()=>w,Uq:()=>o,VS:()=>d,Ws:()=>A,_D:()=>C,bV:()=>O,cg:()=>_,l$:()=>v,ny:()=>c,oP:()=>u,ro:()=>s,sH:()=>p,yd:()=>x});var a=n(58156),l=n.n(a),i=n(79666),r=n(37261);let o="@@taskade/document/ADD_DOCUMENT_COLLABORATORS",s="@@taskade/document/FETCH_DOCUMENT_COLLABORATORS",d="@@taskade/document/FETCH_DOCUMENT_ENTITY",u="@@taskade/document/FETCH_SHARED_DOCUMENTS",c="@@taskade/document/REMOVE_SHARED_DOCUMENT_FROM_LIST",p="@@taskade/document/SET_DOCUMENT_COLLABORATOR_FETCH_STATUS",f="@@taskade/document/SET_SHARED_DOCUMENTS_FETCH_STATUS",m="@@taskade/document/SET_SHARED_DOCUMENT_LIST",y="@@taskade/document/TOGGLE_DOCUMENT_HIDE_CHAT",h="@@taskade/document/TOGGLE_DOCUMENT_HIDE_COMPLETED",g="@@taskade/document/SYNC_ASSIGNEES",N="@@taskade/document/SYNC_DATES",v="@@taskade/document/SYNC_COUNTDOWNS",k="@@taskade/document/SYNC_REACTION_COLLECTIONS";function E(e){return{type:s,payload:{documentID:e}}}function A(e,t){return{type:p,payload:{documentID:e,fetchStatus:t}}}function S(e){return{type:f,payload:{fetchStatus:e}}}function b(e){return t=>{e.json().then(e=>{let n=l()(e,["payload","documents"],[]),a=(0,i.hM)(n);t((0,r.xD)(a.entities)),t({type:m,payload:{documents:a.result}})})}}function T(e){return t=>{e.json().then(e=>{let n=l()(e,["payload","documents"],[]),a=(0,i.hM)(n);t((0,r.xD)(a.entities))})}}function I(e){return{type:y,payload:{documentID:e}}}function D(e){return{type:h,payload:{documentID:e}}}function O(e){return{type:c,payload:{documentID:e}}}function _(e){return{type:g,payload:e}}function w(e){return{type:N,payload:e}}function C(e){return{type:v,payload:e}}function x(e){return{type:k,payload:e}}},92432:(e,t,n)=>{"use strict";n.d(t,{P:()=>l,r:()=>a});let a="@@taskade/drafts/SET_COMMENT_DRAFT";function l(e,t,n){return{type:a,payload:{documentID:e,nodeID:t,draft:n}}}},27179:(e,t,n)=>{"use strict";n.d(t,{Gw:()=>a,km:()=>r,pS:()=>l,v3:()=>i});let a="@@taskade/editor-event-emitter/ADD_NOTE_VALUE_LISTENER",l="@@taskade/editor-event-emitter/REMOVE_NOTE_VALUE_LISTENER";function i(e,t){return{type:a,payload:{nodeId:e,listener:t}}}function r(e,t){return{type:l,payload:{nodeId:e,listener:t}}}},29373:(e,t,n)=>{"use strict";var a;n.d(t,{$6:()=>D,Cc:()=>R,DK:()=>V,Hl:()=>T,Ht:()=>Q,I5:()=>X,IH:()=>d,J$:()=>W,KB:()=>_,Kh:()=>v,Mn:()=>J,NF:()=>N,Nd:()=>M,Pl:()=>m,UZ:()=>u,VE:()=>r,VH:()=>l,XO:()=>j,YD:()=>i,Y_:()=>U,Yb:()=>F,Z0:()=>C,ZS:()=>P,_9:()=>S,_b:()=>A,bI:()=>B,bR:()=>f,c:()=>q,dN:()=>z,dp:()=>K,er:()=>Y,gd:()=>a,hq:()=>o,ii:()=>w,je:()=>h,jg:()=>y,jm:()=>g,k0:()=>I,ng:()=>O,nk:()=>et,q5:()=>G,qB:()=>p,qY:()=>E,s8:()=>s,sF:()=>k,tN:()=>x,tk:()=>$,uT:()=>L,w7:()=>c,wm:()=>b,xX:()=>ee,yS:()=>H,z7:()=>Z});let l="@@taskade/editor/MOVE_NODES_ADJACENT_TO",i="@@taskade/editor/RESET_EDITOR",r="@@taskade/editor/INDENT_NODES",o="@@taskade/editor/INSERT_FRAGMENT",s="@@taskade/editor/INSERT_TEXT",d="@@taskade/editor/OUTDENT_NODES",u="@@taskade/editor/TOGGLE_SELECTION_MARK",c="@@taskade/editor/PRESS_BACKSPACE",p="@@taskade/editor/PRESS_DELETE",f="@@taskade/editor/PRESS_ENTER",m="@@taskade/editor/REDO",y="@@taskade/editor/UNDO",h="@@taskade/editor/PASTE_ON_EMPTY_NODE",g="@@taskade/editor/MULTISELECT_ENTER",N="@@taskade/editor/MULTISELECT_DOWN",v="@@taskade/editor/MULTISELECT_UP",k="@@taskade/editor/UNFOLD_ANCESTORS",E="@@taskade/editor/SORT_NODE_CHILDREN",A="@@taskade/editor/HISTORY_REVERT",S="@@taskade/editor/QUICK_FORMAT",b="@@taskade/editor/REPLACE_NODE_WITH_FRAGMENT",T="@@taskade/editor/SET_VIEW_SCHEMA",I="@@taskade/editor/SET_FIELD_SCHEMA",D="@@taskade/editor/SET_CUSTOM_ATTRIBUTE_IN_NODE",O="@@taskade/editor/ADD_FIELD",_="@@taskade/editor/REMOVE_FIELD",w="@@taskade/editor/DUPLICATE_NODES";function C(){return{type:i,payload:{}}}function x(){return{type:y,payload:{}}}function P(){return{type:m,payload:{}}}function F(e,t){return{type:r,payload:{nodeIds:e,parentId:t}}}function M(e){return{type:d,payload:{nodeIds:e}}}function R(e,t){return{type:o,payload:{fragment:t,target:e}}}function L(e,t,n){return{type:h,payload:{fragment:e,nodeId:t,ancestors:n}}}function j(e,t){return{type:c,payload:{nodeId:e,ancestors:t}}}function U(e,t){return{type:f,payload:{nodeId:e,ancestors:t}}}function z(e,t){return{type:p,payload:{nodeId:e,ancestors:t}}}function B(e,t){return{type:l,payload:{source:e,target:t}}}function H(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:u,payload:{selectedIds:e,type:t,data:n}}}function J(e){return{type:g,payload:{selectedIds:e}}}function G(e){return{type:N,payload:{selectedIds:e}}}function V(e){return{type:v,payload:{selectedIds:e}}}function $(e){return{type:k,payload:{nodeId:e}}}function q(e,t){return{type:E,payload:{nodeId:e,sortBy:t}}}function Z(e){return{type:A,payload:{contents:e}}}function W(e,t,n){return{type:S,payload:{nodeId:e,range:t,nodeFormat:n}}}function Q(e,t){return{type:T,payload:{key:e,viewSchema:t}}}function Y(e,t){return{type:I,payload:{key:e,fieldSchema:t}}}function K(e,t,n){return{type:D,payload:{nodeId:e,fieldKey:t,data:n}}}function X(e,t){return{type:O,payload:{fieldSchema:e,fieldKey:t}}}function ee(e){return{type:_,payload:{fieldPath:e}}}function et(e,t){return{type:w,payload:{nodeIds:e,ancestors:t}}}!function(e){e.CompleteAsc="complete-asc",e.CompleteDesc="complete-desc",e.DueDate="due-date",e.AlphabeticalAsc="a-z",e.AlphabeticalDesc="z-a",e.Tag="tag",e.Mention="mention",e.DateCreated="date-created",e.StartDate="start-date"}(a||(a={}))},85018:(e,t,n)=>{"use strict";n.d(t,{Dh:()=>r,LB:()=>i,_K:()=>s,_e:()=>o,hD:()=>l,mo:()=>a});let a="@@taskade/EditorManager/ADD_EDITOR_MANAGER",l="@@taskade/EditorManager/REMOVE_EDITOR_MANAGER",i="@@taskade/EditorManager/NEXT_NODE",r="@@taskade/EditorManager/PREVIOUS_NODE";function o(e,t,n,a,l){return{type:i,payload:{nodeId:e,path:t,direction:n,event:a,editor:l}}}function s(e,t,n,a,l){return{type:r,payload:{nodeId:e,path:t,direction:n,event:a,editor:l}}}},37261:(e,t,n)=>{"use strict";n.d(t,{OZ:()=>a,hE:()=>l,xD:()=>i});let a="Entities/ADD_ENTITIES",l="Entities/REMOVE_ENTITIES";function i(e){return{type:a,payload:e}}},83591:(e,t,n)=>{"use strict";n.d(t,{U:()=>l,s:()=>a});let a="@@taskade/growl/RESET_GROWL_STATE";function l(){return{type:a,payload:{}}}},88514:(e,t,n)=>{"use strict";n.d(t,{C:()=>a,y:()=>l});let a="@@taskade/history/APPLY_LOCAL_CHANGESET";function l(e){return e.type===a}},37562:(e,t,n)=>{"use strict";n.d(t,{RS:()=>l,kN:()=>a,pL:()=>r,w2:()=>i});let a="EDITOR_DID_MOUNT",l="EDITOR_DID_UNMOUNT";function i(e){return{type:a,payload:{editorRouteState:e}}}function r(e){return{type:l,payload:{editorRouteState:e}}}},45909:(e,t,n)=>{"use strict";n.d(t,{EK:()=>a,Fb:()=>p,Hx:()=>l,J8:()=>i,N9:()=>c,NI:()=>d,RJ:()=>r,Ud:()=>o,f8:()=>s,vn:()=>u});let a="TOGGLE_ARCHIVE_DOCUMENT_ENTITY",l="UPDATE_META_SPACE",i="@@taskade/meta/UPDATE_META_PREFERENCES",r="@@taskade/meta/UPDATE_META_CONFERENCE",o="@@taskade/meta/UPDATE_META_ROUTE_STATE";function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:a,payload:{documentID:e,callback:t}}}function d(e){return{type:l,payload:{space:e}}}function u(e){return{type:i,payload:{preferences:e}}}function c(e){return{type:r,payload:{conference:e}}}function p(e){return{type:o,payload:{routeState:e}}}},2147:(e,t,n)=>{"use strict";n.d(t,{C5:()=>f,F6:()=>m,JD:()=>d,Kr:()=>p,bb:()=>c,bg:()=>r,cP:()=>s,ef:()=>i,fM:()=>y,h3:()=>l,i6:()=>u,iI:()=>g,lN:()=>h,tS:()=>a,x7:()=>N,yF:()=>o});let a="@@taskade/modal/SET_DOCUMENT_INVITE_DOCUMENT",l="@@taskade/modal/SET_DOCUMENT_MOVE_MODAL_DOCUMENT",i="@@taskade/modal/SET_LOGIN_SIGNUP_MODAL_STATE",r="@@taskade/modal/TOGGLE_DOCUMENT_INVITE_MODAL",o="@@taskade/modal/TOGGLE_SPACE_LEAVE_MODAL",s="@@taskade/modal/TOGGLE_SPACE_DELETE_MODAL",d="@@taskade/modal/TOGGLE_SPACE_JOIN_MODAL",u="@@taskade/modal/TOGGLE_SPACE_NOTIFICATION_MODAL",c="@@taskade/modal/TOGGLE_DOCUMENT_NOTIFICATION_MODAL",p="@@taskade/modal/TOGGLE_LOGIN_SIGNUP_MODAL";function f(e){return{type:i,payload:e}}function m(){return{type:o,payload:{}}}function y(){return{type:s,payload:{}}}function h(){return{type:u,payload:{}}}function g(){return{type:c,payload:{}}}function N(){return{type:p,payload:{}}}},11586:(e,t,n)=>{"use strict";n.d(t,{O:()=>a,s:()=>l});let a="@@taskade/modal/TOGGLE_CREATE_SPACE_MODAL_DIALOG";function l(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return{type:a,payload:{parentID:e,parentName:t,parentType:n,parentTaskadePlanType:l}}}},96619:(e,t,n)=>{"use strict";n.d(t,{Ed:()=>a,QW:()=>i,xg:()=>l});let a="@@taskade/modal/TOGGLE_DOCUMENT_MOVE_V2_MODAL",l="@@taskade/modal/RESET_DOCUMENT_MOVE_V2_MODAL_STATE";function i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{type:a,payload:{documentID:e,options:t}}}},97653:(e,t,n)=>{"use strict";n.d(t,{OV:()=>i,wB:()=>a,xY:()=>l});let a="@@taskade/modal/TOGGLE_DOCUMENT_COPY_V2_MODAL",l="@@taskade/modal/RESET_DOCUMENT_COPY_V2_MODAL_STATE";function i(e,t){return{type:a,payload:{documentID:e,options:t}}}},97288:(e,t,n)=>{"use strict";n.d(t,{$O:()=>eC,B5:()=>ef,Bp:()=>eT,Bt:()=>u,D5:()=>m,Dt:()=>p,EE:()=>e_,Ey:()=>eF,FM:()=>h,GJ:()=>v,GX:()=>eP,Hx:()=>ed,IY:()=>eM,I_:()=>et,JX:()=>J,K0:()=>C,K6:()=>V,L3:()=>S,Lw:()=>X,ML:()=>em,MQ:()=>c,Mc:()=>ey,Mx:()=>B,NT:()=>eg,Nb:()=>N,O$:()=>q,PQ:()=>Z,Pt:()=>a,RR:()=>b,S4:()=>ep,Te:()=>w,VD:()=>K,Vs:()=>$,WP:()=>Q,Xl:()=>ev,Y7:()=>G,ZG:()=>eS,_D:()=>L,_E:()=>s,bC:()=>H,bo:()=>T,bt:()=>eE,c8:()=>y,cD:()=>eh,dD:()=>ex,ds:()=>eN,eA:()=>ek,eI:()=>r,eY:()=>j,ev:()=>eu,fn:()=>Y,gI:()=>z,gc:()=>A,h5:()=>l,h8:()=>M,hJ:()=>I,hZ:()=>O,i:()=>k,jZ:()=>el,jq:()=>x,k0:()=>eA,kd:()=>eI,m:()=>i,mP:()=>ec,mu:()=>f,nB:()=>D,nU:()=>en,p4:()=>eD,pZ:()=>d,q5:()=>ea,r1:()=>ew,rW:()=>o,rX:()=>eo,rx:()=>ei,sb:()=>er,ss:()=>ee,uS:()=>W,ux:()=>_,v3:()=>eO,vB:()=>g,wP:()=>P,wh:()=>es,wr:()=>R,y4:()=>E,zH:()=>U,zc:()=>eb,zn:()=>F});let a="ADD_NODE",l="DELETE_NODE",i="@@taskade/node/DELETE_NODES",r="FOCUS_NODE",o="@@taskade/node/DUPLICATE_NODE",s="INDENT_NODE",d="OUTDENT_NODE",u="SET_NODE_TEXT_CHANGE",c="@taskade/node/SET_NODE_TEXT",p="TOGGLE_COMPLETE",f="@@taskade/node/TOGGLE_COMPLETE_SUBTREE",m="TOGGLE_COLLAPSE",y="@@taskade/node/MOVE_NODES",h="@@taskade/node/TOGGLE_COLLAPSE_ALL",g="@@taskade/node/TOGGLE_COMPLETE_ALL",N="TOGGLE_MARK",v="@@taskade/node/TOGGLE_LINK",k="@@taskade/node/INSERT_AUTOCOMPLETE_HYPERLINK",E="@@taskade/node/INSERT_AUTOCOMPLETE_MENTION",A="@@taskade/node/INSERT_AUTOCOMPLETE_TAG",S="@@taskade/node/INSERT_AUTOCOMPLETE_TEXT",b="UPDATE_CONTENTS",T="SET_FORMAT",I="@@taskade/node/PUT_NOTE",D="@@taskade/node/UPDATE_ATTACHMENTS",O="@@taskade/node/CREATE_ATTACHMENT",_="@@taskade/node/DELETE_ATTACHMENT",w="@@taskade/node/EDIT_ATTACHMENT",C="@@taskade/node/ADD_ATTACHMENT",x="@@taskade/node/REMOVE_ATTACHMENT",P="@@taskade/node/UPDATE_ATTACHMENT",F="@@taskade/node/UPLOAD_FILE_ATTACHMENT",M="@@taskade/node/UPLOAD_FILE_COMMENT",R="@@taskade/node/SET_COMMENT_UI_IS_ACTIVE",L="@@taskade/node/FETCH_COMMENTS",j="@@taskade/node/SET_COMMENTS_FETCH_STATUS",U="@@taskade/node/SET_COMMENTS_UPLOAD_STATUS",z="@@taskade/node/SET_COMMENTS",B="@@taskade/node/ADD_UPLOADING_ATTACHMENT",H="@@taskade/node/REMOVE_UPLOADING_ATTACHMENT",J="@@taskade/node/UNFOCUS_NODE",G="@@taskade/node/CLEAR_RECUR_NODE_IDS",V="@@taskade/node/CLEAR_COMPLETED_NODE_IDS",$="@@taskade/node/RESET_ATTACHMENTS",q="@@taskade/node/SET_NOTE_OPEN_NODE_ID";function Z(e){return{type:b,payload:{contents:e}}}function W(e,t){return{type:u,payload:{nodeID:e,change:t}}}function Q(e,t){return{type:d,payload:{currentID:e,ancestors:t}}}function Y(e,t,n){return{type:l,payload:{currentID:e,ancestors:t,adopterID:n}}}function K(e,t){return{type:i,payload:{documentID:e,nodeIDs:t}}}function X(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return{type:r,payload:{focusID:e,caretPosition:t,unfocusID:n}}}function ee(e,t){return{type:J,payload:{documentID:e,unfocusID:t}}}function et(e,t){return{type:o,payload:{currentID:e,ancestors:t}}}function en(e,t){return{type:s,payload:{currentID:e,ancestors:t}}}function ea(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return{type:p,payload:{nodeIDs:t}}}function el(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return{type:m,payload:{currentID:e,collapse:t}}}function ei(){return{type:g,payload:{}}}function er(e){return{type:f,payload:{nodeId:e}}}function eo(){return{type:h,payload:{}}}function es(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:N,payload:{nodeID:e,type:t,data:n}}}function ed(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:v,payload:{nodeID:e,data:t}}}function eu(e,t,n,a){return{type:k,payload:{nodeID:e,projectTitle:t,data:n,range:a}}}function ec(e,t,n){return{type:E,payload:{nodeID:e,handle:t,range:n}}}function ep(e,t,n){return{type:A,payload:{nodeID:e,tag:t,range:n}}}function ef(e,t,n){return{type:S,payload:{nodeID:e,text:t,range:n}}}function em(e,t,n){return{type:T,payload:{nodeID:e,type:t,value:n}}}function ey(e){return{type:D,payload:{attachments:e}}}function eh(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return{type:O,payload:{documentID:e,attachment:t,callback:n,callbackIsGenerator:a}}}function eg(e,t){return{type:_,payload:{documentID:e,which:t}}}function eN(e,t,n){return{type:w,payload:{documentID:e,attachment:t,callback:n}}}function ev(e,t){return{type:C,payload:{attachment:e,info:t}}}function ek(e){return{type:x,payload:{which:e}}}function eE(e){return{type:P,payload:{attachments:e}}}function eA(e,t){return{type:B,payload:{nodeID:e,uploadID:t}}}function eS(e,t){return{type:H,payload:{nodeID:e,uploadID:t}}}function eb(e,t,n){return{type:F,payload:{documentID:e,nodeID:t,files:n}}}function eT(e,t,n){return{type:M,payload:{documentID:e,nodeID:t,files:n}}}function eI(e,t){return{type:R,payload:{nodeID:e,isActive:t}}}function eD(e,t){return{type:L,payload:{documentID:e,nodeID:t}}}function eO(e,t){return{type:j,payload:{nodeID:e,fetchStatus:t}}}function e_(e,t){return{type:U,payload:{nodeID:e,uploadStatus:t}}}function ew(e,t){return{type:z,payload:{nodeID:e,comments:t}}}function eC(){return{type:G,payload:{}}}function ex(){return{type:V,payload:{}}}function eP(e){return{type:q,payload:{nodeId:e}}}function eF(){return{type:$,payload:{}}}function eM(e,t){return{type:I,payload:{nodeId:e,note:t}}}},11257:(e,t,n)=>{"use strict";n.d(t,{GL:()=>a,IW:()=>o,Qx:()=>r,WV:()=>i,X3:()=>l,bA:()=>s});let a="SET_SELF_PRESENCE",l="UPDATE_PRESENCES",i="UNSET_PRESENCE";function r(e){return{type:a,payload:{selfPresenceID:e}}}function o(e){return{type:l,payload:{presenceEvent:e}}}function s(){return{type:i}}},72188:(e,t,n)=>{"use strict";n.d(t,{HR:()=>l,MM:()=>r,Ri:()=>s,UE:()=>d,bK:()=>a,lI:()=>c,u2:()=>u,ui:()=>o,z:()=>i});let a="SET_SEARCH_QUERY",l="TOGGLE_SEARCH_QUERY_ITEM",i="ADD_VISIBLE_NODES",r="TOGGLE_COLLAPSE_IN_SEARCH",o="TOGGLE_SEARCH_BAR";function s(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{type:a,payload:{query:e}}}function d(){return{type:o}}function u(e){return{type:l,payload:{queryItem:e}}}function c(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return{type:r,payload:{nodeID:e,collapse:t}}}},5682:(e,t,n)=>{"use strict";n.d(t,{EK:()=>i,FX:()=>k,Ho:()=>s,J9:()=>d,KO:()=>f,N_:()=>r,O3:()=>y,Pq:()=>m,VQ:()=>p,Y0:()=>v,Yb:()=>o,Z$:()=>g,ZW:()=>a,ZY:()=>u,fS:()=>l,lG:()=>c,n3:()=>N,q4:()=>h});let a="OUT_OF_SYNC",l="@@taskade/editor/UPDATE_FETCH",i="@@taskade/space/SET_SPACE_IS_NEW",r="@@taskade/user/SET_USER_IS_NEW",o="@@taskade/session/CLEAR_BACKEND_ERROR",s="@@taskade/session/TOGGLE_SIDE_DRAWER",d="@@taskade/session/TOGGLE_RIGHT_SIDEBAR",u="@@taskade/session/CLOSE_SIDE_DRAWER",c="@@taskade/session/SET_FIREBASE_NOTIFICATION_PERMISSION";function p(){return{type:a,payload:{}}}function f(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:l,payload:{status:e,result:t}}}function m(e){return{type:i,payload:{spaceIsNew:e}}}function y(e){return{type:r,payload:{userIsNew:e}}}function h(){return{type:o,payload:{}}}function g(e){return{type:s,payload:{open:e}}}function N(){return{type:u,payload:{}}}function v(e){return{type:c,payload:{permission:e}}}function k(e){return{type:d,payload:{open:e}}}},74761:(e,t,n)=>{"use strict";n.d(t,{DP:()=>i,HU:()=>m,Ic:()=>y,M6:()=>c,Ng:()=>o,RL:()=>p,Ut:()=>r,Zf:()=>u,cL:()=>h,eA:()=>f,hg:()=>a,yb:()=>l,z3:()=>d,zT:()=>s});let a="@@socket.io/CONNECT",l="@@socket.io/EMIT",i="@@socket.io/GET_SOCKET",r="@@socket.io/RESET";function o(){return{type:a,payload:{}}}function s(e){return{type:"@@socket.io/CONNECT_ERROR",payload:{error:e}}}function d(e){return{type:"@@socket.io/ERROR",payload:{error:e}}}function u(e){return{type:"@@socket.io/DISCONNECT",payload:{reason:e}}}function c(e){return{type:"@@socket.io/RECONNECT",payload:{attemptNumber:e}}}function p(e){return{type:"@@socket.io/RECONNECT_ATTEMPT",payload:{attemptNumber:e}}}function f(e){return{type:"@@socket.io/RECONNECT_ERROR",payload:{error:e}}}function m(){return{type:"@@socket.io/RECONNECT_FAILED",payload:{}}}function y(e){for(var t=arguments.length,n=Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return{type:l,payload:{eventName:e,args:n}}}function h(){return{type:r,payload:{}}}},39520:(e,t,n)=>{"use strict";n.d(t,{Bq:()=>h,Fn:()=>A,GU:()=>f,Hf:()=>s,I8:()=>b,JD:()=>c,Lp:()=>v,MD:()=>N,NL:()=>u,QY:()=>I,RU:()=>k,Y$:()=>y,Yz:()=>T,bG:()=>p,cZ:()=>E,ht:()=>D,j5:()=>w,jC:()=>S,tI:()=>O,uT:()=>g,vN:()=>C,wC:()=>m,zJ:()=>_,zO:()=>d});var a=n(58156),l=n.n(a),i=n(79666),r=n(42719),o=n(37261);let s="@@taskade/space/UPDATE_LIST_ON_ARCHIVE",d="SPACE_FETCH_DOCUMENTS",u="SPACE_SET_DOCUMENTS_FETCH_STATUS",c="SPACE_SET_DOCUMENT_LIST",p="SPACE_ADD_DOCUMENT",f="@@taskade/space/ARCHIVE",m="SPACE_REMOVE_DOCUMENT",y="SPACE_FETCH_MEMBERSHIPS",h="@@taskade/space/SET_AVATAR_UPLOAD_STATUS",g="SPACE_SET_MEMBERSHIPS_FETCH_STATUS",N="SPACE_SET_MEMBERSHIP_LIST",v="@@taskade/space/SAVE_AVATAR";function k(e,t,n,a){return{type:p,payload:{spaceID:e,documentID:t,documentStatus:n,position:a}}}function E(e,t,n){return{type:m,payload:{spaceID:e,documentID:t,documentStatus:n}}}function A(e,t){return{type:d,payload:{spaceID:e,documentStatus:t}}}function S(e,t,n){return{type:u,payload:{spaceID:e,fetchStatus:t,documentStatus:n}}}function b(e,t,n,a){return r=>{t.json().then(t=>{let s=l()(t,["payload","documents"],[]),d=(0,i.hM)(s);r((0,o.xD)(d.entities)),r({type:c,payload:{spaceID:e,documents:d.result,documentStatus:a}}),r(S(e,n,a))})}}function T(e){return{type:y,payload:{spaceID:e}}}function I(e,t){return{type:g,payload:{spaceID:e,fetchStatus:t}}}function D(e,t,n){return{type:N,payload:{spaceID:e,memberships:t,fetchStatus:n}}}function O(e,t,n){return a=>{t.json().then(t=>{let i=l()(t,["payload","memberships"],[]),s=(0,r._O)(i);a((0,o.xD)(s.entities)),a(D(e,s.result,n))})}}function _(e,t){return{type:h,payload:{spaceID:e,uploadStatus:t}}}function w(e,t){return{type:f,payload:{spaceID:e,archived:t}}}function C(e,t){return{type:s,payload:{spaceID:e,archived:t}}}},53647:(e,t,n)=>{"use strict";n.d(t,{Fn:()=>a,HN:()=>s,TJ:()=>p,Tp:()=>l,Z9:()=>o,cF:()=>r,hs:()=>c,hz:()=>u,or:()=>i,ui:()=>d});let a="DOCUMENT_CREATED",l="SET_SYNC_STATE",i="UPDATE_META",r="APPLY_CHANGESET",o="@@taskade/Project/CREATE_DOCUMENT";function s(e){return{type:l,payload:{syncState:e}}}function d(){return{type:o,payload:{}}}function u(e){return{type:a,payload:{meta:e}}}function c(e){return{type:i,payload:{meta:e}}}function p(e,t){return{type:r,payload:{changeset:e,documentClient:t}}}},10335:(e,t,n)=>{"use strict";n.d(t,{AE:()=>u,Dc:()=>l,Dq:()=>p,N9:()=>y,Ot:()=>o,PK:()=>N,R:()=>d,RX:()=>m,SY:()=>i,TK:()=>g,fN:()=>a,gk:()=>h,se:()=>c,v1:()=>s,v2:()=>r,xW:()=>f});let a="@@taskade/user/ADD_ACCOUNT_TO_LIST",l="@@taskade/user/CLEAR_ACCOUNTS_ERRORS",i="@@taskade/user/FETCH_ACCOUNTS",r="@@taskade/user/REMOVE_ACCOUNT_FROM_LIST",o="@@taskade/user/SET_ACCOUNTS_FETCH_STATUS",s="@@taskade/user/SET_ACCOUNTS_LIST",d="@@taskade/user/SUBMIT_CHANGE_PASSWORD_FORM",u="@@taskade/user/SUBMIT_SETTINGS_FORM",c="@@taskade/user/UPDATE_USER",p="@@taskade/user/UPDATE_USER_PREFERENCES";function f(){return{type:l,payload:{}}}function m(e){return{type:o,payload:{fetchStatus:e}}}function y(e){return{type:s,payload:{accounts:e}}}function h(e,t,n){return{type:d,payload:{values:e,form:t,callback:n}}}function g(e){return{type:c,payload:{user:e}}}function N(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:p,payload:{key:e,value:t,localStorageKey:n}}}},98432:(e,t,n)=>{"use strict";n.d(t,{TH:()=>a,g:()=>l,zb:()=>i,zu:()=>r});let a="FETCH_STATUS_INITIAL",l="FETCH_STATUS_LOADED",i="FETCH_STATUS_LOADING",r="FETCH_STATUS_ERROR"},62061:(e,t,n)=>{"use strict";function a(e){return fetch(e,{credentials:"same-origin",method:"GET",headers:{"X-Requested-With":"XMLHttpRequest"}})}function l(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return fetch(e,{credentials:"same-origin",method:"POST",headers:{"X-Requested-With":"XMLHttpRequest",...t},body:n})}function i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return fetch(e,{credentials:"same-origin",method:"PUT",headers:{"X-Requested-With":"XMLHttpRequest",...t},body:n})}function r(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return fetch(e,{credentials:"same-origin",method:"DELETE",headers:{"X-Requested-With":"XMLHttpRequest",...t},body:n})}n.d(t,{LO:()=>l,SJ:()=>r,Uc:()=>i,fG:()=>a})},70292:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var a=n(83741),l=n(39350),i=n(4995),r=n(96540),o=n(58065),s=n(23698);let d=s.default.a.withConfig({displayName:"View4xx__SignUpButton",componentId:"sc-a8450c79-0"})`
  position: relative;
  margin-left: 12px;
  background-color: transparent;
  border-radius: 20px;
  text-decoration: none;
  font-weight: 600;
  padding: 8px 18px;
  display: flex;
  align-items: center;
  justify-content: center;

  &:before {
    content: '';
    position: absolute;
    inset: -1px;
    border-radius: 20px;
    pointer-events: none;
    padding: 2px;
    background-image: linear-gradient(0deg, #4fcf70, #fad648, #a767e5, #12bcfe, #44ce7b);
    -webkit-mask:
      linear-gradient(#fff 0 0) content-box,
      linear-gradient(#fff 0 0);
    -webkit-mask-composite: xor;
    mask-composite: exclude;
    animation: rotate 3s linear infinite;
  }
`,u=function(e){let t=e.capture??!1,n=e.header??"404: Page Not Found",s=e.imageUrl??"/images/404.svg",u=e.isCard??!0,c=e.metadata??null,p=e.subheader??"We couldn’t find the page you were looking for. Check to see if you have typos in the URL and try again.",f=e.windowTitle,m=e.showReturnLink??!1,{onMount:y}=e;return r.useEffect(()=>{y?.(),t&&a.v4(e=>{e.setExtras({windowTitle:f,isCard:u,imageUrl:s,header:n,metadata:c}),a.wd(n)})},[]),r.createElement("div",{className:"flex h-screen w-full flex-col justify-between p-4"},r.createElement("div",{className:"flex flex-col px-2 md:px-8"},r.createElement("div",{className:"flex items-center py-4"},r.createElement("a",{className:"flex w-40 transition duration-150 ease-in-out hover:scale-105 hover:opacity-80",href:"/"},r.createElement(l._6,{className:"text-appcolor-1000"})),r.createElement("div",{className:"flex w-full items-center justify-end gap-x-4 text-sm"},r.createElement("a",{className:"hidden border-b-2 border-textcolor-300 text-textcolor-500 hover:border-textcolor-900 hover:text-textcolor-900 md:flex",href:"/features",target:"_blank",rel:"noopener noreferrer"},r.createElement(o.A,{id:"general.features_link",defaultMessage:"Features"})),r.createElement("a",{className:"hidden border-b-2 border-textcolor-300 text-textcolor-500 hover:border-textcolor-900 hover:text-textcolor-900 md:flex",href:"https://help.taskade.com",target:"_blank",rel:"noopener noreferrer"},r.createElement(o.A,{id:"general.help_link",defaultMessage:"Help"})),r.createElement("a",{className:"border-b-2 border-textcolor-300 text-textcolor-500 hover:border-textcolor-900 hover:text-textcolor-900",href:"/downloads",target:"_blank",rel:"noopener noreferrer"},r.createElement(o.A,{id:"general.downloads_link",defaultMessage:"Downloads"})),r.createElement(d,{href:"/signup"},r.createElement("span",{className:"button-value-desktop text-moving-rainbow"},r.createElement("span",{className:"flex md:hidden"},r.createElement(o.A,{id:"general.sign_up",defaultMessage:"Sign up"})),r.createElement("span",{className:"hidden md:flex"},r.createElement(o.A,{id:"general.sign_up_for_free",defaultMessage:"Sign up for free"})))))),r.createElement("div",{className:"flex flex-col items-center pt-10"},r.createElement("div",{className:"flex max-w-xl flex-col items-center justify-center text-center"},r.createElement("div",{className:"max-w-md"},r.isValidElement(s)?s:r.createElement("a",{href:"https://www.taskade.com/"},r.createElement("img",{className:"max-w-lg",src:s,alt:n}))),r.createElement("h1",{className:"text-heading2 font-bold text-appcolor-900"},n),null!=p&&r.createElement("h2",{className:"mt-2 text-sm text-appcolor-500"},p),m&&r.createElement("a",{className:"text-xl font-bold text-primary",onClick:e=>{e.preventDefault(),window.location.reload()},href:"#"},r.createElement(o.A,{id:"general.refresh_page",defaultMessage:"Refresh page"}))))),r.createElement("div",{className:"mt-5 flex items-center justify-between p-4"},r.createElement("div",{className:"flex"},r.createElement("a",{className:"text-appcolor-500 hover:text-appcolor-800",href:"/"},r.createElement(o.A,{id:"general.learn_more",defaultMessage:"Learn more."}))),r.createElement("div",{className:"flex gap-3"},r.createElement("a",{className:"text-appcolor-500 hover:text-appcolor-800",href:"https://www.youtube.com/taskade",target:"_blank",rel:"noopener noreferrer"},r.createElement(i.Icon,{icon:"social_youtube"})),r.createElement("a",{className:"text-appcolor-500 hover:text-appcolor-800",href:"https://twitter.com/taskade",target:"_blank",rel:"noopener noreferrer"},r.createElement(i.Icon,{icon:"social_twitter"})),r.createElement("a",{className:"text-appcolor-500 hover:text-appcolor-800",href:"https://www.instagram.com/taskade/",target:"_blank",rel:"noopener noreferrer"},r.createElement(i.Icon,{icon:"social_instagram"})))))}},87493:(e,t,n)=>{"use strict";n.d(t,{Ih:()=>r,JZ:()=>i,zL:()=>l});var a=n(35159);function l(e,t){let{onApprove:n=null,onDecline:l=null}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=`Are you sure you want to delete ${t}?`;(0,a.A)(i,{onApprove:n,onDecline:l})}function i(e,t){let n=`Are you sure you want to leave ${e}?`;(0,a.A)(n,{onApprove:t})}function r(e){return{uid:e?"document-archived":"document-unarchived",message:e?"Moved to archive!":"Unarchived!",position:"br",autoDismiss:1,dismissible:!1}}},90872:(e,t,n)=>{"use strict";n.d(t,{A:()=>g});var a=n(9903);function l(e,t){let n=t;for(let t of e)n=n.delete(t);return n}function i(e,t,n,a){let l=a;for(let a of e)l=l.updateWithNodeID(a,t,n);return l}function r(e,t){return t.updateContents(e,t.hideCompleted)}var o=n(16535),s=n(15125),d=n(58596),u=n(88348),c=n(12660),p=n.n(c),f=n(14476);let m=f.z.string().min(1).regex(/^@/),y=f.z.string().min(1).regex(/^@/);class h{contents;documentPreferences;history;search;session;slate;ops;constructor(e){this.contents=e.contents,this.documentPreferences=e.documentPreferences,this.history=e.history,this.search=e.search,this.session=e.session,this.slate=e.slate,this.ops=[]}static perform(e,t){try{let n=new h(e);return[t(n),null]}catch(e){return[null,e]}}commit(e){let{contents:t,documentPreferences:n,history:a,search:l,session:i,slate:r,ops:s}=this;return(0,o.Ay)(e,e=>(e.contents=t,e.documentPreferences=n,e.history=a,e.search=l,e.session=i,e.slate=r,s.length>0&&(e.history=e.history.saveChange({ops:s})),e))}}h.prototype.putNote=function(e,t){let{contents:n}=this,[a,l]=n.setNoteAttributeInNode(e,t);return null==l||(this.contents=a,this.ops.push(l)),this},h.prototype.setNodeText=function(e,t){let[n,a]=this.contents.setTextInNodeWithDeltaSnapshot(e,t);if(null==a)return this;let l=this.contents,i=this.slate,r=[];r.push(a);let o=(l=n).findNodeByID(e);return null==o||(i=i.update(e,e=>null==e?u.A.createWithNode(o):e.setTextWithDelta(o.text)),this.contents=l,this.slate=i,this.ops.push(...r)),this},h.prototype.setViewSchema=function(e,t){let{contents:n}=this,[a,l]=n.setViewSchema(e,t);return null==l||(this.contents=a,this.ops.push(l)),this},h.prototype.setFieldSchema=function(e,t){let{contents:n}=this,a=y.safeParse(e);if(!a.success)return console.warn("Key needs to start with @"),this;let[l,i]=n.setFieldSchema(a.data,t);return null==i||(this.contents=l,this.ops.push(i)),this},h.prototype.removeFieldSchema=function(e){let{contents:t}=this;if(!m.safeParse(e).success)return console.warn("Key needs to start with @"),this;let[n,a]=t.removeFieldSchema(e);return null==a||(this.contents=n,this.ops.push(a)),this},h.prototype.setCustomAttributeInNode=function(e,t,n){let{contents:a}=this,[l,i]=a.setCustomAttributeInNode(e,t,n);return null==i||(this.contents=l,this.ops.push(i)),this},h.prototype.applyLocalChangeset=function(e){let{type:t,changeset:n}=e,{contents:a,documentPreferences:l,session:i,slate:r}=this,o=[],c=a.apply(n),f="local"===e.type?this.history:e.history;"local"===e.type&&o.push(...e.changeset.ops);let m=l,y=i,h=r;for(let e of n.ops)if("nodes"===e.p[0]){if(2===e.p.length){let t=e.p[1];if((0,d.assert)("string"==typeof t),(0,s.isObjectReplaceOp)(e)&&2===e.p.length&&"nodes"===e.p[0]&&"string"==typeof e.p[1]){if(null==e.oi){null!=e.od&&(h=h.remove(t));continue}let n=c.findNodeByID(t);if(null==n)throw new d.HttpError({code:"CONFLICT",message:"Replaced node cannot be found"});h=h.update(t,e=>null==e?u.A.createWithNode(n):e.setTextWithDelta(n.text))}else if((0,s.isObjectDeleteOp)(e)&&2===e.p.length&&"nodes"===e.p[0]&&"string"==typeof e.p[1])h=h.remove(t);else if((0,s.isObjectInsertOp)(e)&&2===e.p.length&&"nodes"===e.p[0]&&"string"==typeof e.p[1]){let e=c.findNodeByID(t);if(null==e)throw new d.HttpError({code:"CONFLICT",message:"Inserted node cannot be found"});h=h.update(t,t=>null==t?u.A.createWithNode(e):t.setTextWithDelta(e.text))}}else if(3===e.p.length){let t=e.p[1];if((0,d.assert)("string"==typeof t),(0,s.isDeltaOp)(e)&&3===e.p.length&&"nodes"===e.p[0]&&"string"==typeof e.p[1]&&"text"===e.p[2]){let e=c.findNodeByID(t);if(null==e)throw new d.HttpError({code:"CONFLICT",message:"Edited node cannot be found"});h=h.update(t,t=>null==t?u.A.createWithNode(e):t.setTextWithDelta(e.text))}else if((0,s.isNodeCompletionOp)(e)){if(!1===e.oi){let e=c.findAncestorsForNode(t);m=m.addVisibleNodes([...e,t])}null!=y.focusNodeID&&(h=h.update(t,e=>e.focusNode(-1)),y=y.updateWithNodeID(t,c,h))}}else 4===e.p.length&&(0,s.isListInsertOp)(e)&&4===e.p.length&&"nodes"===e.p[0]&&"string"==typeof e.p[1]&&"children"===e.p[2]&&"number"==typeof e.p[3]&&(m=m.updateContents(c,l.hideCompleted))}let g=y.focusNodeID;if(null==g||h.has(g)||(g=(y=y.updateWithNodeID(g,c,h)).focusNodeID),"undo"===t){let e=f.undos.last();if(null!=e){let t=function(e){for(let t of(0,s.invertChangeset)(e).ops)if("nodes"===t.p[0]){if(2===t.p.length){let e=t.p[1];if("od"in t){let n=function(e){let t=0;for(let n of e.ops){if(null==n.insert)return -1;if(null!=n.attributes&&n.attributes.paragraph)break;t+=p().Op.length(n)}return t}(t.od.text);if(n<0)return null;return{anchorNodeId:e,anchorOffset:n,focusNodeId:e,focusOffset:n}}break}if(3===t.p.length){if("text"===t.p[2]){let e=t.p[1],n=function(e){let t=0,n=0;for(let a of e.ops)if(null!=a.retain){if(null!=a.attributes){n+=a.retain;break}t+=a.retain,n+=a.retain}else if(null!=a.insert)break;else if(null!=a.delete){t+=a.delete,n+=a.delete;break}return{anchor:t,focus:n}}(t.o);return{anchorNodeId:e,anchorOffset:n.anchor,focusNodeId:e,focusOffset:n.focus}}break}}return null}(e);null!=t&&(t.anchorNodeId!==g&&null!=g&&(h.has(g)?h=h.update(g,e=>e.unfocusNode()):console.warn(`Invalid focus node ID in session: ${g}`)),h.has(t.anchorNodeId)&&(h=h.update(t.anchorNodeId,e=>e.focusNode(t.anchorOffset))),y=y.updateWithNodeID(t.anchorNodeId,c,h))}}return this.contents=c,this.history=f,this.documentPreferences=m,this.session=y,this.slate=h,o.length>0&&this.ops.push(...o),this},h.prototype.adoptChildrenIfNeeded=function(e,t){let{contents:n}=this;if(null!=t){let[a,l]=n.adoptChildren(e,t);null!=l&&(this.contents=a,this.ops.push(...l))}return this},h.prototype.changeNodeText=function(e,t){let{contents:n,session:l,slate:i}=this;if(null==n.getIn(["nodes",e]))return console.warn(`Node (${e}) not found, discarding action…`),i.has(e)&&(i=i.delete(e)),l.focusNodeID===e&&(l=l.updateWithNodeID(e,n,i)),this.slate=i,this.session=l,this;let r=i.getIn([e,"text"]),o=(i=i.update(e,e=>e.setTextWithValue(t.value))).getIn([e,"text"]);if(null==r||r.document!==o.document){let t=(0,a.w3)(o.document),[l,i]=n.setTextInNodeWithDeltaSnapshot(e,t);null!=i&&(this.ops.push(i),n=l)}return l=l.focusNodeID===e?l.updateWithNodeID(e,n,i):l.updateWithNodeID(l.focusNodeID,n,i).updateWithNodeID(e,n,i),this.contents=n,this.slate=i,this.session=l,this},h.prototype.deleteNode=function(e,t){let{contents:n,session:a,slate:o,documentPreferences:s}=this,d=[];{let[a,l]=n.removeNode(e,t);if(null==l)throw Error(`Unable to remove node ${e}`);d.push(...l),n=a}let u=d.filter(e=>2===e.p.length&&"nodes"===e.p[0]&&"od"in e).map(e=>e.p[1]);return o=l(u,o),a=i(u,n,o,a),s=r(n,s),this.contents=n,this.session=a,this.slate=o,this.documentPreferences=s,this.ops.push(...d),this},h.prototype.deleteNodes=function(e){let{contents:t,session:n,slate:a}=this,r=[];{let[n,a]=t.removeNodes(e);if(null==a)throw Error(`Unable to remove node ${e}`);r.push(...a),t=n}let o=r.filter(e=>2===e.p.length&&"nodes"===e.p[0]&&"od"in e).map(e=>e.p[1]);return a=l(o,a),n=i(o,t,a,n),this.contents=t,this.session=n,this.slate=a,this.ops.push(...r),this},h.prototype.focusNode=function(e,t){let{contents:n}=this,{session:a,slate:l}=this;if(e===a.focusNodeID)return this;let i=a.focusNodeID;if(null!=i){let e=l,t=a;e=e.update(i,e=>e.unfocusNode()),t=t.updateWithNodeID(i,n,e),l=e,a=t}if(null!=e){let i=l,r=a;i=i.update(e,e=>e.focusNode(t)),r=r.updateWithNodeID(e,n,i),l=i,a=r}return this.slate=l,this.session=a,this},h.prototype.insertFragmentAdjacentToTarget=function(e,t){let{contents:n,documentPreferences:a,search:l,slate:i}=this,r=[];{let[a,l]=n.insertFragmentAdjacentToTarget(e,t);if(null==l)throw Error("Unable to insert fragment adjacent to target");r.push(...l),n=a}{let e=a,t=l,o=i;for(let a of r.filter(e=>2===e.p.length&&"nodes"===e.p[0]&&!("od"in e)&&"oi"in e).map(e=>e.p[1])){let l=n.getIn(["nodes",a]);if(null==l)throw Error("Change describe an invalid node insertion operation");o=o.set(a,u.A.createWithNode(l)),t=t.addVisibleNodes([a]),l.completed||(e=e.addVisibleNodes([a]))}a=e,l=t,i=o}return this.contents=n,this.documentPreferences=a,this.slate=i,this.ops.push(...r),this},h.prototype.outdentNode=function(e,t){let{contents:n,session:a}=this,l=[];{let[a,i]=n.outdentAtNode(e,t);if(null==i)throw Error("Unable to outdent node");n=a,l.push(...i)}if(a.focusNodeID===e){let t=a,l=n.findAncestorsForNode(e);a=t=t.set("formatMenuState",{nodeID:e,ancestors:l})}return this.contents=n,this.session=a,this.ops.push(...l),this},h.prototype.indentNode=function(e,t){let{contents:n,session:a,documentPreferences:l}=this,i=[];{let[a,r]=n.indentAtNode(e,t);if(null==r)throw Error("Unable to indent node");n=a,i.push(...r);let o=n.findParentNodeByID(e);if(null!=o){let e=o.id;l=l.addVisibleNodes([e])}}if(a.focusNodeID===e){let t=a,l=n.findAncestorsForNode(e);a=t=t.set("formatMenuState",{nodeID:e,ancestors:l})}return this.contents=n,this.session=a,this.documentPreferences=l,this.ops.push(...i),this},h.prototype.setComplete=function(e,t){let{contents:n,documentPreferences:a}=this,l=[];{let[a,i]=n.setCompleteInNodes(e,t);if(null==i)return this;l.push(...i),n=a}let i=a.hideCompleted;return a=a.updateContents(n,i),this.contents=n,this.documentPreferences=a,this.ops.push(...l),this},h.prototype.setCollapse=function(e,t){let{contents:n}=this,[a,l]=n.setCollapseInNodes(e,t);if(null==l)throw Error("Unable to set collapse in nodes");return this.contents=a,this.ops.push(...l),this},h.prototype.insertNode=function(e,t){let{contents:n,session:a,slate:l,documentPreferences:o}=this,s=[];{let[a,l]=n.insertNode(e,t);if(null==l)throw Error(`Unable to add child node to ${t}`);s.push(...l),n=a}return l=l.update(e.id,()=>u.A.createWithNode(e)),a=i([e.id],n,l,a),o=r(n,o),this.contents=n,this.session=a,this.slate=l,this.documentPreferences=o,this.ops.push(...s),this},h.prototype.setFormatInNode=function(e,t,n){let{contents:a}=this,l=[];{let[i,r]=a.setFormatInNode(e,t,n);if(null==r)throw Error(`Unable to set format for ${e}`);l.push(r),a=i}return this.contents=a,this.ops.push(...l),this},h.prototype.adoptNoteIfNeeded=function(e,t){let{contents:n}=this;if(null==t)return this;let a=n.findNodeByID(t),l=a?.attributes?.note?.value;if(null!=l&&l.length>0)return this;let i=n.findNodeByID(e),r=i?.attributes?.note;return null==r?this:this.putNote(t,r)};let g=h},5890:(e,t,n)=>{"use strict";function a(e,t){let n,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",l=new FormData;for(let[i,r]of Object.entries(t.fields))"key"===i?(n=`${r}/${e.name||a}`,l.append(i,n)):l.append(i,r);return l.append("file",e),{formData:l,s3ObjectKey:n}}n.d(t,{A:()=>a})},86145:(e,t,n)=>{"use strict";n.d(t,{H:()=>a.A,N:()=>r});var a=n(5890),l=n(40860),i=n.n(l);function r(e,t){return i()(e.fields,(e,n,a)=>"key"===a?{...e,[a]:`${n}/${t}`}:{...e,[a]:n},{})}},62786:(e,t,n)=>{"use strict";n.d(t,{$K:()=>o,A_:()=>c,B2:()=>y,K9:()=>l,KE:()=>p,PD:()=>f,PX:()=>a,Ut:()=>s,d1:()=>u,gg:()=>r,vs:()=>d,yr:()=>m});var a,l,i=n(71211);let r="YYYY-MM-DD",o="HH:mm:ss",s="file",d="comment";(function(e){e.Assignee="assignee",e.Comment="comment",e.Date="date",e.Embed="embed",e.File="file"})(a||(a={})),function(e){e.Computer="computer",e.Cloud="cloud"}(l||(l={}));let u="text",c="file",p=12,f=`You may add up to ${p} attachments per list item.`,m="Sorry, you do not have the permissions to upload a file.",y="There are currently files being uploaded, please wait for them to be done before uploading.";i.RRule.DAILY,i.RRule.WEEKLY,i.RRule.MONTHLY,i.RRule.YEARLY,i.RRule.SU,i.RRule.MO,i.RRule.TU,i.RRule.WE,i.RRule.TH,i.RRule.FR,i.RRule.SA},8515:(e,t,n)=>{"use strict";n.d(t,{EI:()=>i,Gt:()=>a,Jo:()=>p,N:()=>f,Uy:()=>l,VC:()=>m,Vy:()=>r,aS:()=>y,bq:()=>c,pH:()=>o,vD:()=>u,xd:()=>s,yd:()=>d});let a="active",l="archived",i="templated",r="list",o="board",s="calendar",d="actionsheet",u="mindmap",c="orgchart",p="gantt",f=[r,o,s,d,u,c,p],m=20,y=30},78281:(e,t,n)=>{"use strict";n.d(t,{DY:()=>i,JW:()=>l,N_:()=>a,ct:()=>r,uA:()=>o});let a="INITIAL",l="SYNCED",i="WILL_SYNC",r="SYNCING",o="SYNC_FAILED"},94017:(e,t,n)=>{"use strict";var a=n(9211),l=n(12968),i=n(90618),r=n(83741),o=n(59727),s=n(58596),d=n(16535),u=n(58156),c=n.n(u),p=n(69843),f=n.n(p),m=n(96540),y=n(40961),h=n(47767),g=n(45588),N=n(93957),v=n(8504),k=n(4968),E=n(84976),A=n(68238),S=n(16073),b=n(27701),T=n(1265),I=n(39820),D=n(28797),O=n(69145),_=n(63064),w=n(80545),C=n(61225),x=n(1723),P=n(95420),F=n(11617),M=n(84743),R=n.n(M),L=n(5463),j=n(12681),U=n(3677),z=n(51698);let B=function(e){let{getAgentLocale:t,children:a}=e,l=function(e){let[t,n]=(0,m.useState)(e);return(0,m.useEffect)(()=>{let t=()=>{n(e())};return window.addEventListener("languagechange",t),()=>{window.removeEventListener("languagechange",t)}},[e]),t}(t),i=(0,x.I)(U.c),[r,o]=(0,P.n)(z.s),s=i.data?.me??null,d=s?.id??null,u=s?.locale??l??"en-US",c=s?.timezone??null,p=s?.preferences.dayOfWeek??null,f=s?.preferences.timeFormat??null,y=(0,C.useDispatch)(),[h,g]=m.useState({}),N=m.useMemo(()=>(0,F.getSupportedLanguage)(u)??"en-US",[u]);return m.useEffect(()=>{(async function(){g(Object.fromEntries(Object.entries(await n(69506)(`./${N}/strings.json`)).map(e=>{let[t,n]=e;return[t,n.message]})))})()},[N]),(0,m.useEffect)(()=>{let e=(0,j.tn)(u);(0,j.YC)(e),(0,j.cq)(e,p,f)},[p,y,u,f]),(0,m.useEffect)(()=>{(0,j.a6)(c)},[c]),(0,m.useEffect)(()=>{o.called||null==d||null!=c||r({variables:{input:{timezone:R().tz.guess()}}})},[d,r,o.called,c]),m.createElement(L.A,{locale:u,messages:h,onError:()=>{}},a)},H=(0,O.mc)(function(e){let{store:t,apolloClient:n,queryClient:a,getAgentLocale:l,helmetContext:i,router:r}=e;return m.createElement(w.vd,{context:i},m.createElement(_.Ht,{client:a},m.createElement(D.X,{client:n},m.createElement(C.Provider,{store:t},m.createElement(B,{getAgentLocale:l},m.createElement(E.pg,{router:r}))))))});var J=n(24458),G=n(75459),V=n(27404),$=n(59106),q=n(84824),Z=n(74945),W=n.n(Z),Q=n(43917);function Y(){return(0,s.assert)(!0,"`RELEASE` global constant must be defined"),"5.94.1"}function K(){return(0,s.assert)(!0,"`TIER` global constant must be defined"),"production"}var X=n(29904),ee=n(91188),et=n(73401),en=n(66547);class ea extends ee.C{client;constructor(e){super(),this.client=e}request(e){return new et.c(t=>this.client.subscribe({...e,query:(0,en.y)(e.query)},{next:t.next.bind(t),complete:t.complete.bind(t),error:e=>e instanceof Error?t.error(e):null!==e&&"object"==typeof e&&"code"in e&&"reason"in e?t.error(Error(`Socket closed with event ${e.code} ${e.reason||""}`)):t.error(new a.K4({graphQLErrors:Array.isArray(e)?e:[e]}))}))}}let el={ChatMessageFileBody:{file:e=>e.file??null,lambdaResponse:e=>e.lambdaResponse??null}};var ei=n(2414);let er=(0,ei.Ay)`
  scalar File
  scalar LambdaResponse

  extend type ChatMessageFileBody {
    file: File
    lambdaResponse: LambdaResponse
  }

  extend type WorkspaceMemberRemovePayload {
    isOptimistic: Boolean
  }
`;var eo=n(867);let es={CurrentUser:{keyFields:[],merge:!0,fields:{mfas:(0,eo.NB)(),pats:(0,eo.NB)()}},CurrentUserPreferences:{keyFields:!1,merge:!0},Image:{keyFields:!1,merge:!0},MyAccounts:{keyFields:[],merge:!0},ProjectAddons:{keyFields:!1,merge:!0,fields:{countdowns:{merge:function(e){return(t,n,a)=>{let{readField:l,mergeObjects:i}=a,r=t?t.slice(0):[],o=Object.create(null);return t&&t.forEach((t,n)=>{let a=l(e,t);null!=a&&(o[a]=n)}),n.forEach(t=>{let n=l(e,t);if(null!=n){let e=o[n];"number"==typeof e?r[e]=i(r[e],t):(o[n]=r.length,r.push(t))}}),r}}("id")}}},Size:{keyFields:!1,merge:!0},SpacePreferences:{keyFields:!1,merge:!0},UserAvatar:{keyFields:!1,merge:!0},UserAvatarV2:{keyFields:!1,merge:!0},Document:{fields:{preferences:{merge:!0},backlinks:(0,eo.NB)(),spaceAgents:(0,eo.NB)()}},AiEditorThread:{fields:{invocations:(0,eo.NB)()}},Space:{fields:{media:(0,eo.NB)(["filterby","orderby"]),accounts:(0,eo.NB)(["filterby"]),apps:(0,eo.NB)([])}},SpaceAgent:{fields:{medias:(0,eo.NB)(),projects:(0,eo.NB)(),directConvos:(0,eo.NB)()}},SpaceAgentDirectConvo:{fields:{segments:(0,eo.NB)()}},PublicSpaceAgentDirectConvo:{fields:{segments:(0,eo.NB)()}},SpaceAgentGroup:{fields:{agents:(0,eo.NB)(),convos:(0,eo.NB)()}},SpaceAgentGroupConvo:{fields:{segments:(0,eo.NB)()}},Piece:{keyFields:["name"]},Query:{fields:{search:(0,eo.NB)(["filterby","orderby"]),googlePeople:(0,eo.NB)(["filterby"]),document:{keyArgs:["id"],read(e,t){let{args:n,toReference:a}=t;return e??a({__typename:"Document",id:n?.id})}},membership:{keyArgs:["space_id"],read(e,t){let{cache:n,args:a,toReference:l}=t;if(null!=e)return e;let i=a?.space_id;if(null==i)return e;let r=n.readQuery({query:U.c}),o=r?.me?.id;return null==o?e:l({__typename:"Membership",id:`${o}@${i}`})}},space:{keyArgs:["id"],read(e,t){let{args:n,toReference:a}=t;if(null!=e)return e;let l=n?.id;return null==l?e:a({__typename:"Space",id:l})}},conversationMessages:(0,eo.NB)(["filterby"]),spaceAgents:(0,eo.NB)(["filterby"]),flows:(0,eo.NB)(["filterby"]),flowRuns:(0,eo.NB)(["filterby"]),conversations:(0,eo.NB)(["filterby"]),spaceAgentGroups:(0,eo.NB)(["filterby"]),spaceAgentGroupConvos:(0,eo.NB)(),spaceAgent:{read(e,t){let{args:n,toReference:a}=t;if(null!=e)return e;let l=n?.id??null;return null==l?e:a({__typename:"SpaceAgent",id:l})}},spaceMediaSpaceAgents:(0,eo.NB)(["id"])}}};var ed=n(53812),eu=n.n(ed);let ec="SETTINGS/SET_ITEM";var ep=n(72197);let ef={isNightMode:"true","visited-downloads":"false","seen-tour-001-step2":"false","seen-tour-001-step3":"false","seen-tour-001-step4":"false","seen-tour-001-step5":"false"},em=new Set(Object.keys(ef));function ey(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){let e=(0,ep.M0)();if(f()(e))return ef;try{return{isNightMode:e.getItem("isNightMode")||"true","visited-downloads":e.getItem("visited-downloads")||"false","seen-tour-001-step2":e.getItem("seen-tour-001-step2")||"false","seen-tour-001-step3":e.getItem("seen-tour-001-step3")||"false","seen-tour-001-step4":e.getItem("seen-tour-001-step4")||"false","seen-tour-001-step5":e.getItem("seen-tour-001-step5")||"false"}}catch(e){return console.warn(e),ef}}(),t=arguments.length>1?arguments[1]:void 0;if(t.type===ec){let{key:n,value:a}=t.payload;return em.has(n)?{...e,[n]:a}:e}return e}let eh=e=>e=>t=>{let n=e(t);if(t.type===ec){let e=(0,ep.M0)();if(!f()(e)){let{key:n}=t.payload;if(em.has(n)){let{value:a}=t.payload;try{!0===eu()(a)&&(a=JSON.parse(a)),e.setItem(n,a)}catch(e){console.warn(e)}}}}return n};var eg=n(74761),eN=n(67807),ev=n(68572),ek=n.n(ev),eE=n(15125),eA=n(88348),eS=n(49568),eb=n(33626),eT=n(98432),eI=n(78281);let eD={activeRoomID:null,fetchStatus:eT.TH,fetchResult:null,focusNodeID:null,formatMenuState:null,spaceIsNew:!1,syncState:eI.N_,outOfSync:!1,userIsNew:!1,siteID:void 0,backendError:null,sideDrawerIsOpen:!1,firebaseNotificationPermission:void 0,rightSidebarIsOpen:!1,noteOpenNodeId:null};class eO extends(0,eS.Record)(eD){static create(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{siteID:t=(0,eb.Z0)(),...n}=e;return new eO({...n,siteID:t})}updateWithNodeID(e,t,n){if(f()(e))return this;if(this.focusNodeID===e){let t=n.getIn([e,"text"],null);return f()(t)||!t.isFocused?this.set("focusNodeID",null).set("formatMenuState",null):this}{let a=n.getIn([e,"text"],null);if(f()(a))return this;if(a.isFocused){let n=t.findAncestorsForNode(e);return this.set("focusNodeID",e).set("formatMenuState",{nodeID:e,ancestors:n})}return this}}setFetch(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.set("fetchStatus",e).set("fetchResult",f()(t)?null:new eS.Map(t))}setNoteOpenNodeId(e){return this.set("noteOpenNodeId",e)}}function e_(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return arguments.length>1&&arguments[1],e}var ew=n(46894),eC=n.n(ew),ex=n(24713),eP=n.n(ex),eF=n(56737),eM=n(97288),eR=n(62786),eL=n(2543),ej=n.n(eL),eU=n(94394),ez=n.n(eU);eT.TH,eT.TH;let eB={total:0,attachments:[],uploadingAttachments:[]},eH={completedNodeIDs:new Set,recurNodeIDs:new Set};function eJ(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"end",a=t.findIndex(t=>t.id===e.id);return a>-1?[...t.slice(0,a),e,...t.slice(a+1)]:"start"===n?[e,...t]:[...t,e]}function eG(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:eH,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case eM.nB:return(0,d.Ay)(e,e=>{for(let[n,a]of(e.completedNodeIDs=new Set,e.recurNodeIDs=new Set,Object.entries(t.payload.attachments))){let t=e[n]??{};for(let[e,n]of Object.entries(a)){switch(e){case"assignees":case"dates":continue}t[e]=n}e[n]=t}});case eM.K0:return function(e,t){let{attachment:n,info:a}=t.payload,{data:l}=n;switch(l.type){case eR.PX.Date:return e;case eR.vs:{let t=c()(e,[n.nodeID],{}),l=c()(t,["comments"],{}),i=c()(l,["isActive"],!1),r=c()(l,["attachments"],[]),o=i?eJ(n,r):r,{total:s}=a;return{...e,[n.nodeID]:{...t,comments:{...l,total:s,attachments:o}}}}case eR.Ut:case eR.PX.Embed:{let t=c()(e,[n.nodeID],{}),l=c()(t,["media"],{}),i=eJ(n,c()(l,["attachments"],[]),"start"),{mediaTotal:r}=a;return{...e,[n.nodeID]:{...t,media:{...l,total:r,attachments:i}}}}case eR.PX.Assignee:default:return e}}(e,t);case eM.Mx:return function(e,t){let{nodeID:n}=t.payload,a=e?.[n]??{},l=a?.media??eB,i=a?.media?.uploadingAttachments??[];return{...e,[n]:{...a,media:{...l,uploadingAttachments:[t.payload,...i]}}}}(e,t);case eM.K6:return{...e,completedNodeIDs:new Set};case eM.Y7:return{...e,recurNodeIDs:new Set};case eM.jq:return function(e,t){let{which:n}=t.payload;switch(n.type){case eR.PX.Date:return e;case eR.vs:case eR.PX.Embed:case eR.Ut:{let t=c()(e,[n.nodeID],{}),a="";n.type===eR.Ut||n.type===eR.PX.Embed?a="media":n.type===eR.vs&&(a="comments");let l=c()(t,[a],{}),i=c()(l,["attachments"],[]).filter(e=>e.id!==n.id),r=Math.max(c()(l,["total"],1)-1,0);return{...e,[n.nodeID]:{...t,[a]:{...l,total:r,attachments:i}}}}case eR.PX.Assignee:default:return e}}(e,t);case eM.bC:return function(e,t){let{nodeID:n,uploadID:a}=t.payload,l=e?.[n]??{},i=l?.media??eB,r=(l?.media?.uploadingAttachments??[]).filter(e=>e.uploadID!==a);return{...e,[n]:{...l,media:{...i,uploadingAttachments:r}}}}(e,t);case eM.Vs:return eH;case eM.gI:return function(e,t){let{nodeID:n,comments:a}=t.payload,l=c()(e,[n],{}),i=c()(l,["comments"],{});return{...e,[n]:{...l,comments:{...i,attachments:a}}}}(e,t);case eM.eY:return function(e,t){let{nodeID:n,fetchStatus:a}=t.payload,l=c()(e,[n],{}),i=c()(l,["comments"],{});return{...e,[n]:{...l,comments:{...i,fetchStatus:a}}}}(e,t);case eM.zH:return function(e,t){let{nodeID:n,uploadStatus:a}=t.payload,l=c()(e,[n],{}),i=c()(l,["comments"],{});return{...e,[n]:{...l,comments:{...i,uploadStatus:a}}}}(e,t);case eM.wr:return function(e,t){let{nodeID:n,isActive:a}=t.payload,l=c()(e,[n],{}),i=c()(l,["comments"],{});return{...e,[n]:{...l,comments:{...i,isActive:a}}}}(e,t);case eM.wP:return function(e,t){let{attachments:n}=t.payload;return n.reduce((t,n)=>{let{data:a}=n,l=null;switch(a.type){case eR.vs:l="comments";case eR.PX.Date:}if(null!=l){let a=c()(e,[n.nodeID],{}),i=c()(a,[l],{}),r=c()(i,["attachments"],[]),o=eP()(r,e=>e.id===n.id);if(o>-1)return eC()(t,{[n.nodeID]:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return eC()(e,{[l]:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{attachments:[],total:0};return eC()(e,{attachments:{$splice:[[o,1,n]]}})}})}})}return t},e)}(e,t);case eF.R_:return function(e,t){let n=t.payload,a=ej().groupBy(n,"nodeId");return(0,d.Ay)(e,e=>{let t=new Set(Object.keys(a));for(let n in e)t.has(n)||delete e[n].assignees;for(let[t,n]of Object.entries(a)){let a=e[t];if(null==a)e[t]={assignees:{total:n.length,attachments:n}};else if(null==a.assignees)a.assignees={total:n.length,attachments:n};else{let e=new Set;for(let t of n){let n=a.assignees.attachments.findIndex(e=>e.id===t.id);-1===n?(a.assignees.attachments.push(t),a.assignees.total+=1):a.assignees.attachments[n]=t,e.add(t.id)}for(let t=a.assignees.total-1;t>=0;t--){let n=a.assignees.attachments[t];e.has(n.id)||(a.assignees.attachments.splice(t,1),a.assignees.total-=1)}}}})}(e,t);case eF.G0:return function(e,t){let n=t.payload,a=ej().groupBy(n,"nodeId");return(0,d.Ay)(e,e=>{let t=new Set(Object.keys(a));for(let n in e)t.has(n)||delete e[n].dates;for(let[t,n]of Object.entries(a)){let a=e[t];if(null==a)e[t]={dates:{total:n.length,attachments:n}};else if(null==a.dates)a.dates={total:n.length,attachments:n};else for(let e of n){let t=a.dates.attachments.findIndex(t=>t.id===e.id);-1===t?(a.dates.attachments.push(e),a.dates.total+=1):a.dates.attachments[t]=e}}})}(e,t);case eF.l$:return function(e,t){let n=t.payload;return(0,d.jM)(e,e=>{for(let t of n){let n=t.node_id,a=e[n];if(null==a)e[n]={countdowns:{total:t.removed?0:1,attachments:[t]}};else if(null==a.countdowns)a.countdowns={total:t.removed?0:1,attachments:[t]};else{let e=a.countdowns.attachments.findIndex(e=>e.id===t.id);if(-1===e)a.countdowns.attachments.push(t),t.removed||(a.countdowns.total+=1);else{let n=a.countdowns.attachments[e];a.countdowns.attachments[e]=t,!n.removed&&t.removed?a.countdowns.total-=1:n.removed&&!t.removed&&(a.countdowns.total+=1)}}}})}(e,t);case eF.Me:return function(e,t){let n=t.payload,a=ez()(n,"node_id");return(0,d.Ay)(e,e=>{let t=new Set(Object.keys(a));for(let n in e)t.has(n)||delete e[n].reactionCollections;for(let[t,n]of Object.entries(a)){let a=e[t];if(null==a)e[t]={reactionCollections:{total:n.length,attachments:n}};else if(null==a.reactionCollections)a.reactionCollections={total:n.length,attachments:n};else for(let e of n){let t=a.reactionCollections.attachments.findIndex(t=>t.id===e.id);-1===t?(a.reactionCollections.attachments.push(e),a.reactionCollections.total+=1):a.reactionCollections.attachments[t]=e}}})}(e,t);default:return e}}var eV=n(91648),e$=n.n(eV),eq=n(10335);function eZ(e,t){return function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,a=arguments.length>1?arguments[1]:void 0,l=t[a.type];return l?l(n,a):n}}let eW={user:null,accounts:{list:[],fetchStatus:eT.TH,errors:[]}},eQ=eZ(eW,{[eq.fN]:function(e,t){return(0,d.Ay)(e,n=>{let{id:a}=t.payload,l=[...c()(e,["accounts","list"],[]),a];return n.accounts.errors=l,n})},[eq.Dc]:function(e,t){return(0,d.Ay)(e,e=>(e.accounts.errors=[],e))},[eq.v2]:function(e,t){return(0,d.Ay)(e,n=>{let{id:a}=t.payload,l=c()(e,["accounts","list"],[]),i=e$()(l,a);return n.accounts.list=i,n})},[eq.Ot]:function(e,t){return(0,d.Ay)(e,e=>(e.accounts.fetchStatus=t.payload.fetchStatus,e))},[eq.v1]:function(e,t){return(0,d.Ay)(e,e=>{let{accounts:n}=t.payload;return e.accounts.list=n,e})},[eq.se]:function(e,t){return(0,d.Ay)(e,e=>{let{user:n}=e,{user:a}=t.payload;return f()(n)?e.user=a:f()(a)?e.user=a:Object.keys(a).forEach(e=>{n[e]!==a[e]&&(n[e]=a[e])}),e})}});var eY=n(54769);let eK=eZ({latestMessageAt:void 0},{[eY.RG]:function(e,t){let{latestMessageAt:n}=t.payload;return(0,d.Ay)(e,e=>{e.latestMessageAt=n})},[eY.Yt]:function(e){return(0,d.Ay)(e,e=>{e.latestMessageAt=void 0})}});function eX(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:eE.Contents.create();return arguments.length>1&&arguments[1],e}function e0(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return arguments.length>1&&arguments[1],e}var e1=n(35788),e8=n(29373),e2=n(88514),e6=n(72188),e5=n(53647);let e4=new eS.Map;function e7(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e4,t=arguments.length>1?arguments[1]:void 0,{focusID:n,caretPosition:a,unfocusID:l}=t.payload,i=e;return f()(l)||(i=i.update(l,e=>e.unfocusNode())),i.update(n,e=>e.focusNode(a))}function e3(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e4,t=arguments.length>1?arguments[1]:void 0;return t.type,e}var e9=n(33829),te=n(32649),tt=n(8515);let tn={type:tt.pH,rank:"B",displayedFields:{}},ta={type:tt.Vy,rank:"A",displayedFields:{}},tl={type:tt.vD,rank:"C",displayedFields:{}},ti={type:tt.bq,rank:"D",displayedFields:{}};var tr=n(90872),to=n(9903),ts=n(2404),td=n.n(ts),tu=n(68090),tc=n.n(tu),tp=n(56170),tf=n.n(tp),tm=n(93334),ty=n(37653);function th(e,t,n){let a=t.findNodeByID(e);if(null==a||a.collapsed||!a.hasChild)return null;for(let e=a.children.size-1;e>=0;e--){let t=a.children.get(e);if(n.isNodeIDVisible(t))return t}return null}var tg=n(37726),tN=n(12660),tv=n.n(tN),tk=n(62193),tE=n.n(tk),tA=n(97756);function tS(e,t,n,a,l){let{contents:i,slate:r,documentPreferences:o}=e,s=i.getIn(["nodes",t]);if(null==s)return e;let u=!1,c=s.children.first();if(null!=c){let t=i.getIn(["nodes",c]);if(null==t)return e;let n=o.hideCompleted;u=0===t.textString.length&&(!n||!t.completed)}if(n=n.select(a.selection).delete().blur(),u){if(null==c)return e;let l=r.getIn([c,"text"]).change().insertFragment(a.fragment);l=l.collapseToStartOf(l.value.document).focus();let[i,o]=tr.A.perform(e,e=>e.changeNodeText(t,n).changeNodeText(c,l));return null==i?(console.warn(o),e):i.commit(e)}{let i=(0,e9.A)(),r={type:"fragment",children:[function(e,t,n,a,l){let i=function(e,t,n){let a;let{contents:l,documentPreferences:i}=e,r=t.children.find(e=>i.isNodeIDVisible(e));if(null!=r){let e=l.findNodeByID(r);if(e?.format?.node!=null)return eE.NodeFormat.create({node:e.format.node})}if(null==n)return null;let o=l.findNodeByID(n);if(null==o)return null;let s=o.indexOfChildNodeID(t.id);if(s<=0)return null;for(let e=s-1;e>0;e--){let t=o.children.get(e);if(null!=t&&i.isNodeIDVisible(t)){a=t;break}}if(null==a)return null;let d=l.findNodeByID(a);if(null==d)return null;let u=d.children.find(e=>i.isNodeIDVisible(e));if(null==u)return null;let c=l.findNodeByID(u);if(null==c)return null;let p=c.format;return null==p?null:eE.NodeFormat.create({node:p.node})}(l,n,a),r={id:e,type:"text",text:(0,to.w3)(t.fragment),children:[]};return(0,d.Ay)(r,e=>{e.format=i})}(i,a,s,l,e)]},[o,u]=tr.A.perform(e,e=>e.changeNodeText(t,n).insertFragmentAdjacentToTarget({id:t,position:"afterbegin"},r).focusNode(i,0));return null==o?(console.warn(u),e):o.commit(e)}}function tb(e,t,n,a,l){if(l.right.isEmpty){let i=(0,e9.A)(),r={id:i,type:"text",text:(0,to.w3)(l.right.fragment),children:[]};r.format=t.format?.toJS()??null;let o={type:"fragment",children:[r]},[s,d]=tr.A.perform(e,e=>e.changeNodeText(t.id,a).insertFragmentAdjacentToTarget({id:t.id,parentId:tc()(n),position:"afterend"},o).focusNode(i,-1));return null==s?(console.warn(d),e):s.commit(e)}{a=a.select(l.left.selection).delete();let i=(0,e9.A)(),r={id:i,type:"text",text:(0,to.w3)(l.left.fragment),children:[]};r.format=t.format?.toJS()??null;let o={type:"fragment",children:[r]},s=l.left.isEmpty?[i,-1]:[t.id,0],[d,u]=tr.A.perform(e,e=>e.changeNodeText(t.id,a).insertFragmentAdjacentToTarget({id:t.id,parentId:tc()(n),position:"beforebegin"},o).focusNode(...s));return null==d?(console.warn(u),e):d.commit(e)}}var tT=n(20609),tI=n(88905),tD=n(95093),tO=n.n(tD),t_=n(68467);function tw(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Etc/UTC",n=t_.DateTimeDescSchema.required().validate(e);if(null!=n.error)throw n.error;let{date:a,time:l,timezone:i}=n.value;if(null==i&&null==R().tz.zone(t))throw new s.HttpError({message:"Invalid default timezone",code:"BAD_REQUEST",scope:{extras:{defaultTimezone:t}}});return null==l?R().tz(a,i??t):R().tz(`${a}T${l}`,i??t)}function tC(e,t){if(null==t)return null;let n=e.contents;if(null==n)return null;let a=n.findNodeByID(t);return null==a?null:a.completed}function tx(e,t){if(null==t)return null;let n=e.contents;if(null==n)return null;let a=n.findNodeByID(t);return null==a?null:a.textString}function tP(e,t){if(null==t)return null;let n=e.attachments?.[t]?.dates?.attachments?.[0];if(null==n)return null;let a=n.addonDate.start,l=n.addonDate.end;return null!=a&&null!=l?{start:tw(a),end:tw(l)}:null!=a?{start:null,end:tw(a)}:null!=l?{start:null,end:tw(l)}:null}function tF(e,t){if(null==t)return null;let n=e.contents;if(null==n)return null;let a=n.findNodeByID(t);if(null==a)return null;let l=(0,F.extractHashtagsWithIndices)(a.textString);return 0===l.length?null:l[0].hashtag}function tM(e,t){if(null==t)return null;let n=e.contents;if(null==n)return null;let a=n.findNodeByID(t);if(null==a)return null;let l=(0,F.extractMentions)(a.textString);return 0===l.length?null:l[0]}function tR(e,t){if(null==t)return null;let n=e.contents.findNodeByID(t),a=n?.attributes?.created;if(null==a)return null;let l=new Date(a.at);return tO()(l)}function tL(e){return(t,n)=>null!=t&&null!=n?e(t,n):null!=t?-1:null!=n?1:0}function tj(e,t){return e>t?1:e<t?-1:0}let tU=tL(function(e,t){return e>t?-1:e<t?1:0}),tz=tL(function(e,t){return e>t?1:e<t?-1:0}),tB=tL(function(e,t){let n=tj(e.end,t.end);return 0!==n?n:null!=e.start&&null!=t.start?tj(e.start,t.start):null!=e.start?-1:null!=t.start?1:0}),tH=tL(function(e,t){return null!=e.start&&null!=t.start?tj(e.start,t.start):null!=e.start?-1:null!=t.start?1:0}),tJ=tL(function(e,t){return e.localeCompare(t)}),tG=tL(function(e,t){return t.localeCompare(e)}),tV=tL(tj);var t$=n(19747),tq=n.n(t$),tZ=n(87612),tW=n.n(tZ),tQ=n(42922);let tY=function(e){if(null==e)return!1;let{start:t,end:n}=e.addonDate;if(!(0,tQ.y)(e.addonDate))return!1;let{recurrence:a}=e.addonDate;return null!=t_.RecurringDateRangeDescHelpers.nextRecurringDateRangeDesc({start:t,end:n,recurrence:a},new Date)};var tK=n(84478);function tX(e,t,n){return 0===e.document.text.length||e.change().selectAll().value.marks.some(e=>null!=e&&e.type===t&&(null==n||e.data.isSuperset(n)))}let t0=eZ(void 0,{[eM.Bt]:function(e,t){let{contents:n,history:a,session:l,slate:i}=e,{nodeID:r}=t.payload;if(n.hasIn(["nodes",r])){let o=i.getIn([r,"text"]),s=(i=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e4,t=arguments.length>1?arguments[1]:void 0,{nodeID:n,change:a}=t.payload;return e.update(n,e=>e.setTextWithValue(a.value))}(i,t)).getIn([r,"text"]);if(f()(o)||o.document!==s.document){let e=(0,to.w3)(s.document),[t,l]=n.setTextInNodeWithDeltaSnapshot(r,e);null!=l&&(a=a.saveChange({ops:[l]}),n=t)}return l=l.focusNodeID===r?l.updateWithNodeID(r,n,i):l.updateWithNodeID(l.focusNodeID,n,i).updateWithNodeID(r,n,i),{...e,contents:n,session:l,slate:i,history:a}}return(console.warn({message:`Node (${r}) not found, discarding action…`,action:t}),l.focusNodeID===r)?(l=l.updateWithNodeID(r,n,i),{...e,session:l}):e},[eM.MQ]:function(e,t){let{nodeId:n,text:a}=t.payload,[l,i]=tr.A.perform(e,e=>e.setNodeText(n,a));return null!=i?(console.warn(i),e):l.commit(e)},[eM.eI]:function(e,t){let{contents:n}=e,{session:a,slate:l}=e,{focusID:i,caretPosition:r}=t.payload,o=n.findNodeByID(i);if(null==o)return e;let s=o.textString.length;return l=null!=r&&r>s?e7(l,{...t,payload:{...t.payload,caretPosition:-1}}):e7(l,t),a=a.updateWithNodeID(i,n,l),{...e,session:a,slate:l}},[eM.JX]:function(e,t){let{contents:n}=e,{session:a,slate:l}=e,i=t.payload.unfocusID||a.focusNodeID;return f()(i)?e:(l=l.update(i,e=>e?.unfocusNode()),a=a.updateWithNodeID(i,n,l),{...e,session:a,slate:l})},[eM.Pt]:function(e,t){let{contents:n,history:a,search:l,documentPreferences:i,session:r,slate:o}=e,{node:s,parentID:d,insertAtIndex:u}=t.payload,[c,p]=n.insertNode(s,d,u);return a=a.saveChange({ops:p}),n=c,o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e4,t=arguments.length>1?arguments[1]:void 0,{node:n}=t.payload;return e.update(n.id,function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:eA.A.create();return e.setWithNode(n)})}(o,t),l=l.addVisibleNodes([s.id]),i=i.addVisibleNodes([s.id]),r=r.updateWithNodeID(s.id,n,o),{...e,contents:n,history:a,documentPreferences:i,search:l,session:r,slate:o}},[eM.rW]:function(e,t){let{contents:n}=e,{ancestors:a,currentID:l}=t.payload,i=n.extractFragment([l]);i=(0,ty.replaceIDs)(i);let r=tc()(a),[o,s]=tr.A.perform(e,e=>{e=e.insertFragmentAdjacentToTarget({id:l,parentId:r,position:"afterend"},i);let t=i.children[0]?.id;return null!=t&&(e=e.focusNode(t,-1)),e});return null==o?(console.warn(s),e):o.commit(e)},[e8.ii]:function(e,t){let{ancestors:n,nodeIds:a}=t.payload;if(0===a.length)return e;let{contents:l}=e,i=l.extractFragment(a);i=(0,ty.replaceIDs)(i);let r=ej().last(n),o=ej().last(a);(0,s.assert)(null!=o);let[d,u]=tr.A.perform(e,e=>{e=e.insertFragmentAdjacentToTarget({id:o,parentId:r,position:"afterend"},i);let t=ej().last(i.children)?.id;return null!=t&&(e=e.focusNode(t,-1)),e});return null==d?(console.warn(u),e):d.commit(e)},[eM._E]:function(e,t){let{ancestors:n,currentID:a}=t.payload,[l,i]=tr.A.perform(e,e=>{let t=e,l=(t=t.indentNode(a,n)).contents.findParentNodeByID(a);return null!=l&&l.collapsed?t.setCollapse([l.id],!1):t});return null==l?(console.warn(i),e):l.commit(e)},[e8.VE]:function(e,t){let{contents:n,history:a,session:l}=e,{nodeIds:i,parentId:r}=t.payload,[o,s]=n.indentNodes(i,r);if(null==s)return e;a=a.saveChange({ops:s}),n=o;{let e=l;for(let t of i)if(e.focusNodeID===t){let a=n.findAncestorsForNode(t);e=e.set("formatMenuState",{nodeID:t,ancestors:a});break}l=e}return{...e,contents:n,history:a,session:l}},[eM.pZ]:function(e,t){let{contents:n,history:a,session:l,documentPreferences:i}=e,{ancestors:r,currentID:o}=t.payload,[s,d]=n.outdentAtNode(o,r);if(null!=d){a=a.saveChange({ops:d});let e=n.findParentNodeByID(o)?.id;null!=e&&i.hideCompleted&&function(e,t){if(null==t||null==t.children)return!1;let n=t.children.every(t=>!e.isNodeIDVisible(t));return t.completed&&n}(i,s.findNodeByID(e))&&(i=i.removeVisibleNodes([e])),n=s}if(l.focusNodeID===o){let e=n.findAncestorsForNode(o);l=l.set("formatMenuState",{nodeID:o,ancestors:e})}return{...e,contents:n,history:a,session:l,documentPreferences:i}},[e8.IH]:function(e,t){let{contents:n,history:a,session:l}=e,{nodeIds:i}=t.payload,[r,o]=n.outdentNodes(i);if(null==o)return e;a=a.saveChange({ops:o}),n=r;{let e=l;for(let t of i)if(e.focusNodeID===t){let a=n.findAncestorsForNode(t);e=e.set("formatMenuState",{nodeID:t,ancestors:a});break}l=e}return{...e,contents:n,history:a,session:l}},[e2.C]:function(e,t){let[n,a]=tr.A.perform(e,e=>e.applyLocalChangeset(t.payload));return null!=a?(console.warn("Unable to apply local changeset"),e):n.commit(e)},[e5.cF]:function(e,t){let{contents:n,documentPreferences:a,meta:l,slate:i}=e,{changeset:r}=t.payload,{id:o,from:s,ops:d,to:u}=r;if(l.id!==o)return console.warn("Changeset id does not match."),e;if(l.revision!==s.revision)return console.warn("Changeset from revision does not match."),e;for(let e of(n=n.apply(r),d))if("nodes"===e.p[0]){if((0,eE.isSubtypeOp)(e,"delta")){let{p:t,o:n}=e;if(3!==t.length)continue;let a=t[1];if(!td()(t,["nodes",a,"text"]))continue;i=i.updateIn([a,"text"],e=>{let t=(0,to.IC)(e,n),a=e.change();return a.applyOperations(t,{save:!1}),a.value})}else if((0,eE.isObjectDeleteOp)(e)){let{p:t}=e;if(2!==t.length)continue;let n=t[1];i=i.delete(n),a=a.removeVisibleNodes([n])}else if((0,eE.isObjectInsertOp)(e)){let{p:t}=e;if(2!==t.length)continue;let l=t[1],r=n.findNodeByID(l);i=i.set(l,eA.A.createWithNode(r)),a=a.checkNodes(n,[r])}else if((0,eE.isObjectReplaceOp)(e)){let{p:t}=e;if(2!==t.length){let e=t[1],l=n.findNodeByID(e);a=a.checkNodes(n,[l]);continue}let l=t[1];throw Error(`We do not support replacing node at ${l}…`)}}return l={...l,...u},{...e,contents:n,documentPreferences:a,meta:l,slate:i}},[eM.h5]:function(e,t){let{ancestors:n,currentID:a,adopterID:l}=t.payload,[i,r]=tr.A.perform(e,e=>{let t=e,i=function(e,t,n){let a=e.findNextNodeId(n,{skipDescendants:!0});for(;null!=a;){if(t.isNodeIDVisible(a))return a;a=e.findNextNodeId(a)}let l=e.findPreviousNodeID(n);for(;null!=l;){if(l===e.rootID)return e.rootID;if(t.isNodeIDVisible(l))break;l=e.findPreviousNodeID(l)}return l}((t=t.adoptChildrenIfNeeded(a,l)).contents,t.documentPreferences,a);return t=t.deleteNode(a,tc()(n)),null!=i&&(t=t.focusNode(i,-1)),t});return null!=r?(console.warn(r),e):i.commit(e)},[eM.m]:function(e,t){if(e.meta.id!==t.payload.documentID)return e;let{nodeIDs:n}=t.payload,[a,l]=tr.A.perform(e,t=>{let{contents:a,documentPreferences:l}=e,i=t.deleteNodes(n),r=tf()(n);if(null==r)return i;let o=(0,tm.A)(a,l,r);return null==o?i:i.focusNode(o,-1)});return null==a?(console.warn(l),e):a.commit(e)},[eM.c8]:function(e,t){let{contents:n,history:a}=e,{source:l}=t.payload,i=(0,eE.targetFromOldTarget)(t.payload.target),[r,o]=n.moveNodesAdjacentTo(l,i);return null==o?e:(a=a.saveChange({ops:o}),n=r,(0,d.Ay)(e,e=>(e.contents=n,e.history=a,e)))},[e8.VH]:function(e,t){let{contents:n,history:a}=e,{source:l,target:i}=t.payload,[r,o]=n.moveNodesAdjacentTo(l,i);return null==o?e:(a=a.saveChange({ops:o}),n=r,(0,d.Ay)(e,e=>(e.contents=n,e.history=a,e)))},[eM.vB]:function(e,t){let{contents:n,history:a,documentPreferences:l,attachments:i}=e,r=[],o=[];n.traverse((e,t)=>0===t.length||(e.completed?r.push(e.id):o.push(e.id),!0));let s=[],u=[],c=[],p=o.length>0;if(p)for(let t of o)s.push(t),tY((e?.attachments?.[t]?.dates?.attachments??[]).filter(e=>(0,tQ.y)(e.addonDate)).find(e=>e.nodeId===t))?c.push(t):u.push(t);else for(let e of r)u.push(e);let[f,m]=n.setCompleteInNodes(u,p);return null!=m&&(n=f,a=a.saveChange({ops:m}),l.hideCompleted&&(l=l.updateContents(n,l.hideCompleted))),i=(0,d.Ay)(i,e=>{for(let t of s)e.completedNodeIDs.add(t);for(let t of c)e.recurNodeIDs.add(t);return e}),{...e,contents:n,history:a,attachments:i,documentPreferences:l}},[eM.FM]:function(e,t){let{contents:n,history:a}=e,l=[],i=[];n.traverse((e,t)=>0===t.length||0===e.children.size||(e.collapsed?l.push(e.id):i.push(e.id),!0));let r=i.length>0,[o,s]=n.setCollapseInNodes(r?i:l,r);return null!=s&&(n=o,a=a.saveChange({ops:s})),(0,d.Ay)(e,e=>(e.contents=n,e.history=a,e))},[eM.D5]:function(e,t){var n;let{currentID:a}=t.payload,{contents:l,history:i,session:r,slate:o}=e,s=t.payload.collapse;null==s&&(s=!(s=l.getIn(["nodes",a,"collapsed"])??!1));let[u,c]=l.setCollapseInNodes([a],s);return null==c?e:(null!=(n=r.focusNodeID)&&u.findDescendantsForNode(a).includes(n)&&(o=o.update(a,e=>e.focusNode(-1)),r=r.updateWithNodeID(a,u,o)),i=i.saveChange({ops:c}),l=u,(0,d.Ay)(e,e=>(e.contents=l,e.history=i,e.session=r,e.slate=o,e)))},[eM.Dt]:function(e,t){let n=t.payload.nodeIDs,{contents:a}=e,l=!tq()(n,e=>a.getIn(["nodes",e,"completed"])),i=[],r=[],o=[];for(let t of n){let n=c()(e,["attachments",t,"dates","attachments"],[]),s=tW()(n,e=>(0,tQ.y)(e.addonDate));0===s.length?l!==a.getIn(["nodes",t,"completed"])&&(r.push(t),l&&i.push(t)):l&&!a.getIn(["nodes",t,"completed"])?(i.push(t),tY(s.find(e=>e.nodeId===t))?o.push(t):r.push(t)):!l&&a.getIn(["nodes",t,"completed"])&&r.push(t)}let s=e;if(r.length>0){let[e,t]=tr.A.perform(s,e=>{let t=e;if(t=t.setComplete(r,l),l&&null!=t.session.focusNodeID&&r.includes(t.session.focusNodeID)){let e=function(e,t,n){let a=e.findNextNodeId(n);if(!t.hideCompleted)return a;for(;null!=a&&!t.isNodeIDVisible(a);)a=e.findNextNodeId(a);return a}(t.contents,t.documentPreferences,t.session.focusNodeID);null==e&&t.documentPreferences.hideCompleted&&(e=function(e,t,n){let a=e.findPreviousNodeID(n);if(!t.hideCompleted)return a;for(;null!=a&&!(a===e.rootID||t.isNodeIDVisible(a));)a=e.findPreviousNodeID(a);return a}(t.contents,t.documentPreferences,t.session.focusNodeID)),null!=e&&(t=t.focusNode(e,-1))}return t});null!=e?s=e.commit(s):console.warn(t)}return i.length>0&&(s=(0,d.Ay)(s,e=>{for(let t of i)e.attachments.completedNodeIDs.add(t);return e})),o.length>0&&(s=(0,d.Ay)(s,e=>{for(let t of o)e.attachments.recurNodeIDs.add(t);return e})),s},[eM.mu]:function(e,t){let{contents:n}=e,a=n.findDescendantsForNode(t.payload.nodeId),l=[t.payload.nodeId,...a],i=[],r=[];for(let e of l)n.getIn(["nodes",e,"completed"])?i.push(e):r.push(e);let o=[],s=[],u=[],c=r.length>0;if(c)for(let t of r)o.push(t),tY((e?.attachments?.[t]?.dates?.attachments??[]).filter(e=>(0,tQ.y)(e.addonDate)).find(e=>e.nodeId===t))?u.push(t):s.push(t);else for(let e of i)s.push(e);let p=e;if(s.length>0){let[e,n]=tr.A.perform(p,e=>{let n=e;n=n.setComplete(s,c);let a=t.payload.nodeId;if(!n.documentPreferences.hideCompleted)return n.focusNode(a,-1);let l=(0,tg.A)(n.contents,n.documentPreferences,a);return null==l&&(l=(0,tm.A)(n.contents,n.documentPreferences,a)),null!=l&&(n=n.focusNode(l,-1)),n});null!=e?p=e.commit(p):console.warn(n)}return o.length>0&&(p=(0,d.Ay)(p,e=>{for(let t of o)e.attachments.completedNodeIDs.add(t);return e})),u.length>0&&(p=(0,d.Ay)(p,e=>{for(let t of u)e.attachments.recurNodeIDs.add(t);return e})),p},[eM.GJ]:function(e,t){let{contents:n,history:a,slate:l}=e,{nodeID:i}=t.payload;if(!n.nodes.has(i))return e;let r=(l=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e4,t=arguments.length>1?arguments[1]:void 0,{nodeID:n,data:a}=t.payload;return e.update(n,e=>e.toggleLink(a))}(l,t)).getIn([i,"text"]),o=(0,to.w3)(r.document),[s,d]=n.setTextInNodeWithDeltaSnapshot(i,o);return null!=d&&(a=a.saveChange({ops:[d]}),n=s),{...e,contents:n,history:a,slate:l}},[eM.i]:function(e,t){let{contents:n,history:a,slate:l}=e,{nodeID:i}=t.payload;if(!n.nodes.has(i))return e;let r=(l=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e4,t=arguments.length>1?arguments[1]:void 0,{nodeID:n,projectTitle:a,data:l,range:i}=t.payload;return e.update(n,e=>e.insertAutocompleteHyperlink(a,l,i))}(l,t)).getIn([i,"text"]),o=(0,to.w3)(r.document),[s,d]=n.setTextInNodeWithDeltaSnapshot(i,o);return null!=d&&(a=a.saveChange({ops:[d]}),n=s),{...e,contents:n,history:a,slate:l}},[eM.y4]:function(e,t){let{contents:n,history:a,slate:l}=e,{nodeID:i}=t.payload;if(!n.nodes.has(i))return e;let r=(l=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e4,t=arguments.length>1?arguments[1]:void 0,{nodeID:n,handle:a,range:l}=t.payload;return e.update(n,e=>e.insertAutocompleteMention(a,l))}(l,t)).getIn([i,"text"]),o=(0,to.w3)(r.document),[s,d]=n.setTextInNodeWithDeltaSnapshot(i,o);return null!=d&&(a=a.saveChange({ops:[d]}),n=s),{...e,contents:n,history:a,slate:l}},[eM.gc]:function(e,t){let{contents:n,history:a,slate:l}=e,{nodeID:i}=t.payload;if(!n.nodes.has(i))return e;let r=(l=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e4,t=arguments.length>1?arguments[1]:void 0,{nodeID:n,tag:a,range:l}=t.payload;return e.update(n,e=>e.insertAutocompleteTag(a,l))}(l,t)).getIn([i,"text"]),o=(0,to.w3)(r.document),[s,d]=n.setTextInNodeWithDeltaSnapshot(i,o);return null!=d&&(a=a.saveChange({ops:[d]}),n=s),{...e,contents:n,history:a,slate:l}},[eM.L3]:function(e,t){let{contents:n,history:a,slate:l}=e,{nodeID:i}=t.payload;if(!n.nodes.has(i))return e;let r=(l=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e4,t=arguments.length>1?arguments[1]:void 0,{nodeID:n,text:a,range:l}=t.payload;return e.update(n,e=>e.insertAutocompleteText(a,l))}(l,t)).getIn([i,"text"]),o=(0,to.w3)(r.document),[s,d]=n.setTextInNodeWithDeltaSnapshot(i,o);return null!=d&&(a=a.saveChange({ops:[d]}),n=s),{...e,contents:n,history:a,slate:l}},[eM.Nb]:function(e,t){let{contents:n,history:a}=e,{slate:l}=e,{nodeID:i}=t.payload;if(!n.nodes.has(i))return e;let r=(l=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e4,t=arguments.length>1?arguments[1]:void 0,{nodeID:n,type:a,data:l}=t.payload;return e.update(n,e=>e.toggleMark(a,l))}(l,t)).getIn([i,"text"]),o=(0,to.w3)(r.document),[s,d]=n.setTextInNodeWithDeltaSnapshot(i,o);return null!=d&&(a=a.saveChange({ops:[d]}),n=s),{...e,contents:n,history:a,slate:l}},[e8.UZ]:function(e,t){let{contents:n,slate:a}=e,{selectedIds:l,type:i,data:r}=t.payload,o=function(e,t){let n=[];for(let a of e){t.rootID!==a&&n.push(a);let e=t.findDescendantsForNode(a);n.push(...e)}return n}(l,n),s=function(e,t,n,a){for(let l of e){let e=a.getIn([l,"text"]);if(null==e||!tX(e,t,n))return!1}return!0}(o,i,r,a),[d,u]=tr.A.perform(e,e=>{for(let t of o){let n=e.slate.getIn([t,"text"]);if(null==n)throw Error("Unknown Node ID");if(s){let a=n.change().call(tK.dK,i,r);e=e.changeNodeText(t,a)}else if(!tX(n,i,r)){let a=n.change().call(tK.dK,i,r);e=e.changeNodeText(t,a)}}return e});return null==d?(console.warn(u),e):d.commit(e)},[e8.YD]:function(e,t){let n=eE.Contents.create(),a=new eE.History,l=tI.A.create(),i=eO.create({urlComponents:e.session.urlComponents,firebaseNotificationPermission:e.session.firebaseNotificationPermission}),r=n.nodes.map(eA.A.createWithNode),o=tT.A.create();return{...e,attachments:eH,contents:n,history:a,documentPreferences:o,meta:{},search:l,session:i,slate:r}},[eM.RR]:function(e,t){let{contents:n}=t.payload,a=eE.Contents.deserialize(n),l=new eE.History,i=tI.A.create(),r=a.nodes.map(eA.A.createWithNode);return{...e,contents:a,history:l,search:i,slate:r}},[eM.bo]:function(e,t){var n;let{contents:a,history:l}=e,{nodeID:i,type:r,value:o}=t.payload,s=(n=a,Array.isArray(i)?1===i.length&&i[0]===n.rootID?n.rootNode.children.toArray():i:i===n.rootID?n.rootNode.children.toArray():[i]),u=a,c=[];for(let t of s){let[n,a]=u.setFormatInNode(t,r,o);if(null==a)return e;u=n,c.push(a)}return l=l.saveChange({ops:c}),a=u,(0,d.Ay)(e,e=>(e.contents=a,e.history=l,e))},[eM.hJ]:function(e,t){let{nodeId:n,note:a}=t.payload,l=e,[i,r]=tr.A.perform(l,e=>e.putNote(n,a));return null!=i?l=i.commit(l):console.warn(r),l},[eM.O$]:function(e,t){let{session:n}=e;return n=n.setNoteOpenNodeId(t.payload.nodeId),{...e,session:n}},[e6.bK]:function(e,t){let{contents:n,search:a,attachments:l}=e,{query:i}=t.payload;return{...e,search:a.updateContentsAndQuery(n,l,i)}},[e6.HR]:function(e,t){let{contents:n,search:a,attachments:l}=e,{queryItem:i}=t.payload,r=a.getQueryItems(a),o=r.findIndex(e=>i===e);if(-1===o){let t=[...r,i].join(" ");return{...e,search:a.updateContentsAndQuery(n,l,t)}}{let t=[...r];t.splice(o,1);let i=t.join(" ");return{...e,search:a.updateContentsAndQuery(n,l,i)}}},[e6.MM]:function(e,t){let{contents:n,search:a}=e,{nodeID:l,collapse:i}=t.payload;if(!a.isActive)return console.warn("Attempts to toggle collapse of search node when search is not active…"),e;let r=n.findNodeByID(l);return f()(r)?(console.warn(`Node (${l}) could not be found…`),e):r.hasChild?(a.isNodeIDVisible(l)||console.warn(`Node (${l}) is not visible…`),{...e,search:a.withMutations(e=>{e.addVisibleNodes(r.children.toArray()),e.toggleCollapseOfNodeID(r.id,i)})}):(console.warn(`Node (${l}) has no children…`),e)},[e1.q]:function(e,t){let{contents:n,documentPreferences:a}=e;return{...e,documentPreferences:a.updateContents(n,t.payload.hideCompleted)}},[e8.hq]:function(e,t){let n=(0,ty.replaceIDs)(t.payload.fragment),a=t.payload.target,[l,i]=tr.A.perform(e,e=>{e=e.insertFragmentAdjacentToTarget(a,n);let t=n.children[0]?.id;return null!=t&&(e=e.focusNode(t,-1)),e});return null==l?(console.warn(i),e):l.commit(e)},[e8.w7]:function(e,t){var n;let{contents:a,attachments:l}=e,{nodeId:i,ancestors:r}=t.payload,o=tc()(r);if(null==o)return e;let s=a.findPreviousNodeID(i,r);if(null==s||null!=(n=l[i])&&((n?.media?.uploadingAttachments??[]).length>0||(n?.media?.attachments??[]).length>0||(n?.assignees?.total??0)>0||(n?.dates?.total??0)>0||(n?.countdowns?.total??0)>0||(n?.reactionCollections?.total??0)>0))return e;if(a.getIn(["nodes",o,"children"]).includes(s)){let t=e.slate.getIn([i,"text"]);if(null==t)return e;let n=e.slate.getIn([s,"text"]);if(null==n||function(e,t,n){let a=e.findNodeByID(t);if(a?.attributes?.note==null||0===a.attributes.note.value.length)return!1;let l=e.findNodeByID(n);return l?.attributes?.note!=null&&0!==l.attributes.note.value.length}(a,i,s))return e;let l=n.change();{let e=t.document,n=l.value.document,a=(n=(l=l.collapseToEndOf(n)).value.document).text.length;l=l.insertFragment(e).moveOffsetsTo(a,a).focus()}let[r,d]=tr.A.perform(e,e=>e.adoptChildrenIfNeeded(i,s).adoptNoteIfNeeded(i,s).deleteNode(i,o).changeNodeText(s,l));return null==r?(console.warn(d),e):r.commit(e)}{let t=a.getIn(["nodes",i]);if(null==t||t.children.size>0)return e;let n=e.slate.getIn([i,"text"]);if(null==n)return e;let l=e.slate.getIn([s,"text"]);if(null==l)return e;let r=n.document;if(!tE()(r.text))return e;let d=l.change();{let e=d.value.document,t=(e=(d=d.collapseToEndOf(e)).value.document).text.length;d=d.insertFragment(r).moveOffsetsTo(t,t).focus()}let[u,c]=tr.A.perform(e,e=>e.adoptChildrenIfNeeded(i,s).deleteNode(i,o).changeNodeText(s,d));return null==u?(console.warn(c),e):u.commit(e)}},[e8.qB]:function(e,t){let{slate:n,contents:a}=e,{nodeId:l,ancestors:i}=t.payload;if(l===a.rootID)return e;let r=tc()(i);if(null==r)return e;let o=a.findNextNodeID(l,i);if(null==o||o===l)return e;let s=a.getIn(["nodes",r,"children"]);if(null==s||!s.contains(o))return e;let d=n.getIn([o,"text","document"]);if(null==d)return e;let u=n.getIn([l,"text"]);if(null==u)return e;let c=u.document.text.length,p=u.change().insertFragment(d).moveOffsetsTo(c,c),[f,m]=tr.A.perform(e,e=>e.adoptChildrenIfNeeded(o,l).deleteNode(o,r).changeNodeText(l,p));return null==f?(console.warn(m),e):f.commit(e)},[e8.bR]:function(e,t){let{contents:n,slate:a}=e,{nodeId:l,ancestors:i}=t.payload,r=tc()(i),o=a.getIn([l,"text"]);if(null==o)return e;let s=function(e){let t=e.change();t.value.isExpanded&&(t=t.delete());let{document:n,selection:a}=t.value,l=n.getTexts(),i=l.first(),r=l.last(),o=N.Q6.create({anchorKey:i.key,anchorOffset:0,focusKey:a.anchorKey,focusOffset:a.anchorOffset}),s=N.Q6.create({anchorKey:a.anchorKey,anchorOffset:a.anchorOffset,focusKey:r.key,focusOffset:r.text.length}),d=n.getFragmentAtRange(o),u=n.getFragmentAtRange(s);return[t,{left:{fragment:d,isEmpty:0===d.text.length,selection:o},right:{fragment:u,isEmpty:0===u.text.length,selection:s}}]}(o),d=s[0],u=s[1],{left:c,right:p}=u,f=(0,tA.$6)(e);if(null==r)return tS(e,l,d,p,r);{let t=n.getIn(["nodes",r]);if(null==t)return e;if(t.isLastChild(l)&&c.isEmpty&&p.isEmpty&&r!==n.rootID){let[t,n]=tr.A.perform(e,e=>e.outdentNode(l,i));return null==t?(console.warn(n),e):t.commit(e)}{let t=n.getIn(["nodes",l]);if(null==t)return e;let a="action"===f&&r===n.rootID,o="board"===f&&r===n.rootID,s=(0,eE.isHeading)(t.getIn(["format","node"]));return!t.collapsed&&(t.hasChild||s)||a||o?p.isEmpty?tS(e,l,d,p,r):tb(e,t,i,d,u):(p.isEmpty,tb(e,t,i,d,u))}}},[e8.je]:function(e,t){let{slate:n,contents:a}=e,{nodeId:l,ancestors:i}=t.payload,r=a.findNodeByID(l);if(null==r||r.textString.length>0)return e;let o=n.getIn([l,"text"]);if(null==o)return e;let s=t.payload.fragment;if(0===s.children.length)return e;let u=s.children[0];if(s=(0,d.Ay)(s,e=>(e.children.shift(),e)),null==u)return e;let c=(0,to.G1)(new(tv())(u.text)),p=o.change().insertFragment(c.document),f={type:"fragment",children:u.children},[m,y]=tr.A.perform(e,e=>(e=e.changeNodeText(l,p),null!=u.format&&(null!=u.format.node&&(e=e.setFormatInNode(l,"node",u.format.node)),null!=u.format.children&&(e=e.setFormatInNode(l,"children",u.format.children))),null!=u.completed&&(e=e.setComplete([l],u.completed)),f.children.length>0&&(e=e.insertFragmentAdjacentToTarget({id:l,position:"afterbegin"},f)),s.children.length>0&&(e=e.insertFragmentAdjacentToTarget({id:l,parentId:tc()(i),position:"afterend"},s)),null!=l&&(e=e.focusNode(l,-1)),e));return null==m?(console.warn(y),e):m.commit(e)},[e8.jm]:function(e,t){let{selectedIds:n}=t.payload,{contents:a}=e;if(0===n.length)return e;let l=a.findParentNodeByID(n[0]);if(null==l)return e;let i=function(e,t){let n=e.indexOfChildNodeID(t[0]);for(let a of t){let t=e.indexOfChildNodeID(a);t<n&&(n=t)}return n<0?null:0===n?{id:e.id,position:"afterbegin"}:{id:e.children.get(n-1),position:"afterend",parentId:e.id}}(l,n);if(null==i)return e;let r=(0,e9.A)(),o={type:"fragment",children:[{id:r,type:"text",text:new(tv())({ops:[{insert:"\n",attributes:{paragraph:!0}}]}),children:[]}]},[s,d]=tr.A.perform(e,e=>e.deleteNodes(n).insertFragmentAdjacentToTarget(i,o).focusNode(r,0));return null==s?(console.warn(d),e):s.commit(e)},[e8.NF]:function(e,t){let{selectedIds:n}=t.payload;if(n.isEmpty())return e;let{contents:a,documentPreferences:l}=e,[i]=tr.A.perform(e,e=>{let t=function(e,t,n){if(e.isEmpty())return t.rootID;let a=t.findParentNodeByID(e.first());if(null==a)return t.rootID;let l=a.children.findLast(t=>null!=t&&e.has(t));if(null==l)return t.rootID;let i=(0,tg.A)(t,n,l,!0);return null==i?function(e,t,n){if(!n.isActive)return t.findFurthestNodeID(e);let a=e,l=th(a,t,n);for(;null!=l;)l=th(a=l,t,n);return a}(l,t,n):i}(n,a,l);return e.focusNode(t)});return null!=i?i.commit(e):e},[e8.Kh]:function(e,t){let{selectedIds:n}=t.payload;if(n.isEmpty())return e;let{contents:a,documentPreferences:l}=e,[i]=tr.A.perform(e,e=>{let t=function(e,t,n){if(e.isEmpty())return t.rootID;let a=t.findParentNodeByID(e.first());if(null==a)return t.rootID;let l=a.children.find(t=>null!=t&&e.has(t));if(null==l)return t.rootID;let i=(0,tm.A)(t,n,l);return null==i?t.rootID:i}(n,a,l);return e.focusNode(t)});return null!=i?i.commit(e):e},[e8.sF]:function(e,t){let{nodeId:n}=t.payload,{contents:a,history:l}=e,i=a.findAncestorsForNode(n);if(0===i.length)return e;let[r,o]=a.setCollapseInNodes(i,!1);return null==o?e:(a=r,l=l.saveChange({ops:o}),(0,d.Ay)(e,e=>(e.contents=a,e.history=l,e)))},[e8.qY]:function(e,t){let{contents:n,history:a}=e,{nodeId:l,sortBy:i}=t.payload;if(null==n.findNodeByID(l))return e;let r=n;switch(i){case e8.gd.CompleteAsc:r=n.updateIn(["nodes",l,"children"],t=>t.sortBy(tC.bind(void 0,e),tU));break;case e8.gd.CompleteDesc:r=n.updateIn(["nodes",l,"children"],t=>t.sortBy(tC.bind(void 0,e),tz));break;case e8.gd.DueDate:r=n.updateIn(["nodes",l,"children"],t=>t.sortBy(tP.bind(void 0,e),tB));break;case e8.gd.StartDate:r=n.updateIn(["nodes",l,"children"],t=>t.sortBy(tP.bind(void 0,e),tH));break;case e8.gd.AlphabeticalAsc:r=n.updateIn(["nodes",l,"children"],t=>t.sortBy(tx.bind(void 0,e),tJ));break;case e8.gd.AlphabeticalDesc:r=n.updateIn(["nodes",l,"children"],t=>t.sortBy(tx.bind(void 0,e),tG));break;case e8.gd.Tag:r=n.updateIn(["nodes",l,"children"],t=>t.sortBy(tF.bind(void 0,e),tJ));break;case e8.gd.Mention:r=n.updateIn(["nodes",l,"children"],t=>t.sortBy(tM.bind(void 0,e),tJ));break;case e8.gd.DateCreated:r=n.updateIn(["nodes",l,"children"],t=>t.sortBy(tR.bind(void 0,e),tV))}let o=n.diff(r);if(0===o.ops.length)return e;let s=a.saveChange({ops:o.ops});return(0,d.Ay)(e,e=>(e.contents=r,e.history=s,e))},[e8._b]:function(e,t){let{contents:n,history:a,slate:l,documentPreferences:i}=e,{contents:r}=t.payload,o=n.diff(r);if(0===o.ops.length)return e;for(let e of(a=a.saveChange({ops:o.ops}),o.ops))switch(!0){case(0,eE.isSubtypeOp)(e,"delta"):{let{p:t,o:n}=e;if(3!==t.length)continue;let a=t[1];if(!(0,eL.isEqual)(t,["nodes",a,"text"]))continue;l=l.updateIn([a,"text"],e=>{let t=(0,to.IC)(e,n),a=e.change();return a.applyOperations(t,{save:!1}),a.value});break}case(0,eE.isObjectDeleteOp)(e):{let{p:t}=e;if(2!==t.length||"nodes"!==t[0])continue;let n=t[1];l=l.delete(n),i=i.removeVisibleNodes([n]);break}case(0,eE.isObjectInsertOp)(e):{let{p:t}=e;if(2!==t.length||"nodes"!==t[0])continue;let n=t[1],a=r.findNodeByID(n);l=l.set(n,eA.A.createWithNode(a)),i=i.checkNodes(r,[a]);break}case(0,eE.isObjectReplaceOp)(e):{let{p:t}=e;if("nodes"!==t[0])continue;if(2!==t.length){let e=t[1],n=r.findNodeByID(e);i=i.checkNodes(r,[n]);continue}let n=t[1];throw Error(`We do not support replacing node at ${n}…`)}}return{...e,contents:r,history:a,slate:l,documentPreferences:i}},[e8._9]:function(e,t){let[n,a]=tr.A.perform(e,n=>{let{nodeId:a,range:l,nodeFormat:i}=t.payload,{contents:r,slate:o}=e,s=r.rootID;if(null==r.findNodeByID(s)||null==r.findNodeByID(a))return n;let d=o.getIn([a,"text"]);if(null==d)return n;let u=function(e){if(e.end<=e.start)return null;let t=new(tv());return e.start>0&&(t=t.retain(e.start)),t=t.delete(e.end-e.start)}(l);if(null==u)return n;let c=(0,to.IC)(d,u),p=d.change();return p=p.applyOperations(c,{save:!1}),n.changeNodeText(a,p).setFormatInNode(a,"node",i)});return null==n?(console.warn(a),e):n.commit(e)},[e8.wm]:function(e,t){let{slate:n,contents:a}=e,{nodeId:l,parentId:i}=t.payload,r=t.payload.fragment;if(null==a.findNodeByID(l))return e;let o=n.getIn([l,"text"]);if(null==o)return e;let s=r.children[0];if(r=(0,d.Ay)(r,e=>{e.children.shift()}),null==s)return e;let u=(0,to.G1)(new(tv())(s.text)),c=o.change().collapseToStartOf(o.document).selectAll().insertFragment(u.document),p={type:"fragment",children:s.children},[f,m]=tr.A.perform(e,e=>(e=e.changeNodeText(l,c),p.children.length>0&&(e=e.insertFragmentAdjacentToTarget({id:l,position:"afterbegin"},p)),r.children.length>0&&(e=e.insertFragmentAdjacentToTarget({id:l,parentId:i,position:"afterend"},r)),e));return null==f?(console.warn(m),e):f.commit(e)},[e8.Hl]:function(e,t){let{key:n,viewSchema:a}=t.payload,l=e,[i,r]=tr.A.perform(l,e=>e.setViewSchema(n,a));return null!=i?l=i.commit(l):console.warn(r),l},[e8.k0]:function(e,t){let{key:n,fieldSchema:a}=t.payload,l=eE.FieldSchemaZchema.parse(a),i=e,[r,o]=tr.A.perform(i,e=>e.setFieldSchema(n,l));return null!=r?i=r.commit(i):console.warn(o),i},[e8.$6]:function(e,t){let{nodeId:n,fieldKey:a,data:l}=t.payload,i=e,[r,o]=tr.A.perform(i,e=>e.setCustomAttributeInNode(n,a,l));return null!=r?i=r.commit(i):console.warn(o),i},[e8.ng]:function(e,t){let{contents:n}=e,{fieldSchema:a,fieldKey:l}=t.payload,i=eE.FieldSchemaZchema.parse(a),r=function(e,t){let n=e.views.get(tt.yd)??{...te.Wj,id:tt.yd};(0,s.assert)(n.type===tt.yd);let a=(0,eE.toColumnArray)(n.columns??te.Wj.columns),l=(0,eE.columnRankBetween)(a,a.length),i=(0,e9.A)();return(0,d.Ay)(n,e=>{if(null==e.columns)return e;e.columns[i]={id:i,fieldPath:`/attributes/${t}`,rank:l}})}(n,l),o=function(e,t){let n=e.views.get(tt.Vy)??{...ta,id:tt.Vy};(0,s.assert)(n.type===tt.Vy);let a=(0,e9.A)(),l=(0,eE.toArray)(n.displayedFields??{},e=>e.rank),i=(0,eE.rankBetween)(l,l.length,e=>e.rank);return(0,d.Ay)(n,e=>{if(null==e.displayedFields)return e;e.displayedFields[a]={id:a,fieldPath:`/attributes/${t}`,rank:i}})}(n,l),u=function(e,t){let n=e.views.get(tt.pH)??{...tn,id:tt.pH};(0,s.assert)(n.type===tt.pH);let a=(0,e9.A)(),l=(0,eE.toArray)(n.displayedFields??{},e=>e.rank),i=(0,eE.rankBetween)(l,l.length,e=>e.rank);return(0,d.Ay)(n,e=>{if(null==e.displayedFields)return e;e.displayedFields[a]={id:a,fieldPath:`/attributes/${t}`,rank:i}})}(n,l),c=function(e,t){let n=e.views.get(tt.vD)??{...tl,id:tt.vD};(0,s.assert)(n.type===tt.vD);let a=(0,e9.A)(),l=(0,eE.toArray)(n.displayedFields??{},e=>e.rank),i=(0,eE.rankBetween)(l,l.length,e=>e.rank);return(0,d.Ay)(n,e=>{if(null==e.displayedFields)return e;e.displayedFields[a]={id:a,fieldPath:`/attributes/${t}`,rank:i}})}(n,l),p=function(e,t){let n=e.views.get(tt.bq)??{...ti,id:tt.bq};(0,s.assert)(n.type===tt.bq);let a=(0,e9.A)(),l=(0,eE.toArray)(n.displayedFields??{},e=>e.rank),i=(0,eE.rankBetween)(l,l.length,e=>e.rank);return(0,d.Ay)(n,e=>{if(null==e.displayedFields)return e;e.displayedFields[a]={id:a,fieldPath:`/attributes/${t}`,rank:i}})}(n,l),f=e,[m,y]=tr.A.perform(f,e=>{let t=e;return(t=(t=(t=(t=(t=t.setFieldSchema(l,i)).setViewSchema(tt.yd,r)).setViewSchema(tt.Vy,o)).setViewSchema(tt.pH,u)).setViewSchema(tt.vD,c)).setViewSchema(tt.bq,p)});return null!=m?f=m.commit(f):console.warn(y),f},[e8.KB]:function(e,t){let{contents:n}=e,{fieldPath:a}=t.payload,l=eE.keyPathFromFieldPath(a)?.[1];(0,s.assert)(null!=l);let i=e,r=function(e,t){let n=e.views.get("actionsheet")??{...te.Wj,id:"actionsheet"};if((0,s.assert)("actionsheet"===n.type),null==n.columns)return n;let a=Object.values(n.columns).find(e=>e.fieldPath===t);return null==a?n:(0,d.Ay)(n,e=>{if(null==e.columns)return e;delete e.columns[a.id]})}(n,a),o=function(e,t){let n=e.views.get("list")??{...ta,id:"list"};if((0,s.assert)("list"===n.type),null==n.displayedFields)return n;let a=Object.values(n.displayedFields).find(e=>e.fieldPath===t);return null==a?n:(0,d.Ay)(n,e=>{if(null==e.displayedFields)return e;delete e.displayedFields[a.id]})}(n,a),u=function(e,t){let n=e.views.get("board")??{...tn,id:"board"};if((0,s.assert)("board"===n.type),null==n.displayedFields)return n;let a=Object.values(n.displayedFields).find(e=>e.fieldPath===t);return null==a?n:(0,d.Ay)(n,e=>{if(null==e.displayedFields)return e;delete e.displayedFields[a.id]})}(n,a),[c,p]=tr.A.perform(i,e=>{let t=e;return(t=(t=(t=t.removeFieldSchema(l)).setViewSchema("actionsheet",r)).setViewSchema("list",o)).setViewSchema("board",u)});return null!=c?i=c.commit(i):console.warn(p),i}});var t1=n(95998),t8=n(19434),t2=n(11888),t6=n(41893),t5=n(11156),t4=n(73374),t7=n(12778),t3=n(21199),t9=n(1138),ne=n(81590),nt=n(92953),nn=n(47183),na=n(4125),nl=n(52770),ni=n(39290),nr=n(39185),no=n(67661),ns=n(3828),nd=n(45285),nu=n(58892),nc=n(86532),np=n(97927),nf=n(35499),nm=n(20964),ny=n(73091),nh=n(59418),ng=n(85917),nN=n(7227),nv=n(49798),nk=n(59813),nE=n(58593),nA=n(10897),nS=n(38558),nb=n(51642),nT=n(98944),nI=n(65059),nD=n(54622),nO=n(13635),n_=n(79135);let nw=(0,A.HY)({cloudUpload:t3.A.reducer,embed:nE.A.reducer,media:nA.A.reducer,editField:nk.A.reducer,addField:nv.A.reducer,moveFolder:nr.A.reducer,changeTimezone:t7.A.reducer,historyRevert:nt.A.reducer,invitePicker:nn.A.reducer,deleteAccount:t1.A.reducer,print:nu.A.reducer,projectSettings:np.A.reducer,node:no.A.reducer,calendarAddNode:t4.A.reducer,quickAdd:nf.A.reducer,aiAssistant:t8.A.reducer,managePeopleGroup:nS.A.reducer,aiCreateProject:t2.A.reducer,projectAiAddBlock:nc.A.reducer,editSpace:n_.A.reducer,copyDocuments:t9.A.reducer,moveDocuments:ni.A.reducer,mfaSetup:nl.A.reducer,aiPromptTemplates:t5.A.reducer,mediaAi:na.A.reducer,spaceMediaPreview:ng.A.reducer,aiCreditLimit:t6.A.reducer,createSpaceAgent:nI.A.reducer,editSpaceAgent:nO.A.reducer,oauthCreate:ns.A.reducer,oauthUpdate:nd.A.reducer,spaceAgentChat:nm.A.reducer,createFlow:nT.A.reducer,upgradeDialog:nN.A.reducer,cloudMediaUpload:nb.Z.reducer,createSpaceAgentGroup:nD.A.reducer,spaceAgentGroupChat:ny.A.reducer,spaceAgentGroupEdit:nh.A.reducer,formShare:ne.A.reducer}),nC={collaborators:{fetchStatus:{}},starred:{list:[],fetchStatus:eT.TH},shared:{list:[],fetchStatus:eT.TH}};function nx(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nC,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case eF.ny:{let{documentID:n}=t.payload,a=c()(e,["shared","list"],[]);return{...e,shared:{...e.shared,list:e$()(a,n)}}}case eF.sH:{let{documentID:n,fetchStatus:a}=t.payload;return{...e,collaborators:{...e.collaborators,fetchStatus:{...e.collaborators.fetchStatus,[n]:a}}}}case eF.MS:return{...e,shared:{...e.shared,fetchStatus:t.payload.fetchStatus}};case eF.MV:return{...e,shared:{...e.shared,list:t.payload.documents}};default:return e}}function nP(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tT.A.create(),t=arguments.length>1?arguments[1]:void 0;return t.type,e}var nF=n(63560),nM=n.n(nF),nR=n(92432);let nL=(0,d.Ay)((e,t)=>{let{documentID:n,nodeID:a,draft:l}=t.payload;nM()(e,["comments",n,a],l)}),nj=eZ({comments:{}},{[nR.r]:nL});var nU=n(73916),nz=n.n(nU),nB=n(90179),nH=n.n(nB),nJ=n(37261);let nG={accounts:{entities:{}},assignments:{entities:{}},spaces:{entities:{}},collaborators:{entities:{}},documents:{entities:{}},memberships:{entities:{}},tags:{entities:{}},users:{entities:{}}};function nV(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nG,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case nJ.OZ:return nz()(e,(e,n)=>({...e,entities:Object.entries(t.payload[n]||{}).reduce((e,t)=>{let[n,a]=t;return{...e,[n]:{...e[n]||{},...a}}},e.entities)}));case nJ.hE:return nz()(e,(e,n)=>({...e,entities:nH()(e.entities,t.payload[n])}));default:return e}}function n$(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return arguments.length>1&&arguments[1],e}var nq=n(83591);function nZ(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return t.type===nq.s?null:e}function nW(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new eE.History;return arguments.length>1&&arguments[1],e}var nQ=n(45909);let nY={};function nK(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nY,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case e5.Fn:return{...e,...t.payload.meta,newborn:!0};case e5.or:return function(e,t){let{meta:n}=t.payload;return{...e,...n}}(e,t);case nQ.Hx:return function(e,t){let{space:n}=t.payload,a=f()(n)?null:{id:n.id,color:n.color};return{...e,space:a}}(e,t);case nQ.J8:return{...e,preferences:{...e.preferences,...t.payload.preferences}};case nQ.RJ:return function(e,t){let{conference:n}=t.payload;return{...e,conference:n}}(e,t);case nQ.Ud:return function(e,t){let{routeState:n}=t.payload;return{...e,routeState:n}}(e,t);default:return e}}var nX=n(62216),n0=n.n(nX),n1=n(2147),n8=n(97653),n2=n(96619),n6=n(11586),n5=n(25702);let n4={isOpen:!1},n7=eZ(n4,{[n5.s]:function(e){return(0,d.Ay)(e,e=>{e.isOpen=!e.isOpen})}});var n3=n(68704);let n9={isOpen:!1,resource:null},ae=eZ(n9,{[n3.QQ]:function(e,t){let{resource:n}=t.payload;return(0,d.Ay)(e,e=>(e.isOpen?(e.isOpen=!1,e.resource=null):(e.isOpen=!0,e.resource=n),e))}});var at=n(12590);let an={isOpen:!1},aa=eZ(an,{[at.C9]:function(e){return(0,d.Ay)(e,e=>(e.isOpen=!0,e))},[at.hl]:function(e){return(0,d.Ay)(e,e=>(e.isOpen?e.isOpen=!1:e.isOpen=!0,e))}});var al=n(48946);let ai={isOpen:!1,documentID:null,nodeID:null},ar=eZ(ai,{[al._]:function(e,t){return(0,d.Ay)(e,e=>{if(!e.isOpen&&null!=t.payload){let{documentID:n,nodeID:a}=t.payload;if(null!=n&&null!=a)return e.isOpen=!0,e.documentID=n,e.nodeID=a,e}return e.isOpen=!1,e.documentID=null,e.nodeID=null,e})}});var ao=n(28630);let as={isOpen:!1,resource:null},ad=eZ(as,{[ao.u]:function(e){return(0,d.Ay)(e,e=>(e.isOpen?e.isOpen=!1:e.isOpen=!0,e))}});var au=n(11779);let ac={isOpen:!1,platform:void 0},ap=eZ(ac,{[au.U]:function(e,t){let{platform:n}=t.payload;return(0,d.Ay)(e,e=>(null!=n?(e.isOpen=!0,e.platform=n):(e.isOpen=!e.isOpen,e.platform=void 0),e))}}),af={isOpen:!1,parentID:null,parentName:"",parentType:null,parentTaskadePlanType:null},am=eZ(af,{[n6.O]:function(e,t){let{parentID:n,parentName:a,parentType:l,parentTaskadePlanType:i}=t.payload;return(0,d.Ay)(e,e=>(e.isOpen?(e.isOpen=!1,e.parentID=null,e.parentname="",e.parentType=null,e.parentTaskadePlanType=null):(e.isOpen=!0,e.parentID=n,e.parentName=a,e.parentType=l,e.parentTaskadePlanType=i),e))}}),ay={documentID:null,isOpen:!1,spaceID:null},ah=eZ(ay,{[n2.xg]:function(e,t){return(0,d.Ay)(e,e=>(e.documentID=null,e.isOpen=!1,e.spaceID=null,e))},[n2.Ed]:function(e,t){let{documentID:n,options:a}=t.payload,{spaceID:l}=a;return(0,d.Ay)(e,e=>(e.isOpen||tE()(n)?(e.documentID=null,e.isOpen=!1,e.spaceID=null):(e.isOpen=!0,e.documentID=n,e.spaceID=l),e))}}),ag={documentID:null,spaceID:null,isOpen:!1,isTemplate:!1,duplicate:!1,redirect:!1},aN=eZ(ag,{[n8.xY]:function(e,t){return(0,d.Ay)(e,e=>(e.documentID=null,e.spaceID=null,e.isOpen=!1,e.isTemplate=!1,e.duplicate=!1,e.redirect=!1,e))},[n8.wB]:function(e,t){let{payload:n}=t,a=n.documentID??null,l=n.options?.duplicate??!1,i=n.options?.isTemplate??!1,r=n.options?.spaceID??null,o=n.options?.redirect??!1;return(0,d.Ay)(e,e=>(e.isOpen||tE()(a)?(e.documentID=null,e.spaceID=null,e.isOpen=!1,e.isTemplate=!1,e.duplicate=!1,e.redirect=!1):(e.isOpen=!0,e.documentID=a,e.spaceID=r,e.isTemplate=!!eu()(i)&&i,e.duplicate=l,e.redirect=o),e))}}),av={createSpace:af,documentCopyV2:ag,documentMove:{isOpen:!1,documentID:null,updateMetaSpace:!1,callback:null},documentMoveV2:ay,documentInvite:{isOpen:!1,documentID:null},spaceLeave:{isOpen:!1},spaceDelete:{isOpen:!1},spaceJoin:{isOpen:!1},spaceNotification:{isOpen:!1},documentNotification:{isOpen:!1},signUpConversion:{isOpen:!1},signUpCreatorConversion:{isOpen:!1},loginSignup:{isOpen:!1,activeView:"signup",copyAsTemplate:!1,enableCopyList:!1},invite:n9,shortcuts:as,command:n4,import:ac,largeFile:an,nodeComments:ai};function ak(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:av,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case n1.tS:return function(e,t){let{documentID:n}=t.payload;return{...e,documentInvite:{...e.documentInvite,documentID:n}}}(e,t);case n1.h3:return{...e,documentMove:{...e.documentMove,documentID:t.payload.documentID}};case n1.ef:return function(e,t){let{isOpen:n,activeView:a,copyAsTemplate:l,enableCopyList:i}=t.payload;return{...e,loginSignup:{...e.loginSignup,isOpen:n0()(n)?e.loginSignup.isOpen:n,activeView:n0()(a)?e.loginSignup.activeView:a,copyAsTemplate:n0()(l)?e.loginSignup.copyAsTemplate:l,enableCopyList:n0()(i)?e.loginSignup.enableCopyList:i}}}(e,t);case n1.bg:return function(e,t){let n={...e.documentInvite,isOpen:!e.documentInvite.isOpen};return n0()(t.payload.documentID)||(n.documentID=t.payload.documentID),{...e,documentInvite:n}}(e,t);case n1.yF:return{...e,spaceLeave:{isOpen:!e.spaceLeave.isOpen}};case n1.cP:return{...e,spaceDelete:{isOpen:!e.spaceDelete.isOpen}};case n1.JD:return{...e,spaceJoin:{isOpen:!e.spaceJoin.isOpen}};case n1.i6:return{...e,spaceNotification:{isOpen:!e.spaceNotification.isOpen}};case n1.bb:return{...e,documentNotification:{isOpen:!e.documentNotification.isOpen}};case n1.Kr:return function(e){let t=!e.loginSignup.isOpen;return{...e,loginSignup:{...e.loginSignup,isOpen:t,copyAsTemplate:!!t&&e.loginSignup.copyAsTemplate,enableCopyList:!!t&&e.loginSignup.enableCopyList}}}(e,t);case n8.xY:case n8.wB:return(0,d.Ay)(e,e=>(e.documentCopyV2=aN(e.documentCopyV2,t),e));case n2.xg:case n2.Ed:return(0,d.Ay)(e,e=>(e.documentMoveV2=ah(e.documentMoveV2,t),e));case n6.O:return(0,d.Ay)(e,e=>(e.createSpace=am(e.createSpace,t),e));case n3.QQ:return(0,d.Ay)(e,e=>(e.invite=ae(e.invite,t),e));case ao.u:return(0,d.Ay)(e,e=>(e.shortcuts=ad(e.shortcuts,t),e));case n5.s:return(0,d.Ay)(e,e=>(e.command=n7(e.command,t),e));case au.U:return(0,d.Ay)(e,e=>(e.import=ap(e.import,t),e));case at.C9:case at.hl:return(0,d.Ay)(e,e=>(e.largeFile=aa(e.largeFile,t),e));case al._:return(0,d.Ay)(e,e=>(e.nodeComments=ar(e.nodeComments,t),e));default:return e}}function aE(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return arguments.length>1&&arguments[1],e}var aA=n(76),aS=n(16075),ab=n.n(aS),aT=n(11257);let aI=ab().object({id:ab().string().required(),userId:ab().number().integer().required(),updatedAt:ab().number().integer().required(),type:ab().number().integer().required(),focusState:ab().object({nodeId:ab().string().allow(null).allow("").optional()}).allow(null).optional()}).required();function aD(e,t,n){let a=e.nodes[n];return null==a?e.nodes[n]=[t]:-1===a.findIndex(e=>e===t)&&a.push(t),e}function aO(e,t,n){let a=e.nodes[n];if(null==a)return e;let l=a.findIndex(e=>e===t);return l>-1&&a.splice(l,1),0===a.length&&delete e.nodes[n],e}let a_=eZ({selfPresenceID:"",presences:{},nodes:{},users:new Map},{[aT.GL]:function(e,t){let{selfPresenceID:n}=t.payload;return(0,d.Ay)(e,e=>(e.selfPresenceID=n,e))},[aT.X3]:function(e,t){let{presenceEvent:n}=t.payload,{presences:a}=n;return null==a?e:(0,d.Ay)(e,e=>{for(let t of a){let n=aI.validate(t);if(null!=n.error)continue;let{id:a,userId:l,type:i,updatedAt:r,focusState:o}=n.value;if(a===e.selfPresenceID)continue;let s=tE()(o?.nodeId)?void 0:o?.nodeId;switch(i){case aA.PresenceType.AVAILABLE:{let t=e.presences[a];if(null==t)e.presences[a]={presenceID:a,userID:l,updatedAt:r,focusedNodeID:s},null!=s&&aD(e,a,s);else{let n=t.focusedNodeID;t.updatedAt=r,t.focusedNodeID=s,n!==s&&(null!=n&&aO(e,a,n),null!=s&&aD(e,a,s))}let n=e.users.get(l);null==n?e.users.set(l,new Set([a])):n.add(a);break}case aA.PresenceType.UNAVAILABLE:{let t=e.presences[a];null!=t&&(null!=t.focusedNodeID&&aO(e,a,t.focusedNodeID),delete e.presences[a]);let n=e.users.get(l);null!=n&&(n.delete(a),0===n.size&&e.users.delete(l))}}}return e})},[aT.WV]:function(e){return(0,d.Ay)(e,e=>(e.presences={},e.nodes={},e))}});function aw(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tI.A.create(),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case e6.z:{let{nodes:n}=t.payload;return e.addVisibleNodes(n)}case e6.ui:return e.set("isOpen",!e.isOpen);default:return e}}var aC=n(5682);let ax=eZ(eO.create(),{[aC.Yb]:function(e,t){return e.set("backendError",null)},[e5.Tp]:function(e,t){let{syncState:n}=t.payload;return e.set("syncState",n)},[aC.ZW]:function(e,t){return e.set("outOfSync",!0)},[aC.fS]:function(e,t){let{status:n,result:a}=t.payload;return e.setFetch(n,a)},[aC.lG]:function(e,t){return e.set("firebaseNotificationPermission",t.payload.permission)},[aC.EK]:function(e,t){return e.set("spaceIsNew",t.payload.spaceIsNew)},[aC.N_]:function(e,t){return e.set("userIsNew",t.payload.userIsNew)},[aC.Ho]:function(e,t){return e.set("sideDrawerIsOpen",t.payload.open??!e.sideDrawerIsOpen)},[aC.ZY]:function(e){return e.set("sideDrawerIsOpen",!1)},[aC.J9]:function(e,t){return null==t.payload.open?e.update("rightSidebarIsOpen",e=>!e):e.set("rightSidebarIsOpen",t.payload.open)}});var aP=n(63375),aF=n.n(aP),aM=n(39520);let aR={avatar:{uploadStatus:eT.TH}},aL={spaces:{list:[],archivedList:[],fetchStatus:eT.TH},documents:{active:{spaces:{},fetchStatus:{}},archived:{spaces:{},fetchStatus:{}},templated:{spaces:{},fetchStatus:{}}},memberships:{spaces:{},fetchStatus:{}},files:{}};function aj(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:aL,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case aM.NL:return(0,d.Ay)(e,e=>{let{documentStatus:n,spaceID:a,fetchStatus:l}=t.payload;return e.documents[n].fetchStatus[a]=l,e});case aM.JD:{let{documentStatus:n}=t.payload;return{...e,documents:{...e.documents,[n]:{...e.documents[n],spaces:{...e.documents[n].spaces,[t.payload.spaceID]:t.payload.documents}}}}}case aM.bG:{let{spaceID:n,documentID:a,documentStatus:l,position:i}=t.payload,r=c()(e,["documents",l,"spaces",n],[]),o=[...r.slice(0,i),a,...r.slice(i)];return{...e,documents:{...e.documents,[l]:{...e.documents[l],spaces:{...e.documents[l].spaces,[t.payload.spaceID]:o}}}}}case aM.wC:{let{spaceID:n,documentID:a,documentStatus:l}=t.payload,i=c()(e,["documents",l,"spaces",n],[]),r=e$()(i,a);return{...e,documents:{...e.documents,[l]:{...e.documents[l],spaces:{...e.documents[l].spaces,[t.payload.spaceID]:r}}}}}case aM.Bq:return function(e,t){let{spaceID:n,uploadStatus:a}=t.payload;return{...e,files:{[n]:{...aR,avatar:{uploadStatus:a}}}}}(e,t);case aM.uT:return{...e,memberships:{...e.memberships,fetchStatus:{...e.memberships.fetchStatus,[t.payload.spaceID]:t.payload.fetchStatus}}};case aM.MD:return{...e,memberships:{...e.memberships,spaces:{...e.memberships.spaces,[t.payload.spaceID]:t.payload.memberships},fetchStatus:{...e.memberships.fetchStatus,[t.payload.spaceID]:t.payload.fetchStatus}}};case aM.Hf:return function(e,t){let{payload:{archived:n,spaceID:a}}=t,{list:l,archivedList:i}=e.spaces,r=n?e$()(l,a):[...l,a],o=n?[...i,a]:e$()(i,a);return{...e,spaces:{...e.spaces,list:aF()(r),archivedList:aF()(o)}}}(e,t);default:return e}}let aU=function(){let e=(0,A.HY)({attachments:eG,auth:eQ,chatroom:eK,context:e0,dialogs:nw,documents:nx,documentPreferences:nP,drafts:nj,entities:nV,history:nW,meta:nK,modal:ak,contents:eX,search:aw,session:ax,spaces:aj,slate:e3,growl:nZ,notifications:(0,eN.createReducer)(5),settings:ey,presence:a_,appsumo:e_,oauth2:aE,flowOAuth2:n$});return ek()(e,t0)};var az=n(74079),aB=n(2301),aH=n(70292),aJ=n(97581);let aG=function(e){let{children:t}=e,{search:n}=(0,h.zy)(),a=m.useMemo(()=>new URLSearchParams(n),[n]).get("theme"),l=m.useMemo(()=>"light"===a?"light":"dark"===a?"dark":void 0,[a]),{data:i}=(0,x.I)(U.c),r=i?.me?.preferences.isNightMode,o=m.useMemo(()=>"boolean"==typeof r?r?"dark":"light":null===r?"no-preference":void 0,[r]),s=l||o||"dark",[d,u]=m.useState(()=>"dark"===s);m.useEffect(()=>{if("dark"===s)u(!0);else if("light"===s)u(!1);else{let e=window.matchMedia("(prefers-color-scheme: dark)");u(e.matches);let t=e=>{u(e.matches)};return"function"==typeof e.addEventListener&&e.addEventListener("change",t),()=>{"function"==typeof e.removeEventListener&&e.removeEventListener("change",t)}}},[s]),m.useEffect(()=>{d?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[d]);let c=m.useMemo(()=>({isNightMode:d,primaryColor:aJ.Colors.BRAND,breakpoints:{xs:0,sm:576,md:768,lg:992,xl:1200}}),[d]);return m.createElement(aJ.ThemeProvider,{theme:c},t)},aV=function(e){let{apolloClient:t,getAgentLocale:n,store:a}=e;return m.createElement(D.X,{client:t},m.createElement(C.Provider,{store:a},m.createElement(B,{getAgentLocale:n},m.createElement(aG,null,m.createElement(aH.A,{header:"Uh oh!",subheader:"A critical error occurred. Please click the link below to refresh the page.",imageUrl:"/images/generic_error.svg",showReturnLink:!0})))))};var a$=n(9044);function aq(e,t,n){let a=(0,g.B6)(t,e);if(null==a)return!1;let l=a.params;return null!=l&&(null==n||null!=l[n])}let aZ=m.memo(function(){let e=(0,h.zy)(),t=m.useMemo(()=>{var t;return aq(t=e.pathname,"d/:documentID","documentID")?"Project":aq(t,"spaces/:spaceID/new")?"Space Project Creation":aq(t,"spaces/:spaceID/new/from/:fromID")?"Space Template Gallery":aq(t,"new")?"Project Creation":aq(t,"new/from/:fromID")?"Template Gallery":aq(t,"spaces/:spaceID/subspaces/:subspaceID","subspaceID")?"Folder":aq(t,"subspaces/:subspaceID","subspaceID")?"Shared Folder":aq(t,"spaces/:spaceID","spaceID")?"Space":aq(t,"appsumo/welcome")?"AppSumo Welcome":aq(t,"settings")?"Settings":aq(t,"/search")?"Search":aq(t,"/signup")?"Sign Up":aq(t,"/login")?"Sign In":aq(t,"/mfa/authenticate")?"Multi-Factor Authentication":aq(t,"/my-tasks")?"My Tasks":aq(t,"/calendar")?"Calendar":aq(t,"/onboarding")?"Onboarding":void 0},[e.pathname]);m.useEffect(()=>{(0,X.x)()},[]);let{data:n,loading:a}=(0,x.I)(U.c),l=n?.me?.email,i=n?.me?.id,r=n?.me?.handle;m.useEffect(()=>{a||(null!=i?(X.p?.identify(i,{email:l,username:r}),"undefined"!=typeof profitwell&&profitwell("start",{user_email:l})):X.p?.reset())},[l,a,i,r]);let o=m.useRef("undefined"!=typeof document?document.referrer:""),s=m.useMemo(()=>new URL(e.pathname+e.search,"https://www.taskade.com"),[e.pathname,e.search]);return m.useEffect(()=>{let e=o.current,n={path:s.pathname,referrer:e,search:s.search,title:document.title,url:s.href,name:t},a=function(e){let t=a$.parse(e),n={};for(let[e,a]of Object.entries(t)){let t=e.toLowerCase();t.startsWith("utm_")&&("campaign"===(t=t.substr(4))&&(t="name"),null!=a&&(n[t]=a))}if(!tE()(n))return n}(n.search);X.p?.page(void 0,void 0,{...n},{app:{name:"web"},campaign:a,page:n})},[s,t]),m.useEffect(()=>{o.current=s.href},[s]),null});var aW=n(43578);let aQ=(0,ei.Ay)`
  subscription MeUpdatedSubscription {
    meUpdated {
      id
      locale
      preferences {
        isNightMode
      }
    }
  }
`,aY=function(){return(0,aW.R)(aQ),null},aK=m.lazy(async()=>{let{EditorScreen:e}=await Promise.all([n.e(8806),n.e(2520),n.e(4843),n.e(7120),n.e(683),n.e(9176),n.e(3387),n.e(6411),n.e(8860),n.e(4323),n.e(6289),n.e(9530),n.e(7576),n.e(7424),n.e(8205),n.e(724),n.e(6800),n.e(8673),n.e(8780),n.e(4024),n.e(1013),n.e(3992),n.e(2292),n.e(952),n.e(3421),n.e(1083),n.e(9556),n.e(1411),n.e(7377),n.e(7194),n.e(1169),n.e(6225),n.e(9438),n.e(4061),n.e(8552),n.e(7474),n.e(1088),n.e(7253),n.e(4928),n.e(3938),n.e(2895),n.e(6957),n.e(1055),n.e(3062),n.e(2880),n.e(4578),n.e(7968),n.e(2564),n.e(7401),n.e(2617)]).then(n.bind(n,32617));return{default:e}}),aX=[{path:"/",element:m.createElement(function(){return m.createElement(aG,null,m.createElement(aJ.LayersProvider,null,m.createElement(aZ,null),m.createElement(h.sv,null),m.createElement(aY,null)))},null),errorElement:m.createElement(function(){let e=(0,h.r5)();m.useEffect(()=>{console.error(e),(0,aB.A)(e,az)},[e]);let t=m.useMemo(()=>e instanceof Error&&"ChunkLoadError"===e.name?"A critical error occurred while loading the app.":(0,s.getMessageFromError)(e)??"A critical error occurred.",[e]),n=`${t} Please click the link below to refresh the page.`;return m.createElement(aH.A,{header:"Uh oh!",subheader:n,imageUrl:"/images/generic_error.svg",showReturnLink:!0})},null),children:[{index:!0,lazy:()=>Promise.all([n.e(7434),n.e(427)]).then(n.bind(n,59725))},{path:"add",lazy:()=>Promise.all([n.e(8806),n.e(7120),n.e(3387),n.e(4056),n.e(7474),n.e(6039),n.e(9062),n.e(990),n.e(8183)]).then(n.bind(n,70182))},{path:"auth/flow/oauth2/completing",lazy:()=>n.e(1609).then(n.bind(n,91609))},{path:"e/:editToken",lazy:async()=>{let{EditShareScreen:e}=await n.e(5890).then(n.bind(n,95890));return{Component:e}}},{path:"v/:viewToken",lazy:async()=>{let{ViewShareScreen:e}=await n.e(5890).then(n.bind(n,95890));return{Component:e}}},{lazy:()=>Promise.all([n.e(8806),n.e(7120),n.e(3387),n.e(6411),n.e(8860),n.e(7576),n.e(6800),n.e(6628),n.e(1255),n.e(8552),n.e(7474),n.e(7434),n.e(7253),n.e(6039),n.e(9062),n.e(990),n.e(1055),n.e(4619),n.e(9863),n.e(2058)]).then(n.bind(n,65324)),children:[{path:"a/:publicSpaceAgentIdWithSlug",lazy:()=>Promise.all([n.e(8806),n.e(7120),n.e(9176),n.e(3387),n.e(4323),n.e(9530),n.e(8205),n.e(724),n.e(4061),n.e(7434),n.e(6538)]).then(n.bind(n,26248))},{path:"appsumo/welcome",lazy:()=>Promise.all([n.e(8806),n.e(8331)]).then(n.bind(n,28331))},{path:"invitations/:token",lazy:()=>Promise.all([n.e(8806),n.e(700)]).then(n.bind(n,60700))},{path:"oauth2/authorize",lazy:()=>Promise.all([n.e(8806),n.e(1836)]).then(n.bind(n,21836))},{path:"p/:publicDocumentIdWithSlug",lazy:()=>Promise.all([n.e(8806),n.e(9176),n.e(8860),n.e(7576),n.e(7424),n.e(8205),n.e(8673),n.e(1013),n.e(952),n.e(3421),n.e(1411),n.e(6225),n.e(3802),n.e(6210),n.e(6039),n.e(3062),n.e(7968),n.e(2647)]).then(n.bind(n,78923))},{path:"print/:documentID",lazy:()=>Promise.all([n.e(8806),n.e(8860),n.e(8205),n.e(8673),n.e(1013),n.e(1411),n.e(3062),n.e(1636)]).then(n.bind(n,69802))},{path:"saml/sso",lazy:()=>Promise.all([n.e(8806),n.e(1285)]).then(n.bind(n,91285))},{path:"settings",lazy:()=>Promise.all([n.e(8806),n.e(2520),n.e(8780),n.e(8552),n.e(4230),n.e(3938),n.e(4437)]).then(n.bind(n,31771)),children:[{index:!0,lazy:()=>Promise.all([n.e(8806),n.e(2520),n.e(952),n.e(4738),n.e(3064),n.e(3855)]).then(n.bind(n,93855))},{path:"archives",lazy:()=>Promise.all([n.e(8806),n.e(2520),n.e(4696),n.e(2107)]).then(n.bind(n,25135))},{path:"activate",lazy:()=>Promise.all([n.e(8806),n.e(2520),n.e(292)]).then(n.bind(n,10292))},{path:"plans",lazy:()=>n.e(501).then(n.bind(n,40501))},{path:"manage",children:[{index:!0,lazy:()=>Promise.all([n.e(8806),n.e(2520),n.e(7088)]).then(n.bind(n,7088))},{path:":spaceID",lazy:()=>Promise.all([n.e(8806),n.e(2520),n.e(8229)]).then(n.bind(n,78229)),children:[{index:!0,lazy:()=>Promise.all([n.e(8806),n.e(1106)]).then(n.bind(n,11106))},{path:"folders",lazy:()=>Promise.all([n.e(8806),n.e(5110)]).then(n.bind(n,75110))},{path:"members",lazy:()=>Promise.all([n.e(8806),n.e(5988)]).then(n.bind(n,25988))}]}]},{path:"credits",lazy:()=>n.e(3345).then(n.bind(n,73345))},{path:"integrations",children:[{index:!0,lazy:()=>Promise.all([n.e(8806),n.e(2520),n.e(8401)]).then(n.bind(n,28401))},{path:"calendar-feed",lazy:()=>Promise.all([n.e(8806),n.e(2520),n.e(9728)]).then(n.bind(n,39728))},{path:"google-calendar",lazy:()=>Promise.all([n.e(8806),n.e(2520),n.e(2410)]).then(n.bind(n,22410))},{path:"zapier",lazy:()=>Promise.all([n.e(8806),n.e(2520),n.e(3479)]).then(n.bind(n,23479))}]},{path:"notifications",lazy:()=>Promise.all([n.e(8806),n.e(1374)]).then(n.bind(n,71374))},{path:"organizations",lazy:()=>Promise.all([n.e(4230),n.e(9333)]).then(n.bind(n,89333)),children:[{path:"new",lazy:()=>Promise.all([n.e(8806),n.e(2520),n.e(4230),n.e(9499)]).then(n.bind(n,91880))},{path:":organizationId",lazy:()=>Promise.all([n.e(8806),n.e(2520),n.e(6583)]).then(n.bind(n,76583)),children:[{path:"overview",lazy:()=>Promise.all([n.e(8806),n.e(2520),n.e(4230),n.e(5220),n.e(1743)]).then(n.bind(n,51743))},{path:"samlsso",lazy:()=>Promise.all([n.e(8806),n.e(2520),n.e(5220),n.e(4227)]).then(n.bind(n,96608))}]}]},{path:"password",lazy:()=>Promise.all([n.e(8806),n.e(2520),n.e(7576),n.e(952),n.e(7583),n.e(6211)]).then(n.bind(n,36211))},{path:"billing",lazy:()=>Promise.all([n.e(8806),n.e(7380)]).then(n.bind(n,67380))},{path:"sessions",lazy:()=>Promise.all([n.e(8806),n.e(8202)]).then(n.bind(n,48202))},{path:"sso",lazy:()=>Promise.all([n.e(8806),n.e(2703)]).then(n.bind(n,42703))}]},{path:"sso/desktop",lazy:()=>n.e(6480).then(n.bind(n,56480))},{path:"sso/mobile",lazy:()=>n.e(3705).then(n.bind(n,23705))},{path:"embed/:documentID",lazy:async()=>{let{EditorLayout:e}=await n.e(1184).then(n.bind(n,71184));return{element:m.createElement(e,{type:"embed"})}},children:[{index:!0,element:m.createElement(aK,null)}]},{path:"popout/agents/:agentId/chat",id:"popout/agent-chat",lazy:async()=>Promise.all([n.e(8806),n.e(7120),n.e(9176),n.e(3387),n.e(4323),n.e(6289),n.e(9530),n.e(7424),n.e(8205),n.e(724),n.e(2292),n.e(4061),n.e(1088),n.e(6210),n.e(4928),n.e(8418)]).then(n.bind(n,34124))},{path:"f/:flowId",lazy:()=>n.e(767).then(n.bind(n,50767)),children:[{index:!0,lazy:()=>Promise.all([n.e(9176),n.e(3387),n.e(4323),n.e(7854),n.e(1083),n.e(4061),n.e(1111),n.e(1390)]).then(n.bind(n,88959))}]}]},{lazy:()=>Promise.all([n.e(8806),n.e(4843),n.e(7120),n.e(683),n.e(9176),n.e(3387),n.e(6411),n.e(8860),n.e(4323),n.e(6289),n.e(9530),n.e(7576),n.e(7424),n.e(8205),n.e(724),n.e(6800),n.e(8780),n.e(7854),n.e(2292),n.e(6628),n.e(1255),n.e(6989),n.e(4573),n.e(4061),n.e(8552),n.e(7474),n.e(1088),n.e(6210),n.e(7434),n.e(7253),n.e(4928),n.e(990),n.e(1055),n.e(9863),n.e(9441),n.e(3619)]).then(n.bind(n,7542)),children:[{path:"flows/:flowId",lazy:()=>n.e(8139).then(n.bind(n,98139)),children:[{index:!0,lazy:()=>Promise.all([n.e(8806),n.e(4843),n.e(7120),n.e(683),n.e(9176),n.e(3387),n.e(4323),n.e(6289),n.e(9530),n.e(7576),n.e(8673),n.e(3992),n.e(7854),n.e(8671),n.e(6989),n.e(6252),n.e(4061),n.e(7501),n.e(114)]).then(n.bind(n,78590))},{path:"runs",lazy:()=>Promise.all([n.e(4843),n.e(683),n.e(6289),n.e(4024),n.e(9556),n.e(6094),n.e(7501),n.e(2659)]).then(n.bind(n,22212))},{path:"use",lazy:()=>Promise.all([n.e(4843),n.e(683),n.e(9176),n.e(3387),n.e(4323),n.e(9530),n.e(7854),n.e(1083),n.e(8671),n.e(4061),n.e(7501),n.e(1111),n.e(9032)]).then(n.bind(n,9032))}]},{lazy:()=>Promise.all([n.e(8806),n.e(2520),n.e(7120),n.e(9176),n.e(3387),n.e(8860),n.e(4323),n.e(6289),n.e(9530),n.e(7576),n.e(7424),n.e(8205),n.e(724),n.e(6800),n.e(8780),n.e(3992),n.e(2292),n.e(7194),n.e(4061),n.e(8552),n.e(1088),n.e(6210),n.e(7253),n.e(4928),n.e(3938),n.e(6957),n.e(4578),n.e(9441),n.e(2508)]).then(n.bind(n,18726)),children:[{path:"activity",lazy:()=>Promise.all([n.e(8806),n.e(2520),n.e(4843),n.e(683),n.e(6411),n.e(1578),n.e(4467)]).then(n.bind(n,14467))},{path:"calendar",lazy:()=>Promise.all([n.e(8806),n.e(2520),n.e(4843),n.e(7120),n.e(683),n.e(6411),n.e(1013),n.e(7377),n.e(1578),n.e(7401),n.e(5441)]).then(n.bind(n,10423))},{path:"lists/starred",lazy:()=>Promise.all([n.e(8806),n.e(4843),n.e(683),n.e(6411),n.e(1578),n.e(7232)]).then(n.bind(n,17232))},{path:"my-tasks",lazy:()=>Promise.all([n.e(8806),n.e(4843),n.e(7120),n.e(683),n.e(6411),n.e(8673),n.e(1809),n.e(1578),n.e(7474),n.e(6039),n.e(6613)]).then(n.bind(n,66613))},{path:"recent",lazy:()=>Promise.all([n.e(8806),n.e(4843),n.e(683),n.e(6411),n.e(1578),n.e(2448)]).then(n.bind(n,72448))},{path:"search",lazy:()=>Promise.all([n.e(8806),n.e(4843),n.e(683),n.e(6411),n.e(1578),n.e(5593)]).then(n.bind(n,55593))},{path:"shared",lazy:()=>Promise.all([n.e(8806),n.e(4843),n.e(683),n.e(6411),n.e(1578),n.e(747)]).then(n.bind(n,10747))},{path:"spaces/:spaceID",lazy:async()=>{let{SpaceLoaderAndLayout:e}=await Promise.all([n.e(8806),n.e(4843),n.e(7120),n.e(683),n.e(9176),n.e(3387),n.e(6411),n.e(8860),n.e(4323),n.e(6289),n.e(9530),n.e(7576),n.e(7424),n.e(6800),n.e(4024),n.e(3421),n.e(1169),n.e(2304),n.e(4061),n.e(1578),n.e(8552),n.e(6210),n.e(9062),n.e(6957),n.e(2880),n.e(4696),n.e(9439)]).then(n.bind(n,82540));return{Component:e}},children:[{index:!0,lazy:async()=>{let{ProjectListingsScreen:e}=await Promise.all([n.e(8806),n.e(4843),n.e(7120),n.e(8860),n.e(6232),n.e(7474),n.e(1088),n.e(2895),n.e(2572),n.e(2564),n.e(9593),n.e(8438)]).then(n.bind(n,97573));return{element:m.createElement(e,{documentStatus:"active"})}}},{path:"archive",lazy:async()=>{let{ProjectListingsScreen:e}=await Promise.all([n.e(8806),n.e(4843),n.e(7120),n.e(8860),n.e(6232),n.e(7474),n.e(1088),n.e(2895),n.e(2572),n.e(2564),n.e(9593),n.e(8438)]).then(n.bind(n,97573));return{element:m.createElement(e,{documentStatus:"archived"})}}},{path:"agents",lazy:()=>n.e(1251).then(n.bind(n,11251)),children:[{index:!0,lazy:()=>Promise.all([n.e(8806),n.e(7434),n.e(671)]).then(n.bind(n,97677))},{path:"teams",lazy:()=>Promise.all([n.e(8806),n.e(9875)]).then(n.bind(n,9875))}]},{path:"flows",lazy:()=>Promise.all([n.e(8806),n.e(4843),n.e(2182)]).then(n.bind(n,82182))},{path:"media",lazy:()=>Promise.all([n.e(8806),n.e(9176),n.e(3824)]).then(n.bind(n,23824))},{path:"roadmap",lazy:()=>Promise.all([n.e(8806),n.e(8534),n.e(1088),n.e(6131)]).then(n.bind(n,66131))},{path:"tasks",lazy:()=>Promise.all([n.e(8806),n.e(7424),n.e(6210),n.e(2572),n.e(1333)]).then(n.bind(n,79452))},{path:"templates",lazy:()=>Promise.all([n.e(8806),n.e(7120),n.e(8860),n.e(2895),n.e(2572),n.e(9593),n.e(4211)]).then(n.bind(n,79877))},{path:"subspaces/:subspaceID",children:[{index:!0,lazy:async()=>{let{ProjectListingsScreen:e}=await Promise.all([n.e(8806),n.e(4843),n.e(7120),n.e(8860),n.e(6232),n.e(7474),n.e(1088),n.e(2895),n.e(2572),n.e(2564),n.e(9593),n.e(8438)]).then(n.bind(n,97573));return{element:m.createElement(e,{documentStatus:"active"})}}},{path:"archive",lazy:async()=>{let{ProjectListingsScreen:e}=await Promise.all([n.e(8806),n.e(4843),n.e(7120),n.e(8860),n.e(6232),n.e(7474),n.e(1088),n.e(2895),n.e(2572),n.e(2564),n.e(9593),n.e(8438)]).then(n.bind(n,97573));return{element:m.createElement(e,{documentStatus:"archived"})}}},{path:"agents",lazy:()=>n.e(1251).then(n.bind(n,11251)),children:[{index:!0,lazy:()=>Promise.all([n.e(8806),n.e(7434),n.e(671)]).then(n.bind(n,97677))},{path:"teams",lazy:()=>Promise.all([n.e(8806),n.e(9875)]).then(n.bind(n,9875))}]},{path:"flows",lazy:()=>Promise.all([n.e(8806),n.e(4843),n.e(2182)]).then(n.bind(n,82182))},{path:"media",lazy:()=>Promise.all([n.e(8806),n.e(9176),n.e(3824)]).then(n.bind(n,23824))},{path:"roadmap",lazy:()=>Promise.all([n.e(8806),n.e(8534),n.e(1088),n.e(6131)]).then(n.bind(n,66131))},{path:"tasks",lazy:()=>Promise.all([n.e(8806),n.e(7424),n.e(6210),n.e(2572),n.e(1333)]).then(n.bind(n,79452))},{path:"templates",lazy:()=>Promise.all([n.e(8806),n.e(7120),n.e(8860),n.e(2895),n.e(2572),n.e(9593),n.e(4211)]).then(n.bind(n,79877))}]}]},{path:"spaces/:spaceID/subspaces/:subspaceID/join",lazy:()=>Promise.all([n.e(9062),n.e(9642)]).then(n.bind(n,19149))},{path:"subspaces/:subspaceID",lazy:async()=>{let{SpaceLoaderAndLayout:e}=await Promise.all([n.e(8806),n.e(4843),n.e(7120),n.e(683),n.e(9176),n.e(3387),n.e(6411),n.e(8860),n.e(4323),n.e(6289),n.e(9530),n.e(7576),n.e(7424),n.e(6800),n.e(4024),n.e(3421),n.e(1169),n.e(2304),n.e(4061),n.e(1578),n.e(8552),n.e(6210),n.e(9062),n.e(6957),n.e(2880),n.e(4696),n.e(9439)]).then(n.bind(n,82540));return{Component:e}},children:[{index:!0,lazy:async()=>{let{ProjectListingsScreen:e}=await Promise.all([n.e(8806),n.e(4843),n.e(7120),n.e(8860),n.e(6232),n.e(7474),n.e(1088),n.e(2895),n.e(2572),n.e(2564),n.e(9593),n.e(8438)]).then(n.bind(n,97573));return{element:m.createElement(e,{documentStatus:"active"})}}},{path:"archive",lazy:async()=>{let{ProjectListingsScreen:e}=await Promise.all([n.e(8806),n.e(4843),n.e(7120),n.e(8860),n.e(6232),n.e(7474),n.e(1088),n.e(2895),n.e(2572),n.e(2564),n.e(9593),n.e(8438)]).then(n.bind(n,97573));return{element:m.createElement(e,{documentStatus:"archived"})}}},{path:"agents",lazy:()=>n.e(1251).then(n.bind(n,11251)),children:[{index:!0,lazy:()=>Promise.all([n.e(8806),n.e(7434),n.e(671)]).then(n.bind(n,97677))},{path:"teams",lazy:()=>Promise.all([n.e(8806),n.e(9875)]).then(n.bind(n,9875))}]},{path:"flows",lazy:()=>Promise.all([n.e(8806),n.e(4843),n.e(2182)]).then(n.bind(n,82182))},{path:"media",lazy:()=>Promise.all([n.e(8806),n.e(9176),n.e(3824)]).then(n.bind(n,23824))},{path:"roadmap",lazy:()=>Promise.all([n.e(8806),n.e(8534),n.e(1088),n.e(6131)]).then(n.bind(n,66131))},{path:"tasks",lazy:()=>Promise.all([n.e(8806),n.e(7424),n.e(6210),n.e(2572),n.e(1333)]).then(n.bind(n,79452))},{path:"templates",lazy:()=>Promise.all([n.e(8806),n.e(7120),n.e(8860),n.e(2895),n.e(2572),n.e(9593),n.e(4211)]).then(n.bind(n,79877))}]}]},{path:"d/:documentID",lazy:async()=>{let{EditorLayout:e}=await n.e(1184).then(n.bind(n,71184));return{element:m.createElement(e,{type:"document"})}},children:[{index:!0,element:m.createElement(aK,null)}]},{path:"new",lazy:async()=>{let{EditorLayout:e}=await n.e(1184).then(n.bind(n,71184));return{element:m.createElement(e,{type:"new"})}},children:[{index:!0,element:m.createElement(aK,null)},{path:"from/:fromID",element:m.createElement(aK,null)}]},{path:"new/template",lazy:async()=>{let{EditorLayout:e}=await n.e(1184).then(n.bind(n,71184));return{element:m.createElement(e,{type:"new/template"})}},children:[{index:!0,element:m.createElement(aK,null)},{path:"from/:fromID",element:m.createElement(aK,null)}]},{path:"spaces/:spaceID/new",lazy:async()=>{let{EditorLayout:e}=await n.e(1184).then(n.bind(n,71184));return{element:m.createElement(e,{type:"new"})}},children:[{index:!0,element:m.createElement(aK,null)},{path:"from/:fromID",element:m.createElement(aK,null)}]},{path:"spaces/:spaceID/new/template",lazy:async()=>{let{EditorLayout:e}=await n.e(1184).then(n.bind(n,71184));return{element:m.createElement(e,{type:"new/template"})}},children:[{index:!0,element:m.createElement(aK,null)},{path:"from/:fromID",element:m.createElement(aK,null)}]},{path:"spaces/:spaceID/subspaces/:subspaceID/new",lazy:async()=>{let{EditorLayout:e}=await n.e(1184).then(n.bind(n,71184));return{element:m.createElement(e,{type:"new"})}},children:[{index:!0,element:m.createElement(aK,null)},{path:"from/:fromID",element:m.createElement(aK,null)}]},{path:"spaces/:spaceID/subspaces/:subspaceID/new/template",lazy:async()=>{let{EditorLayout:e}=await n.e(1184).then(n.bind(n,71184));return{element:m.createElement(e,{type:"new/template"})}},children:[{index:!0,element:m.createElement(aK,null)},{path:"from/:fromID",element:m.createElement(aK,null)}]}]},{lazy:()=>Promise.all([n.e(4619),n.e(6656)]).then(n.bind(n,83302)),children:[{path:"billing/checkout/:productId/:interval",lazy:()=>n.e(5762).then(n.bind(n,5762))},{path:"forgot",lazy:()=>n.e(8020).then(n.bind(n,88020))},{path:"getting-started",lazy:()=>n.e(4602).then(n.bind(n,24602))},{path:"login",lazy:async()=>{let{LogInScreen:e}=await Promise.all([n.e(6628),n.e(9430)]).then(n.bind(n,75467));return{Component:e}}},{path:"mfa/authenticate",lazy:()=>Promise.all([n.e(8806),n.e(9176),n.e(9277)]).then(n.bind(n,29277))},{path:"onboarding",lazy:()=>Promise.all([n.e(8806),n.e(3064),n.e(1005)]).then(n.bind(n,70333))},{path:"reset/:passwordResetRequestID",lazy:()=>n.e(3269).then(n.bind(n,93269))},{path:"verify-email/:token",lazy:async()=>{let{VerifyEmailScreen:e}=await Promise.all([n.e(6628),n.e(9430)]).then(n.bind(n,75467));return{Component:e}}},{path:"signup",lazy:()=>n.e(4710).then(n.bind(n,54710))},{path:"*",lazy:()=>Promise.all([n.e(4619),n.e(893)]).then(n.bind(n,26919))}]}]}];var a0=n(41198),a1=n(74040);let a8=i.gu(E.Ys);function a2(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:a8(aX),l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){let e={},t=X.p?.getAnonymousId()??void 0;null!=t&&(e["X-Anonymous-ID"]=t);let n=new V.D({possibleTypes:{IUser:["CurrentUser","User"],IPaymentMethod:["StripeCard"],SearchHit:["SearchHitNode","SearchHitComment"]},typePolicies:es});"undefined"!=typeof window&&null!=window.__APOLLO_STATE__&&n.restore(window.__APOLLO_STATE__);let a=new $.z({uri:"/graphql",batchMax:10,batchInterval:40,fetch:W(),headers:e}),l=new URL("/graphql/subscription","https://www.taskade.com");if("http:"===l.protocol)l.protocol="ws:";else if("https:"===l.protocol)l.protocol="wss:";else throw new s.TaskadeError({message:`Unknown protocol ${l.protocol} in root URL`});let i=new ea((0,Q.UU)({url:l.href})),r=(0,J.l)(e=>{let{query:t}=e,n=(0,q.Vn)(t);return"OperationDefinition"===n.kind&&"subscription"===n.operation},i,a);return new G.R({name:"taskade-web-frontend",version:Y(),link:r,credentials:"same-origin",headers:e,cache:n,assumeImmutableResults:!0,resolvers:el,typeDefs:er})}(),i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,r=arguments.length>6&&void 0!==arguments[6]&&arguments[6],o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:a1.A,d=arguments.length>8&&void 0!==arguments[8]?arguments[8]:new k.E,u={apolloClient:l,router:a,queryClient:d};(0,a0.z)(u);let p=(0,b.Ay)({context:u}),y=[T.A.withExtraArgument(u),p,eh];if(!r){var h;y=[...y,(h=(0,I.Ay)({transports:["websocket"]}),e=>((function(e,t){let{dispatch:n}=t;e.on("connect",()=>{n((0,eg.Ng)())}),e.on("connect_error",e=>{n((0,eg.z3)(e))}),e.on("disconnect",e=>{n((0,eg.Zf)(e))}),e.io.on("error",e=>{n((0,eg.zT)(e))}),e.io.on("reconnect",e=>{n((0,eg.M6)(e))}),e.io.on("reconnect_attempt",e=>{n((0,eg.RL)(e))}),e.io.on("reconnect_error",e=>{n((0,eg.eA)(e))}),e.io.on("reconnect_failed",()=>{n((0,eg.HU)())})})(h,e),e=>t=>{switch(t.type){case eg.DP:c()(t,["executor","resolve"])(h);break;case eg.yb:{let{executor:e,payload:n}=t,{eventName:a,args:l}=n;if(f()(e))h.emit(a,...l);else{let{resolve:t}=e;h.emit(a,...l,t)}break}case eg.Ut:h.close().open()}return e(t)}))]}let g=(0,A.Tw)(...y);t&&(g=(0,S.tY)({})(g));let N=e?{...e,attachments:{...eH,...c()(e,["attachments"],{})},auth:{...eW,...c()(e,["auth"],{})},documents:{...nC,...c()(e,["documents"],{})},entities:{...nG,...c()(e,["entities"],{})},spaces:{...aL,...c()(e,["spaces"],{})}}:e,E=(0,A.y$)(aU(),N,g);n&&p.run(n);let D=(0,ep.kS)();return f()(D)||(D.store=E),m.createElement(v.tH,{fallback:e=>m.createElement(aV,{apolloClient:l,errorData:e,getAgentLocale:o,store:E})},m.createElement(H,{apolloClient:l,queryClient:d,getAgentLocale:o,store:E,helmetContext:i,router:a}))}var a6=n(43786),a5=n(777),a4=n(23216),a7=n(97838),a3=n(73043),a9=n(31876),le=n(67356),lt=n(93382),ln=n(8130),la=n(65705),ll=n(48841),li=n(86955);let lr=(0,ei.Ay)`
  query ProjectAddonsReactionQuery($id: ID!, $shareToken: ShareTokenInput) {
    document(id: $id, shareToken: $shareToken) {
      id
      addons {
        reactionCollections {
          id
          node_id
          emojis {
            name
            users {
              skin
              user {
                ...BasicUserFields
              }
            }
            created_at
          }
        }
      }
    }
  }
  ${li.F}
`,lo={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ProjectAssignmentQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"documentId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"document"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"documentId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"assignments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"NullValue"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"user"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"handle"}},{kind:"Field",name:{kind:"Name",value:"initials"}},{kind:"Field",name:{kind:"Name",value:"avatars_v2"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"small"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mdpi"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]},ls={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ProjectSharedPreferencesQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"documentId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"document"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"documentId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"shared_preferences"}}]}}]}}]};function ld(e,t,n){let a=n.readQuery({query:ls,variables:{documentId:e}});if(null==a||null==a.document)return;let l={...a.document.shared_preferences};null==t?(delete l.start,delete l.end):(l.start=t.start,l.end=t.end),n.writeQuery({query:ls,variables:{documentId:e},data:{...a,document:{...a.document,shared_preferences:l}}})}var lu=n(15233),lc=n(94337),lp=n(61448),lf=n.n(lp);function lm(e,t){let n=lf()(t,["type"])&&lf()(t,["id"])?`${t.type}:${t.id}:chatroom`:null;if(null==n)throw Error("chatroomID cannot be null");return(0,b.Od)(a=>{let l=e=>{a(b.Kp)};return e.on(n,e=>{a((0,lt.GV)(t,e))}),e.on("disconnect",l),()=>{e.off(n,l),e.off("disconnect",l)}},b.u2.expanding(8))}function*ly(e){for(;;){let t=yield(0,a6.s)(e);if(t.type===lt.bL){let{data:e}=t.payload,n=a7.E.safeParse(e);if(!n.success){(0,aB.A)(n.error,a4,{extras:{data:JSON.stringify(e)}});continue}switch(n.data.type){case"attachment/create":yield(0,a6.yJ)((0,eM.Xl)(e.attachment,e.info));break;case"attachment/delete":yield(0,a6.yJ)((0,eM.eA)(e.which));break;case"attachment/edit":yield(0,a6.yJ)((0,eM.bt)([e.attachment]));break;case"attachment/due-date/recur":yield(0,a6.yJ)((0,eM.bt)(e.attachments));break;case"attachment/assignee-updated":{let t=a3.q.safeParse(e);if(!t.success){let e=new s.HttpError({code:"BAD_REQUEST",message:"Received bad data from `attachment/assignee-updated`"},{cause:t.error});(0,aB.A)(e,a4);break}let n=t.data,{operation:a,projectId:l,nodeId:i,attachmentId:r}=n,o=yield(0,a6.SD)("apolloClient"),u=o.readQuery({query:ll.i,variables:{id:l,shareToken:null}}),c=(0,d.Ay)(u,e=>{if(e?.document!=null)switch(a){case"created":{let t=o.readFragment({fragment:ln.K,id:`User:${n.assignee.id}`}),a={__typename:"ProjectAddonAssignee",id:r,nodeId:i,assigner:o.readFragment({fragment:ln.K,id:`User:${n.assignee.id}`}),assignee:t??{__typename:"User",id:n.assignee.id.toString(),default_name:`unknown${n.assignee.id}`,display_name:null,handle:`unknown${n.assignee.id}`,initials:"UN",timezone:"Etc/UTC",avatars_v2:{small:{ldpi:{url:"/images/no-avatar.png"},mdpi:{url:"/images/no-avatar.png"}}}}};if(null==e.document.addons)e.document.addons={assignees:[a]};else if(null==e.document.addons.assignees)e.document.addons.assignees=[a];else{let t=e.document.addons.assignees.findIndex(e=>e.id===r);-1===t?e.document.addons.assignees.push(a):e.document.addons.assignees[t]=a}break}case"removed":{if(null==e.document.addons||null==e.document.addons.assignees)return;let t=e.document.addons.assignees.findIndex(e=>e.id===r);if(-1===t)return;e.document.addons.assignees.splice(t,1)}}});o.writeQuery({query:ll.i,data:c,variables:{id:l,shareToken:null}});break}case"attachment/date-updated":{let t=a9.F.safeParse(e);if(!t.success){let e=new s.HttpError({code:"BAD_REQUEST",message:"Received bad data from `attachment/date-updated`"},{cause:t.error});(0,aB.A)(e,a4);break}let n=t.data,{projectId:a,nodeId:l,attachmentId:i,operation:r}=n,o=yield(0,a6.SD)("apolloClient"),u=o.readQuery({query:ll.i,variables:{id:a,shareToken:null}});if(null==u)break;let c=(0,d.Ay)(u,e=>{if(null!=e.document)switch(r){case"created":case"updated":{let t=o.readFragment({fragment:ln.K,id:`User:${n.creator.id}`})??{__typename:"User",id:n.creator.id.toString(),default_name:`unknown${n.creator.id}`,display_name:null,handle:`unknown${n.creator.id}`,initials:"UN",timezone:"Etc/UTC",avatars_v2:{small:{ldpi:{url:"/images/no-avatar.png"},mdpi:{url:"/images/no-avatar.png"}}}},a={__typename:"ProjectAddonDate",id:i,nodeId:l,addonDate:n.addonDate,author:t};if(null==e.document.addons)e.document.addons={dates:[a]};else if(null==e.document.addons.dates)e.document.addons.dates=[a];else{let t=e.document.addons.dates.findIndex(e=>e.id===i);-1===t?e.document.addons.dates.push(a):e.document.addons.dates[t]=a}break}case"removed":{if(null==e.document.addons||null==e.document.addons.dates)return;let t=e.document.addons.dates.findIndex(e=>e.id===i);if(-1===t)return;e.document.addons.dates.splice(t,1)}}});o.writeQuery({query:ll.i,data:c,variables:{id:a,shareToken:null}});break}case"attachment/countdown-updated":{let{projectId:t}=e,n=yield(0,a6.SD)("apolloClient");yield(0,a6.T1)([n,"query"],{query:la.X,variables:{id:t,shareToken:null},fetchPolicy:"network-only"});break}case"attachment/reaction-updated":{let{projectId:t}=e,n=yield(0,a6.SD)("apolloClient");yield(0,a6.T1)([n,"query"],{query:lr,variables:{id:t,shareToken:null},fetchPolicy:"network-only"});break}case"document/set-date":if(e.ok&&"document"===e.to.type){let{start:t,end:n}=e,a=yield(0,a6.SD)("apolloClient");ld(e.to.id,null!=t?{start:t,end:n}:null,a)}break;case"document/delete-date":if(e.ok&&"document"===e.to.type){let t=yield(0,a6.SD)("apolloClient");ld(e.to.id,null,t)}break;case"tag/tag-template":case"tag/tag-document":if(e.ok&&"document"===e.to.type){let{tag:t,tagged:n}=e,a=yield(0,a6.SD)("apolloClient");(0,lu.A)(e.to.id,(0,lu.q)(t),n,a.cache)}break;case"assignment/assign-to-document":if(e.ok&&"document"===e.to.type){let{assignment:t,assigned:n}=e,a=yield(0,a6.SD)("apolloClient");!function(e,t,n,a){let l=a.readQuery({query:lo,variables:{documentId:e}});if(null==l||null==l.document||null==l.document.assignments.edges)return;let i=l.document.assignments.edges,r=i.findIndex(e=>null!=e&&null!=e.node&&e.node.id===t.id);if(n){if(-1!==r)return;i=[...i,{node:{__typename:"Assignment",id:t.id,user:{__typename:"User",id:`${t.user.id}`,handle:t.user.handle,initials:t.user.initials,avatars_v2:{__typename:"UserAvatarV2",small:{__typename:"UserAvatar",mdpi:{__typename:"Image",url:c()(t.user.avatars,["small","mdpi","url"],"/images/no-avatar.png")}}}}}}]}else{if(-1===r)return;(i=[...i]).splice(r,1)}a.writeQuery({query:lo,variables:{documentId:e},data:{...l,document:{...l.document,assignments:{...l.document.assignments,edges:i}}}})}(e.to.id,t,n,a)}}}}}function*lh(e){let t=t=>t.type===lt.Ps&&td()(c()(t,["payload","to"]),e);for(;;){let{payload:n,executor:a}=yield(0,a6.s)(t),{body:l}=n,i=yield(0,a6.c0)((0,lc.P)("CHATROOM_MESSAGE",{id:(0,e9.A)(),type:"message",to:e,body:l}));i.ok?a.resolve():a.reject({[le.Ym]:i.details})}}function*lg(e){yield(0,a6.yJ)((0,lt.HN)(e,eT.zb));let t=yield(0,a6.c0)((0,lc.P)("CHATROOM_JOIN",{id:(0,e9.A)(),type:"join",to:e}));if(!t.ok){let e=new s.FetchError(t);throw Object.assign((yield(0,a6.T1)([e,e.toTaskadeError]))??e,{shouldRetry:!0})}yield(0,a6.yJ)((0,lt.HN)(e,eT.g))}function*lN(e){let{to:t}=e.payload,n=yield(0,a6.c0)((0,lc.O)()),a=0;for(;;){if(a>0){let e=2**Math.min(a,8);yield(0,a6.cb)(1e3*e)}n.connected||(yield(0,a6.s)(eg.hg));let e=null,l=null;try{e=yield(0,a6.T1)(lm,n,t),yield(0,a6.T1)(lg,t),a=0,l=yield(0,a6.Zy)(lh,t),yield(0,a6.T1)(ly,e)}catch(t){let{shouldRetry:e}=t;if(!e)throw t;a+=1}finally{f()(e)&&(e.close(),e=null),l&&(yield(0,a6.ZT)(l),l=null),yield(0,a6.yJ)((0,lt.rj)(t))}}}function*lv(e){let{to:t}=e.payload;yield(0,a6.yJ)((0,lt.rj)(t)),yield(0,a6.yJ)((0,eg.Ic)("CHATROOM_LEAVE",{id:(0,e9.A)(),type:"leave",to:t}))}function*lk(e){let t=!1,n=null;try{let a=yield(0,a6.Zy)(lN,e);n=yield(0,a6.s)(lt.KL),yield(0,a6.ZT)(a),t=!0}finally{(t||(yield(0,a6.KW)()))&&(yield(0,a6.T1)(lv,n))}}var lE=n(62061),lA=n(87493),lS=n(20955),lb=n(773),lT=n(17594),lI=n(3178);function*lD(e){let t=yield(0,a6.T1)(lE.fG,`/web-api/d/${e}/info`);t.ok&&(yield(0,a6.yJ)((0,eF.Cj)(t)))}function*lO(e){let{callback:t,documentID:n}=e.payload,a=yield(0,a6.Lt)(),l=(0,lT._v)(a,null,n),i=l.getStatus(),o=l.space.id,d=(0,tA.Ob)(a);if(l){let e=l.set("isArchived",!l.isArchived);yield(0,a6.yJ)((0,nJ.xD)({documents:{[n]:e.toEntity()}})),yield(0,a6.yJ)((0,aM.cZ)(o,n,i)),yield(0,a6.yJ)((0,eN.success)((0,lA.Ih)(e.isArchived)));try{let r=l.isArchived?lE.SJ:lE.Uc,u=yield(0,a6.T1)(r,`/d/${n}/archive`);if(u.ok)yield(0,a6.yJ)((0,aM.Fn)(o,e.getStatus())),t&&t();else if(yield(0,a6.yJ)((0,nJ.xD)({documents:{[n]:l.toEntity()}})),yield(0,a6.yJ)((0,aM.RU)(o,n,i,0)),d===n&&401===u.status){let e=(0,ep.kS)();if(!f()(e)){let t=yield(0,a6.SD)("router");(0,s.assert)(null!=t,"Router should be available in the context");let{pathname:n,search:l}=t.state.location,i=(0,tA.Ob)(a),r=(0,lb.wz)(a),o=(0,lI.E6)(a),d=(0,tA.D8)(i,n,l,r,o,!1);e.location.href=d}}}catch(e){r.v4(t=>{t.setExtra("documentID",n),r.Cp(e)})}}}function*l_(e){let t=yield(0,a6.Lt)(),n=(0,tA.r3)(t),a=(0,lb.eP)(t);yield(0,a6.yJ)((0,nQ.vn)({hideChat:!n}));try{if(a){let t=n?lE.SJ:lE.Uc;(yield(0,a6.T1)(t,`/d/${e}/hide-chat`)).ok||(yield(0,a6.yJ)((0,nQ.vn)({hideChat:n})))}}catch(t){r.v4(n=>{n.setExtra("documentID",e),r.Cp(t)})}}function*lw(e){let t=yield(0,a6.Lt)(),n=(0,tA.iS)(t);yield(0,a6.yJ)((0,e1.G)(!n)),yield(0,a6.yJ)((0,nQ.vn)({hideCompleted:!n}));try{let t=n?lE.SJ:lE.Uc;(yield(0,a6.T1)(t,`/d/${e}/hide-completed`)).ok||(yield(0,a6.yJ)((0,e1.G)(n)),yield(0,a6.yJ)((0,nQ.vn)({hideCompleted:n})))}catch(t){r.v4(n=>{n.setExtra("documentID",e),r.Cp(t)})}}function*lC(e){let t=yield(0,a6.Lt)();if(!(0,lb.eP)(t)){yield(0,a6.yJ)((0,eF.Ws)(e,eT.g));return}yield(0,a6.yJ)((0,eF.Ws)(e,eT.zb));let n=yield(0,a6.T1)(lE.fG,`/web-api/d/${e}/collaborators`);if(n.ok){yield(0,a6.yJ)((0,eF.Ws)(e,eT.g));let a=yield(0,a6.T1)([n,n.json]),l=c()(a,["payload","collaborators"],[]),i=(0,lS.UZ)(l),r=(0,lT._v)(t,null,e).set("collaborators",l);yield(0,a6.yJ)((0,nJ.xD)({...i.entities,documents:{...i.entities.documents,[e]:r.toEntity()}}))}else yield(0,a6.yJ)((0,eF.Ws)(e,eT.zu))}function*lx(e,t){let n=(0,lS.UZ)(t),a=yield(0,a6.Lt)(),l=(0,lT._v)(a,null,e),i=l.collaborators||[],r=l.set("collaborators",[...t,...i]);yield(0,a6.yJ)((0,nJ.xD)({...n.entities,documents:{...n.entities.documents,[e]:r.toEntity()}}))}var lP=n(86641),lF=n(37562),lM=n(54227),lR=n(84819),lL=n(66665);function lj(e){let t=(0,tA.Ho)(e);if(f()(t))return;let{id:n}=t;return n}function*lU(){let e=yield(0,a6.Lt)(lj);if(f()(e)){let t=Error("Unable emit presence for unknown document");r.v4(n=>{n.setExtra("documentId",e),r.Cp(t)});return}let t=yield(0,a6.c0)((0,lc.O)()),n=function(t){if(t.type===e5.cF){let{changeset:n}=t.payload;return n.id===e}return!1};for(;;){t.connected||(yield(0,a6.s)(eg.hg));let e=function(e){let t=(0,lb.mB)(e);if(f()(t))return;let n=(0,tA.Ho)(e);if(f()(n))return;let{id:a,space:l}=n;if(f()(l))return;let{id:i}=l,r={type:"presence",to:{type:"document",id:a,space:i}},o=function(e,t){let n={},a=(0,tA.qB)(e);f()(a)||(n.document=a);let l=e.chatroom.latestMessageAt;return null!=l&&(n.chatroom=l),tE()(n)?void 0:n}(e,0);return f()(o)||(r.snapshot=o),r}((yield(0,a6.Lt)()));f()(e)||(yield(0,a6.yJ)((0,eg.Ic)("PRESENCE",e)));let{timeout:a,action:l}=yield(0,a6.O4)({timeout:(0,a6.cb)(3e4),action:(0,a6.s)(n)});f()(l)||(yield(0,a6.cb)(500))}}var lz=n(17833),lB=n.n(lz);let lH=lB()("taskcade:frontend:sagas:sync"),lJ=new Set([eM.Pt,e5.Z9,eM.c8,e8.VH,eM.h5,eM.m,eM._E,e8.VE,eM.pZ,e8.IH,e8.w7,e8.qB,e8.bR,e8.qY,eM.Dt,eM.vB,eM.D5,eM.FM,eM.GJ,eM.Nb,e8.UZ,eM.eI,eM.MQ,eM.Bt,e5.Fn,eM.bo,eM.i,eM.y4,eM.gc,eM.L3,e8.hq,e8.s8,e8.Pl,e8.jg,e8._b,eM.mu,eM.hJ,e8.Hl,e8.k0,e8.$6,e8.ng,e8.KB]),lG=new Set([e5.or,e5.Tp,aC.ZW]);function lV(e){return!!lJ.has(e.type)||!lG.has(e.type)&&((0,e2.y)(e)?"local"===e.payload.type:(lH(`Uncategorized sync action: ${e.type}`),!1))}var l$=n(38970),lq=n(79666),lZ=n(42719),lW=n(67347);async function lQ(e,t){let n=JSON.stringify(e.serialize()),a=await fetch(t,{credentials:"same-origin",method:"POST",headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":"application/json","X-Anonymous-ID":X.p?.getAnonymousId()??void 0},body:n});if(!a.ok)throw new s.FetchError(a);let l=await a.json(),i={contents:e,revision:l.meta.revision};return{...l,serverState:i}}function*lY(e,t){let n=yield(0,a6.Lt)(),a=(0,lR.hE)(n),l=(0,tA.Ob)(n),i=f()(l);for(;i;){(0,s.assert)(null==t,"New document shouldn't have server state yet");let n=yield(0,a6.s)(e),r=yield(0,a6.Lt)(lR.hE);if(n.type===eM.D5){a=r;continue}if(n.type===eM.Bt){let e=n.payload.nodeID;if(null!=e){let t=a.findNodeByID(e),n=r.findNodeByID(e);if(null!=t&&null!=n&&0===t.text.diff(n.text).length()){a=r;continue}}}if(n.type===e5.Z9)yield(0,a6.yJ)((0,e5.HN)(eI.ct));else{if(a===r)continue;if(yield(0,a6.yJ)((0,e5.HN)(eI.DY)),yield(0,a6.cb)(500),yield(0,a6.yJ)((0,e5.HN)(eI.ct)),yield(0,a6.bX)(e),a===(r=yield(0,a6.Lt)(lR.hE))){yield(0,a6.yJ)((0,e5.HN)(eI.JW));continue}}try{let e=yield(0,a6.SD)("router");(0,s.assert)(null!=e,"Router should be available in the context");let{location:n}=e.state;(0,s.assert)(null!=n,"Location should be available");let o=`${n.pathname}${n.search}${n.hash}`,d=yield(0,a6.T1)(lQ,r,o);t=d.serverState;let{meta:u,documents:p,memberships:m,spaces:y}=d,h=c()(p,[0,"creator"]),g=c()(p,[0,"editPath"]),N=c()(p,[0,"id"]),v=c()(u,["space","id"],null),{entities:k}=(0,lq.hM)(p),{entities:E}=(0,lW._5)(y),{entities:A,result:S}=(0,lZ._O)(m),b={users:{...k.users,...A.users}};yield(0,a6.yJ)((0,nJ.xD)({...k,...A,...E,...b})),f()(v)||(yield(0,a6.yJ)((0,aM.ht)(v,S,eT.g))),yield(0,a6.yJ)((0,eM.Ey)()),yield(0,a6.yJ)((0,e5.hz)(u));let T=u.preferences?.hideCompleted;if(null!=T&&(yield(0,a6.yJ)((0,e1.G)(T))),h)e.navigate(`/d/${N}`,{replace:!0});else{let t=new URLSearchParams(n.search),a=new URLSearchParams,l=t.get("as");if(null!=l){let e=l$.H.safeParse(l);e.success&&a.set("as",e.data)}g&&(a.set("share","edit"),a.set("edit",g.replace("/e/",""))),e.navigate({pathname:`/d/${N}`,search:a.toString()},{replace:!0})}yield(0,a6.yJ)((0,e5.HN)(eI.JW)),a=r,l=yield(0,a6.Lt)(tA.Ob),i=f()(l)}catch(t){let{res:e}=t;throw t}}return(0,s.assert)(null!=t,"Server state should be available"),{contents:a,id:l,serverState:t}}var lK=n(41298),lX=n.n(lK),l0=n(60555);let l1="@@taskade/rtce/RECV_SERVER_CHANGESET",l8="@@taskade/rtce/SYNC_CLIENT_CHANGESET";function l2(e){return{type:l1,payload:{changeset:e}}}async function l6(e){let t=(0,tA.Ob)(e),n=(0,tA.qB)(e),a=new URL(`/d/${t}/changes`,"https://www.taskade.com"),l=JSON.stringify({revision:n}),i=await fetch(a,{credentials:"same-origin",method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:l});if(!i.ok)throw new s.FetchError(i);return i.json()}function*l5(e,t,n){let a=yield(0,a6.Lt)(tA.qB),l=yield(0,a6.c0)((0,lc.P)("DOCUMENT_SYNC",e,a));if(!l.ok)throw l.error||Error("unknown error occurred preventing us from syncing the document");let{changes:i}=l.payload;for(let e of i)yield(0,a6.yJ)(n,l2(e));for(;;){let e=yield(0,a6.s)(t);yield(0,a6.yJ)(n,l2(e))}}function*l4(e,t){let n=yield(0,a6.c0)((0,lc.O)());for(;;){n.connected||(yield(0,a6.s)(eg.hg));let a=null;try{a=function(e,t){let n=`document:${t}:changes`;return(0,b.Od)(t=>{let a=e=>{t(e)},l=e=>{t(b.Kp)};return e.on(n,a),e.on("disconnect",l),()=>{e.off(n,a),e.off("disconnect",l)}},b.u2.expanding(8))}(n,e),yield(0,a6.T1)(l5,e,a,t)}finally{f()(a)||(a.close(),a=null)}}}async function l7(e,t,n){(0,s.assert)(null!=t,"Expect document ID to be available"),e.source.release="5.94.1";let a=JSON.stringify(e),l=function(e,t){let n=new URL(`/d/${e}/collaborate`,"https://www.taskade.com");if("string"==typeof t&&t.length>0){let e=a$.parse(t),a=e.share;if("edit"===a){let t=e[a];"string"==typeof t&&t.length>0&&(n.searchParams.set("share",a),n.searchParams.set("edit",t))}else if("check"===a){let t=e[a];"string"==typeof t&&t.length>0&&(n.searchParams.set("share",a),n.searchParams.set("check",t))}}return n}(t,n),i=await fetch(l,{credentials:"same-origin",method:"POST",headers:{"X-Anonymous-ID":X.p?.getAnonymousId()??void 0,Accept:"application/json","Content-Type":"application/json"},body:a});if(!i.ok)throw new s.FetchError(i);return i.json()}let l3=lB()("taskade:rtce");function*l9(e,t){for(yield(0,a6.cb)(500),yield(0,a6.bX)(e);;)if(function(e,t){switch(e.type){case eM.D5:if(t)return!1;return!0;case eM.Bt:{if(t)return!1;let{change:n}=e.payload;return n.operations.some(e=>e?.type!=="set_selection")}default:return!0}}((yield(0,a6.s)(e)),(yield(0,a6.Lt)(tA._o))))switch(yield(0,a6.Lt)(tA.ZA)){case eI.N_:case eI.JW:case eI.uA:yield(0,a6.yJ)((0,e5.HN)(eI.DY)),yield(0,a6.bX)(e),yield(0,a6.yJ)(t,{type:l8,payload:{}})}}function*ie(e,t,n,a){l3(`Running RTCE for document ${e}…`),r.ZQ({category:"rtce",message:"Run RTCE",data:{documentID:e}});let l=t,i=null,o=[];function*d(t){let n=yield(0,a6.Lt)(),a=(0,tA.qB)(n);if((0,s.assert)(null!=a,"Expect editor revision to be available"),(0,s.assert)(a===l.revision,"Editor revision should match server revision"),null==t.from)return console.warn(`Server changeset without from, assume to be an origin changeset, skipping…`),!0;if(t.from.revision<a)return!0;if(t.from.revision>a)return console.warn(`Editor at revision ${a}, unable to apply changeset for revision ${t.from.revision}, queuing it up…`),!1;(0,s.assert)(t.from.revision===a,"Expect editor revision to match server changeset");let r=(0,l0.hI)(n);(0,s.assert)(null!=r,"Expect editor site ID to be available");let o=(0,lR.hE)(n),d=(0,eE.applyServerChangeset)({siteId:r,id:e,serverState:l,contents:o,submittedClientChangeset:i},t);return yield(0,a6.c0)((0,e5.TJ)(d.serverChangesetPrime,d)),l=d.serverState,i=d.submittedClientChangeset,!0}function*u(){try{let e=yield(0,a6.Lt)();for(let t of(yield(0,a6.T1)(l6,e)).payload.changesets)if(!(yield(0,a6.T1)(d,t)))throw Error("Failed to pull latest changes from server");let t=yield(0,a6.Lt)(tA.qB),n=eP()(o,e=>null!=e.from&&e.from.revision>=t);-1===n&&(n=o.length),o.splice(0,n)}catch(n){let t=yield(0,a6.Lt)(tA.qB);throw new s.TaskadeError({message:"Missing revision, unable to follow up",scope:{extras:{documentID:e,revision:t,pendingRevisions:o.map(e=>null!=e.from?e.from.revision:-1),details:(0,s.getMessageFromError)(n)}}},{cause:n})}}for(yield(0,a6.Zy)(l4,e,n),yield(0,a6.Zy)(l9,a,n);;){let t=yield(0,a6.s)(n);switch(t.type){case l1:{l3("Receive server changeset…"),r.ZQ({category:"rtce",message:"Receive server changeset",data:{serverChangesetRevision:t.payload.changeset.from?.revision,pendingChangesetsLength:o.length,submittedChangesetUuid:i?.uuid}});let e=lX()(o,t.payload.changeset,e=>null!=e.from?e.from.revision:-1);for(o.splice(e,0,t.payload.changeset);o.length>0;){let e=o[0];if(!(yield(0,a6.T1)(d,e)))break;o.shift()}o.length>5&&(yield(0,a6.T1)(u));break}case l8:{l3("Sync client changeset…"),r.ZQ({category:"rtce",message:"Sync client changeset",data:{pendingChangesetsLength:o.length,submittedChangesetUuid:i?.uuid}});let t=!0;try{for(null!=i&&(yield(0,a6.T1)(u),null!=i&&(i=null));;){yield(0,a6.cb)(500);let n=yield(0,a6.Lt)(),a=(0,l0.hI)(n);(0,s.assert)(null!=a,"Expect client site ID to be available");let r=(0,lR.hE)(n),o=(0,eE.generateClientChangeset)({siteId:a,id:e,serverState:l,contents:r,submittedClientChangeset:i},{generateUuid:()=>(0,eb.Z0)()});if(null==o){yield(0,a6.yJ)((0,e5.HN)(eI.JW));break}yield(0,a6.yJ)((0,e5.HN)(eI.ct)),l3("Syncing client changeset:\n%j",{clientRev:(0,tA.qB)(n),changeset:o}),i=o;let u=yield(0,a6.SD)("router");(0,s.assert)(null!=u,"Router should be available in the context");let c=u.state.location.search,{meta:p,changesets:f}=yield(0,a6.T1)(l7,i,e,c);for(let e of(t=!1,f))yield(0,a6.T1)(d,e);let m=yield(0,a6.Lt)(tA.qB);if(p.revision!==m)throw Error("Fail to stay in sync");yield(0,a6.c0)((0,e5.hs)(p)),t=!0}}catch(n){let e=(0,s.getStatusCodeFromError)(n);if(409===e)throw n;{if(!t)throw n;let a=(0,s.mergeSentryScopes)((0,s.getSentryScopeFromError)(n),{extras:{recoverable:t,statusCode:e}});r.v4(e=>{let{extras:t}=a;null!=t&&e.setExtras(t),r.Cp(n)});let l=(0,s.getMessageFromError)(n);console.warn(`Recovering from ${l}`),yield(0,a6.yJ)((0,e5.HN)(eI.uA))}}}}}}function*it(e,t,n){let a=null;try{console.log(`Starting RTCE for Document ${e}…`),a=yield(0,a6.T1)(b.Ix,b.u2.expanding(8)),yield(0,a6.T1)(ie,e,t,a,n)}finally{f()(a)||(a.close(),a=null)}}function*ia(e){let t=null;try{let n=lP.BF().getScope()?.getTransaction()?.startChild({op:"editor.lifecycle.setup-rtce"});t=yield(0,a6.wE)(lV,b.u2.sliding(1));let{serverState:a,id:l}=yield(0,a6.T1)(lY,t,e);yield(0,a6.Zy)(lU),n?.finish(),yield(0,a6.T1)(it,l,a,t)}catch(e){if(409===c()(e,["res","status"]))yield(0,a6.yJ)((0,aC.VQ)()),yield(0,a6.yJ)((0,e5.HN)(eI.uA)),r.Cp(e);else throw yield(0,a6.yJ)((0,e5.HN)(eI.uA)),e}finally{f()(t)||(t.close(),t=null)}}var il=n(27179);class ii{noteValue;constructor(){this.noteValue=new Set}}class ir{nodeListeners;static isNoteValueText0Operation(e){return(0,eE.isText0Op)(e)&&5===e.p.length&&"nodes"===e.p[0]&&"string"==typeof e.p[1]&&"attributes"===e.p[2]&&"note"===e.p[3]&&"value"===e.p[4]}constructor(){this.nodeListeners=new Map}addNoteValueListener(e,t){let n=this.nodeListeners.get(e);null==n&&(n=new ii,this.nodeListeners.set(e,n)),n.noteValue.add(t)}removeNoteValueListener(e,t){let n=this.nodeListeners.get(e);return null!=n&&n.noteValue.delete(t)}applyChangeset(e,t){let n=new Map;for(let t of e.ops)if(ir.isNoteValueText0Operation(t)){let e=t.p[1];(0,s.assert)("string"==typeof e,"Node ID must be string");let a=n.get(e);null!=a?n.set(e,eE.Text0Subtype.compose(a,t.o)):n.set(e,t.o)}for(let[e,a]of n.entries()){let n=["nodes",e,"attributes","note","value"],l=t.getIn(n);if(null!=l){let t={p:["nodes",e,"attributes","note","value"],t:"text0",o:a};this.emitNoteValueText0Operation(l,t)}else{let t=new s.HttpError({code:"CONFLICT",message:"Missing note value, unable to emit change events…",scope:{extras:{nodeId:e,o:JSON.stringify(a)}}});r.Cp(t)}}}emitNoteValueText0Operation(e,t){(0,s.assert)(ir.isNoteValueText0Operation(t),"Expect Text0 operation targeting note's value");let n=t.p[1];(0,s.assert)("string"==typeof n,"Expect nodeId to be string");let a=this.nodeListeners.get(n);if(null!=a)for(let n of a.noteValue)n(e,t)}}function io(e){switch(e.type){case il.Gw:case il.pS:case e5.cF:case e2.C:return!0;default:return!1}}function*is(){let e=new ir;for(;;){let t=yield(0,a6.s)(io);switch(t.type){case il.Gw:{let{nodeId:n,listener:a}=t.payload;e.addNoteValueListener(n,a);break}case il.pS:{let{nodeId:n,listener:a}=t.payload;e.removeNoteValueListener(n,a);break}case e5.cF:{let{changeset:n,documentClient:a}=t.payload;e.applyChangeset(n,a.contents);break}case e2.C:{let{changeset:n}=t.payload,a=yield(0,a6.Lt)(lR.hE);e.applyChangeset(n,a)}}}}var id=n(85018);function iu(e){switch(e.type){case id.mo:case id.hD:case e5.cF:case e2.C:case id.LB:case id.Dh:return!0;default:return!1}}function*ic(){let e=new Set;for(;;){let t=yield(0,a6.s)(iu);switch(t.type){case id.mo:{let{editorManager:n}=t.payload;e.add(n);break}case id.hD:{let{editorManager:n}=t.payload;e.delete(n);break}case e5.cF:{let{changeset:n,documentClient:a}=t.payload;for(let t of e)t.applyChangeset(n,a.contents);break}case e2.C:{let{changeset:n}=t.payload,a=yield(0,a6.Lt)(lR.hE);for(let t of e)t.applyChangeset(n,a);if("local"===t.payload.type&&null!=t.payload.selection){let n=(0,o.getFirstItemFromIterable)(e);n?.focusSelection(t.payload.selection)}break}case id.LB:{let{nodeId:n,direction:a}=t.payload,l=(yield(0,a6.Lt)(lR.hE)).findNextNodeId(n);if(null==l)break;let i=(0,o.getFirstItemFromIterable)(e);if(null==i)break;"right"===a?i.focusSelection({type:"range",anchor:{nodeId:l,fieldPath:"/text",offset:0},focus:{nodeId:l,fieldPath:"/text",offset:0}}):i.focusNodeField(l,"/text");break}case id.Dh:{let{nodeId:n,direction:a}=t.payload,l=yield(0,a6.Lt)(lR.hE),i=l.findPreviousNodeID(n);if(null==i)break;let r=(0,o.getFirstItemFromIterable)(e);if(null==r)break;if("left"===a){let e=l.findNodeByID(i);if(null==e)break;let t=(0,eE.textDeltaLength)(e.text);r.focusSelection({type:"range",anchor:{nodeId:i,fieldPath:"/text",offset:t},focus:{nodeId:i,fieldPath:"/text",offset:t}})}else r.focusNodeField(i,"/text")}}}}function ip(e){switch(e.type){case e8.Pl:case e8.jg:return!0;default:return!1}}function*im(){let e=yield(0,a6.Lt)(),[t,n]=e.history.undoChange();if(null==n){yield(0,a6.c0)((0,eN.warning)({uid:"undo",message:"Nothing to undo",position:"br",autoDismiss:1,dismissible:!1}));return}let a={ops:(0,eE.invertChangeset)(n).ops,created:n.created},l={type:e2.C,payload:{type:"undo",changeset:a,history:t}},[,i]=tr.A.perform(e,e=>e.applyLocalChangeset(l.payload));if(null!=i){let e=new s.TaskadeError({code:"CONFLICT",statusCode:409,message:"Unable to Undo"},{cause:i});r.Cp(e),yield(0,a6.c0)((0,eN.warning)({uid:"undo",message:"Unable to undo",position:"br",autoDismiss:1,dismissible:!1}));return}yield(0,a6.c0)(l)}function*iy(){let e=yield(0,a6.Lt)(),[t,n]=e.history.redoChange();if(null==n){yield(0,a6.c0)((0,eN.warning)({uid:"redo",message:"Nothing to redo",position:"br",autoDismiss:1,dismissible:!1}));return}let a={type:e2.C,payload:{type:"redo",changeset:n,history:t}},[,l]=tr.A.perform(e,e=>e.applyLocalChangeset(a.payload));if(null!=l){let e=new s.TaskadeError({code:"CONFLICT",statusCode:409,message:"Unable to Redo"},{cause:l});r.Cp(e),yield(0,a6.c0)((0,eN.warning)({uid:"redo",message:"Unable to redo",position:"br",autoDismiss:1,dismissible:!1}));return}yield(0,a6.c0)(a)}function*ih(){for(;;)switch((yield(0,a6.s)(ip)).type){case e8.jg:yield(0,a6.T1)(im);break;case e8.Pl:yield(0,a6.T1)(iy)}}function*ig(e){(0,s.assert)(!e.ok,"response must not be ok");try{let t=yield(0,a6.T1)([e,e.json]);if("PROJECT_UNAVAILABLE"===t.code)return{code:t.code};let{status:n,message:a}=t,l=f()(n)?e.status:n.code,i=f()(n)?e.statusText:n.reason,r=`${l}: ${i}`;return{code:l,text:i,header:r,subheader:a}}catch(t){return{code:e.status,text:e.statusText,header:`${e.status}: ${e.statusText}`}}}function*iN(e,t,n){let a;(0,s.assert)((0,lM.s)(e),"`editorRouteState` must be a valid document state");let l=n?.startChild({op:"editor.lifecycle.load.fetch"});if(null!=e.id){let t=new URL(`/d/${e.id}.json`,"https://www.taskade.com");if(null!=e.shareToken){let{type:n,token:a}=e.shareToken;t.searchParams.set("share",n),t.searchParams.set(n,a)}a=`${t.pathname}${t.search}`}else throw new s.HttpError({code:"BAD_REQUEST",message:"Invalid project path"});let i=yield(0,a6.T1)(lE.fG,a);if(!i.ok){let e=Error(i.statusText);throw e.fetchResult=yield ig(i),e}let{attachments:r,contents:o,entities:d,meta:u}=yield(0,a6.T1)([i,i.json]);l?.finish();let p=n?.startChild({op:"editor.lifecycle.load.hydrate"});yield(0,a6.yJ)((0,eM.Mc)(r)),yield(0,a6.yJ)((0,eM.PQ)(o)),yield(0,a6.yJ)((0,nJ.xD)(nz()(d,e=>c()(e,["entities"],{})))),yield(0,a6.yJ)((0,e5.hs)(u));let f={contents:eE.Contents.deserialize(o),revision:u.revision};return p?.finish(),f}function*iv(e,t){let{template:n}=t;if(null!=n){if("from"===n.type){let e=function(e){let t=`/d/${e.id}.json`,n=new URL(t,"https://www.taskade.com");if(null!=e.shareToken){let{type:t,token:a}=e.shareToken;n.searchParams.set("share",t),n.searchParams.set(t,a)}return`${n.pathname}${n.search}`}(n),t=yield(0,a6.T1)(lE.fG,e);if(!t.ok){let e=Error(t.statusText);throw e.fetchResult=yield ig(t),e}let{contents:a}=yield(0,a6.T1)([t,t.json]);yield(0,a6.yJ)((0,eM.PQ)(a));return}throw new s.HttpError({code:"NOT_IMPLEMENTED"})}}function*ik(e){let t,n=null,a=!1,l=!1,{editorRouteState:i}=e.payload;try{switch(yield(0,a6.Zy)(ih),yield(0,a6.Zy)(is),yield(0,a6.Zy)(ic),!0){case(0,lM.a)(i):{let e=lP.BF().getScope()?.getTransaction()?.startChild({op:"editor.lifecycle.new"}),t=yield(0,a6.Lt)(),{space:n}=i;yield(0,a6.T1)(iv,t,i),null!=n&&((0,lL.qD)(t,null,n.id)===eT.TH?yield(0,a6.yJ)((0,aM.QY)(n.id,eT.g)):yield(0,a6.yJ)((0,aM.Yz)(n.id))),e?.finish();break}case(0,lM.s)(i):{let e=lP.BF().getScope()?.getTransaction()?.startChild({op:"editor.lifecycle.load"}),r=yield(0,a6.Lt)();n=(0,tA.Ho)(r),f()(n)&&(yield(0,a6.yJ)((0,aC.KO)(eT.zb)),t=yield(0,a6.T1)(iN,i,r,e),a=!0,l=!0),e?.finish();break}default:throw Error("Invalid `editorRouteState` received.")}yield(0,a6.yJ)((0,aC.KO)(eT.g));let e=lP.BF().getScope()?.getTransaction()?.startChild({op:"editor.lifecycle.init"}),r=yield(0,a6.Lt)(),o=(0,tA.iS)(r);if(yield(0,a6.yJ)((0,e1.G)(o)),n=(0,tA.Ho)(r),null==n||tE()(n)||(null!=n.space&&!tE()(n.space)&&a&&(yield(0,a6.yJ)((0,aM.Yz)(n.space.id))),!tE()(n.id)&&l&&(yield(0,a6.yJ)((0,eF.P2)(n.id)))),!(0,tA._o)(r)){let e=(0,lR.hE)(r),{rootNode:t}=e;if(!f()(t)){if(f()(n)||f()(n.id)||!t.hasChild)yield(0,a6.yJ)((0,eM.Lw)(t.id));else if(o){let n=e.findNodeByPredicateFromRoot(e=>e.id!==t.id&&!e.completed);null!=n&&(yield(0,a6.yJ)((0,eM.Lw)(n.id)))}else{let e=t.children.first();null!=e&&(yield(0,a6.yJ)((0,eM.Lw)(e)))}}}e?.finish(),yield(0,a6.T1)(ia,t)}catch(t){console.warn(t);let{fetchResult:e={code:500,text:t.message}}=t;e.status>=500&&r.v4(e=>{let n=t?.context;null!=n&&e.setExtra("context",n),r.Cp(t)}),yield(0,a6.yJ)((0,aC.KO)(eT.zu,e))}}function*iE(e){let t=!1;try{let n=yield(0,a6.Zy)(ik,e);yield(0,a6.s)(lF.RS),yield(0,a6.ZT)(n),t=!0}finally{(t||(yield(0,a6.KW)()))&&(yield(0,a6.yJ)((0,e8.Z0)()))}}function*iA(e){let{documentID:t,attachment:n,callback:a,callbackIsGenerator:l}=e.payload,i=yield(0,a6.c0)((0,lc.P)("ATTACHMENT_CREATE",{id:(0,e9.A)(),type:"attachment/create",to:{type:"document",id:t},attachment:n}));i.ok?(yield(0,a6.yJ)((0,eM.Xl)(i.attachment,i.info)),a&&(l?yield(0,a6.T1)(a):a())):a&&null!=i.details&&a({[le.Ym]:i.details})}function*iS(e){let{documentID:t,which:n}=e.payload;yield(0,a6.yJ)((0,eM.eA)(n)),yield(0,a6.c0)((0,lc.P)("ATTACHMENT_DELETE",{id:(0,e9.A)(),type:"attachment/delete",to:{type:"document",id:t},attachment:n}))}function*ib(e){let{documentID:t,attachment:n,callback:a}=e.payload,l=yield(0,a6.c0)((0,lc.P)("ATTACHMENT_EDIT",{id:(0,e9.A)(),type:"attachment/edit",to:{type:"document",id:t},attachment:n}));l.ok&&(yield(0,a6.yJ)((0,eM.bt)([l.attachment])),a&&a())}function*iT(e){let{documentID:t,nodeID:n}=e.payload;yield(0,a6.yJ)((0,eM.v3)(n,eT.zb));let a=yield(0,a6.T1)(lE.fG,`/web-api/d/${t}/comments/${n}`);if(a.ok){yield(0,a6.yJ)((0,eM.v3)(n,eT.g));let e=yield(0,a6.T1)([a,a.json]);yield(0,a6.yJ)((0,eM.r1)(n,c()(e,["payload",n,"comments","attachments"],[])))}else yield(0,a6.yJ)((0,eM.v3)(n,eT.zu))}let iI=(0,ei.Ay)`
  mutation ProcessCompletedNodes($input: ProcessCompletedNodesInput!) {
    processCompletedNodes(input: $input) {
      clientMutationId
      ok
    }
  }
`;async function iD(e,t){return e.mutate(t)}function*iO(e,t){let n=yield(0,a6.Lt)(),a=[],l=c()(n,["attachments","completedNodeIDs"],[]);if(yield(0,a6.yJ)((0,eM.dD)()),tE()(l)||l.forEach(e=>{t.has(e)||(a.push(e),t.add(e))}),!tE()(a)){let e=(0,tA.Ob)(n);if(null!=e){let t=yield(0,a6.SD)("apolloClient"),n={mutation:iI,variables:{input:{clientMutationId:(0,e9.A)(),documentID:e,nodeIDs:a}}};try{yield(0,a6.T1)(iD,t,n)}catch(e){}}a.forEach(e=>{t.delete(e)})}}function*i_(e,t){let n=yield(0,a6.Lt)(),a=[],l=c()(n,["attachments","recurNodeIDs"],[]);yield(0,a6.yJ)((0,eM.$O)()),tE()(l)||l.forEach(e=>{if(null==e){let e=Error("recurNodeIDs has null element.");r.Cp(e);return}t.has(e)||(a.push(e),t.add(e))});let i=(0,tA.Ho)(n);if(!tE()(a)){let e=yield(0,a6.c0)((0,lc.P)("ATTACHMENT_DUE_DATE_RECUR",{id:(0,e9.A)(),type:"attachment/due-date/recur",to:{type:"document",id:i.id},documentPath:i.editPath,nodeIDs:a}));if(e.ok){let t=e.attachments,n=yield(0,a6.SD)("apolloClient"),a=n.readQuery({query:ll.i,variables:{id:i.id,shareToken:null}});if(null!=a){let e=(0,d.Ay)(a,e=>{for(let n of t){let t=e.document.addons.dates.findIndex(e=>e.id===n.id);if(-1!==t){let a={__typename:"ProjectAddonDate",id:n.id,nodeId:n.nodeID,addonDate:n.data};e.document.addons.dates[t]=a}}});n.writeQuery({query:ll.i,data:e,variables:{id:i.id,shareToken:null}})}}a.forEach(e=>{t.delete(e)})}}var iw=n(42794),iC=n(42308),ix=n(95322),iP=n(86145),iF=n(36560),iM=n(47299),iR=n(91324);function*iL(e,t,n){yield(0,a6.yJ)((0,eM.ZG)(e,t));try{let e=yield(0,a6.T1)([n,"json"]);switch(e.code){case"ATTACHMENT_LIMIT_ERROR":yield(0,a6.yJ)((0,eN.error)({uid:"attachment-upload-error",message:e.message,position:"tc",autoDismiss:8,dismissible:!1}));break;case"TASKADE_UNLIMITED_REQUIRED_ERROR":{let e=yield(0,a6.Lt)(),t=(0,tA.Ho)(e);(0,iR.b)()?yield(0,a6.yJ)((0,at.ki)()):null!=t&&null!=t.space?yield(0,a6.yJ)((0,a5.jh)(t.space.id)):yield(0,a6.yJ)((0,a5.jh)());break}default:throw new s.TaskadeError({message:e?.message??"There was an error uploading the file.",scope:{extras:{body:e}}})}}catch(e){if(e instanceof s.TaskadeError&&null!=e.scope){let{extras:t}=e.scope;r.v4(n=>{null!=t&&n.setExtras(t),r.Cp(e)})}else r.Cp(e);yield(0,a6.yJ)((0,eN.error)({uid:"attachment-upload-error",message:e.message,position:"tc",autoDismiss:3,dismissible:!1}))}}function*ij(e,t,n,a){let l=JSON.stringify({type:"attachment",documentID:e,nodeID:t,includeS3Policy:"true",filename:a.name,filesize:a.size}),i=yield(0,a6.T1)(lE.LO,"/web-api/uploads/request-data",{"Content-Type":"application/json"},l);if(!i.ok){yield(0,a6.T1)(iL,t,n,i);return}let{token:r,s3Policy:o,s3URL:s,awsUploadAPIBaseURL:d}=(yield(0,a6.T1)([i,i.json])).payload,{formData:u,s3ObjectKey:c}=(0,iP.H)(a,o);if(!(yield(0,a6.T1)(lE.LO,s,{},u)).ok){yield(0,a6.yJ)((0,eM.ZG)(t,n));return}let p=JSON.stringify({body:{s3ObjectKey:c}}),f=yield(0,a6.T1)(lE.LO,`${d}/uploads`,{"uploads-authorization-jwt":r,"Content-Type":"application/json"},p),m=yield(0,a6.T1)([f,f.json]);if(!f.ok){yield(0,a6.yJ)((0,eM.ZG)(t,n));return}let y=m.data,h={documentID:m.documentID,nodeID:m.nodeID,spaceID:m.spaceID},g={nodeID:t,data:{type:eR.Ut,file:y,info:h}},N=function*(){yield(0,a6.yJ)((0,eM.ZG)(t,n))};yield(0,a6.yJ)((0,eM.cD)(e,g,N,!0))}function*iU(e){let{documentID:t,nodeID:n,files:a}=e.payload;yield(0,a6.yJ)((0,iM.Ye)(n,!1));let l=[];for(let e of a){let t=(0,e9.A)();yield(0,a6.yJ)((0,eM.k0)(n,t)),l.push({file:e,uploadID:t})}for(let e of l){let{file:a,uploadID:l}=e;yield(0,a6.T1)(ij,t,n,l,a)}}function*iz(e,t){yield(0,a6.yJ)((0,eM.EE)(e,eT.TH));try{let e=yield(0,a6.T1)([t,"json"]);if("TASKADE_UNLIMITED_REQUIRED_ERROR"===e.code){let e=yield(0,a6.Lt)(),t=(0,tA.Ho)(e);(0,iR.b)()?yield(0,a6.yJ)((0,at.ki)()):null!=t&&null!=t.space?yield(0,a6.yJ)((0,a5.jh)(t.space.id)):yield(0,a6.yJ)((0,a5.jh)())}else throw Error(e?.message??"There was an error uploading the file.")}catch(e){yield(0,a6.yJ)((0,eN.error)({uid:"file-comment-upload-error",message:e.message,position:"tc",autoDismiss:3,dismissible:!1}))}}function*iB(e){yield(0,a6.yJ)((0,eM.EE)(e,eT.TH)),yield(0,a6.yJ)((0,eN.error)({uid:"file-comment-upload-error",message:"There was an error uploading the file.",position:"tc",autoDismiss:3,dismissible:!1}))}function*iH(e,t,n){yield(0,a6.yJ)((0,eM.EE)(t,eT.zb));let a=JSON.stringify({type:"comment",documentID:e,nodeID:t,includeS3Policy:"true",filename:n.name,filesize:n.size}),l=yield(0,a6.T1)(lE.LO,"/web-api/uploads/request-data",{"Content-Type":"application/json"},a);if(!l.ok){yield(0,a6.T1)(iz,t,l);return}let{token:i,s3Policy:r,s3URL:o,awsUploadAPIBaseURL:s}=(yield(0,a6.T1)([l,l.json])).payload,{formData:d,s3ObjectKey:u}=(0,iP.H)(n,r);if(!(yield(0,a6.T1)(lE.LO,o,{},d)).ok){yield(0,a6.T1)(iB,t);return}let c=JSON.stringify({body:{s3ObjectKey:u}}),p=yield(0,a6.T1)(lE.LO,`${s}/uploads`,{"uploads-authorization-jwt":i,"Content-Type":"application/json"},c),f=yield(0,a6.T1)([p,p.json]);if(!p.ok){yield(0,a6.T1)(iB,t);return}let m=f.data,y={documentID:f.documentID,nodeID:f.nodeID,spaceID:f.spaceID},h={nodeID:t,data:{type:eR.vs,body:{type:eR.A_,data:{file:m}},info:y}},g=function*(){yield(0,a6.yJ)((0,eM.EE)(t,eT.TH))};yield(0,a6.yJ)((0,eM.cD)(e,h,g,!0))}function*iJ(e){let{documentID:t,nodeID:n,files:a}=e.payload;for(let e of a)yield(0,a6.T1)(iH,t,n,e)}function*iG(e,t){yield(0,a6.yJ)((0,aM.jC)(e,eT.zb,t));try{let n=`/web-api/spaces/${e}/documents`;switch(t){case lq.Uy:n=`/web-api/spaces/${e}/documents/archive`;break;case lq.EI:n=`/web-api/spaces/${e}/documents/templates`}let a=yield(0,a6.SD)("router");(0,s.assert)(null!=a,"Router should be available in the context");let l=a.state.location.search,i=yield(0,a6.T1)(lE.fG,`${n}${l}`);i.ok?yield(0,a6.yJ)((0,aM.I8)(e,i,eT.g,t)):yield(0,a6.yJ)((0,aM.jC)(e,eT.zu,t))}catch(n){r.v4(a=>{a.setExtra("spaceID",e),a.setExtra("documentStatus",t),r.Cp(n)}),yield(0,a6.yJ)((0,aM.jC)(e,eT.zu,t))}}function*iV(e){let{archived:t,spaceID:n}=e.payload;yield(0,a6.yJ)((0,aM.vN)(n,t));let a=yield(0,a6.Lt)(),l=(0,lL.tj)(a,null,n);if(l){let e=l.set("isArchived",t);yield(0,a6.yJ)((0,nJ.xD)({spaces:{[n]:e.toEntity()}}));let i=(0,lL.Eh)(a,null,e.id);yield(0,a6.Q7)(i.map(e=>{let n=e.set("isArchived",t);return(0,a6.yJ)((0,nJ.xD)({spaces:{[n.id]:n.toEntity()}}))})),yield(0,a6.Q7)(i.map(e=>(0,a6.yJ)((0,aM.vN)(e.id,t))))}}var i$=n(40941);function*iq(e,t){if(!e)return{ok:!1,details:"Space id is empty"};let n=yield(0,a6.T1)(lE.LO,`/web-api/spaces/${e}/avatar`,{"Content-Type":"application/json"},JSON.stringify(t)),a=yield(0,a6.T1)([n,n.json]);return n.ok?{ok:!0,responseObject:a}:{ok:!1,details:a.details}}function*iZ(e,t,n){let{callback:a,isCreateSpace:l,isEditSpace:i}=n;yield(0,a6.yJ)((0,aM.zJ)(t,eT.TH));try{let t=yield(0,a6.T1)([e,"json"]);switch(t.code){case"NOT_FOUND":case"PAYLOAD_TOO_LARGE":a({avatar:[t.message]});break;default:throw Error("There was an error uploading the file.")}}catch(e){a({avatar:[e.message]})}}function iW(e){e({avatar:["There was an error uploading the file."]})}function*iQ(e){let{spaceID:t,content:n,options:a}=e.payload,{callback:l}=a,i=yield(0,a6.T1)(iq,t,{defaultAvatar:{type:"default",data:{value:n}}});i.ok?l():l({avatar:[i.details]})}function*iY(e){let{spaceID:t,content:n,options:a}=e.payload,{callback:l,filename:i,filesize:r}=a;yield(0,a6.yJ)((0,aM.zJ)(t,eT.zb));let o=JSON.stringify({type:"space_avatar",spaceID:t,includeS3Policy:"true",filename:i,filesize:r}),s=yield(0,a6.T1)(lE.LO,"/web-api/uploads/request-data",{"Content-Type":"application/json"},o);if(!s.ok){yield(0,a6.T1)(iZ,s,t,a);return}let{token:d,s3Policy:u,s3URL:c,awsUploadAPIBaseURL:p}=(yield(0,a6.T1)([s,s.json])).payload,f=(0,i$.A)(n),{formData:m,s3ObjectKey:y}=(0,iP.H)(f,u,i);if(!(yield(0,a6.T1)(lE.LO,c,{},m)).ok){yield(0,a6.T1)(iW,l);return}let h=JSON.stringify({body:{s3ObjectKey:y}}),g=yield(0,a6.T1)(lE.LO,`${p}/uploads`,{"uploads-authorization-jwt":d,"Content-Type":"application/json"},h),N=yield(0,a6.T1)([g,g.json]);if(!g.ok){yield(0,a6.T1)(iW,l);return}let v=yield(0,a6.T1)(iq,t,{awsResponse:N});v.ok?l():l({avatar:[v.details]}),yield(0,a6.yJ)((0,aM.zJ)(t,eT.TH))}var iK=n(22504);let iX=new iK.wQ.Entity("accounts"),i0=new iK.wQ.Array(iX);function*i1(){yield(0,a6.Q7)([function*(){yield(0,a6.Q7)([function*(){for(;;){let e=yield(0,a6.s)(a5.kh),t=e.payload.workspaceId,n=e.payload.reason;yield(0,a6.yJ)(nN.A.actions.toggleUpgradeDialog({spaceId:t,reason:n}))}}(),function*(){for(;;){let e=(yield(0,a6.s)(a5.ah)).payload.featureId;"undefined"!=typeof window&&("workspace.member.limit"===e?window.location.href="/settings/plans":window.location.href="/settings/activate")}}()])}(),function*(){yield(0,a6.Q7)([function*(){yield(0,a6.p8)(lt.__,lk)}()])}(),function*(){yield(0,a6.Q7)([function*(){let e={};for(;;){let{documentID:t,collaborators:n}=(yield(0,a6.s)(eF.Uq)).payload,a=e[t];a&&a.isRunning()||(e[t]=yield(0,a6.Zy)(lx,t,n))}}(),function*(){let e={};for(;;){let{documentID:t}=(yield(0,a6.s)(eF.ro)).payload,n=e[t];n&&n.isRunning()||(e[t]=yield(0,a6.Zy)(lC,t))}}(),function*(){let e={};for(;;){let{documentID:t}=(yield(0,a6.s)(eF.VS)).payload,n=e[t];n&&n.isRunning()||(e[t]=yield(0,a6.Zy)(lD,t))}}(),function*(){for(;;){yield(0,a6.s)(eF.oP),yield(0,a6.yJ)((0,eF.OJ)(eT.zb));let e=yield(0,a6.SD)("router");(0,s.assert)(null!=e,"Router should be available in the context");let t=e.state.location.search,n=yield(0,a6.T1)(lE.fG,`/web-api/documents/shared${t}`);n.ok?(yield(0,a6.yJ)((0,eF.B_)(n)),yield(0,a6.yJ)((0,eF.OJ)(eT.g))):yield(0,a6.yJ)((0,eF.OJ)(eT.zu))}}(),function*(){let e={};for(;;){let t=yield(0,a6.s)(nQ.EK),{documentID:n}=t.payload,a=e[n];a&&a.isRunning()||(e[n]=yield(0,a6.Zy)(lO,t))}}(),function*(){let e={};for(;;){let{documentID:t}=(yield(0,a6.s)(eF.PU)).payload,n=e[t];n&&n.isRunning()||(e[t]=yield(0,a6.Zy)(l_,t))}}(),function*(){let e={};for(;;){let{documentID:t}=(yield(0,a6.s)(eF.Q4)).payload,n=e[t];n&&n.isRunning()||(e[t]=yield(0,a6.Zy)(lw,t))}}()])}(),function*(){yield(0,a6.p8)(lF.kN,iE)}(),function*(){yield(0,a6.Q7)([function*(){let e=yield(0,a6.wE)(eM.hZ,b.u2.sliding(15));for(;;){let t=yield(0,a6.s)(e);yield(0,a6.T1)(iA,t)}}(),function*(){let e={};for(;;){let t=yield(0,a6.s)(eM.ux),{documentID:n,which:a}=t.payload,l=`${n}-${a.nodeID}-${a.type}-${a.id}`,i=e[l];i&&i.isRunning()||(e[l]=yield(0,a6.Zy)(iS,t))}}(),function*(){let e={};for(;;){let t=yield(0,a6.s)(eM.Te),{documentID:n,attachment:a}=t.payload,l=`${n}-${a.id}`,i=e[l];i&&i.isRunning()||(e[l]=yield(0,a6.Zy)(ib,t))}}(),function*(){let e={};for(;;){let t=yield(0,a6.s)(eM._D),{documentID:n,nodeID:a}=t.payload,l=`${n}-${a}`,i=e[l];i&&i.isRunning()||(e[l]=yield(0,a6.Zy)(iT,t))}}(),function*(){let e=new Set;for(;;){let t=yield(0,a6.s)([eM.Dt,eM.mu,eM.vB]);yield(0,a6.Zy)(iO,t,e)}}(),function*(){let e=new Set;for(;;){let t=yield(0,a6.s)([eM.Dt,eM.mu,eM.vB]);yield(0,a6.Zy)(i_,t,e)}}(),function*(){for(;;){let e=yield(0,a6.s)(eM.zn),t=yield(0,a6.SD)("apolloClient"),n=yield(0,a6.Lt)(),a=(0,tA.x_)(n),l=null;if(null!=a)try{l=(yield(0,a6.T1)([t,"query"],{query:iF.j,variables:{spaceID:a},fetchPolicy:"cache-first"})).data}catch(e){(0,aB.A)(e,a4)}let i=l?.membership?.space?.taskadePlan,r=i?.state??{type:i?.type??"free"};if(!iw.mq.getSwitch("media.upload.non_image_types",r)&&e.payload.files.some(e=>!iC.ImageMimeTypes.has(e.type))){yield(0,a6.yJ)((0,a5.jh)(a,ix.E.enum.uploadFileType));continue}yield(0,a6.Zy)(iU,e)}}(),function*(){for(;;){let e=yield(0,a6.s)(eM.h8),t=yield(0,a6.SD)("apolloClient"),n=yield(0,a6.Lt)(),a=(0,tA.x_)(n),l=null;if(null!=a)try{l=(yield(0,a6.T1)([t,"query"],{query:iF.j,variables:{spaceID:a},fetchPolicy:"cache-first"})).data}catch(e){(0,aB.A)(e,a4)}let i=l?.membership?.space?.taskadePlan,r=i?.state??{type:i?.type??"free"};if(!iw.mq.getSwitch("media.upload.non_image_types",r)&&e.payload.files.some(e=>!iC.ImageMimeTypes.has(e.type))){yield(0,a6.yJ)((0,a5.jh)(a,ix.E.enum.uploadFileType));continue}yield(0,a6.Zy)(iJ,e)}}()])}(),function*(){yield(0,a6.Q7)([function*(){let e={};for(;;){let t=yield(0,a6.s)(aM.GU),{spaceID:n}=t.payload,a=`archive-${n}`,l=e[a];l&&l.isRunning()||(e[a]=yield(0,a6.Zy)(iV,t))}}(),function*(){let e={};for(;;){let{documentStatus:t,spaceID:n}=(yield(0,a6.s)(aM.zO)).payload,a=e[`${n}-${t}`];a&&a.isRunning()||(e[n]=yield(0,a6.Zy)(iG,n,t))}}(),function*(){for(;;){let{spaceID:e}=(yield(0,a6.s)(aM.Y$)).payload;yield(0,a6.yJ)((0,aM.QY)(e,eT.zb));try{let t=`/web-api/spaces/${e}/memberships`,n=yield(0,a6.T1)(lE.fG,t);n.ok?yield(0,a6.yJ)((0,aM.tI)(e,n,eT.g)):yield(0,a6.yJ)((0,aM.QY)(e,eT.zu))}catch(t){r.Cp(t),yield(0,a6.yJ)((0,aM.QY)(e,eT.zu))}}}(),function*(){let e={};for(;;){let t=yield(0,a6.s)(aM.Lp),{spaceID:n,options:a}=t.payload,l=`upload-space-avatar-${n}`,i=e[l];i&&i.isRunning()||("custom"===a.type?e[l]=yield(0,a6.Zy)(iY,t):e[l]=yield(0,a6.Zy)(iQ,t))}}()])}(),function*(){yield(0,a6.Q7)([function*(){for(;;){let e=yield(0,a6.s)(eq.R),t={"Content-Type":"application/json"},{values:n,callback:a}=e.payload,{path:l,...i}=n,o=JSON.stringify(i),s=yield(0,a6.T1)(lE.LO,"/web-api/user/change-password",t,o);try{if(s.ok)a(),yield(0,a6.yJ)((0,eN.success)({uid:"change-password-success",message:"Password changed!",position:"br",autoDismiss:1,dismissible:!1}));else{let e=yield(0,a6.T1)([s,s.json]);a({[le.Ym]:e.details})}}catch(e){r.Cp(e)}}}(),function*(){for(;;){yield(0,a6.s)(eq.SY);try{yield(0,a6.yJ)((0,eq.RX)(eT.zb));let e=yield(0,a6.T1)(lE.fG,"/web-api/user/accounts");e.ok?yield(0,a6.yJ)(function(e,t){return n=>{e.json().then(e=>{var a;let l=(a=c()(e,["payload","accounts"],[]),(0,iK.S8)(a,i0));n((0,nJ.xD)(l.entities)),n((0,eq.N9)(l.result)),n((0,eq.RX)(t))})}}(e,eT.g)):yield(0,a6.yJ)((0,eq.RX)(eT.zu))}catch(e){r.Cp(e),yield(0,a6.yJ)((0,eq.RX)(eT.zu))}}}(),function*(){for(;;){let{values:e,form:t,callback:n}=(yield(0,a6.s)(eq.AE)).payload;try{let a={"Content-Type":"application/json"},l=JSON.stringify(e),i=yield(0,a6.T1)(lE.LO,"/web-api/user",a,l);if(i.ok){let{payload:{user:e}}=yield(0,a6.T1)([i,i.json]),{defaultName:a,displayName:l,handle:r,timezone:o,locale:s,pendingEmail:d,pendingEmailType:u}=e;yield(0,a6.yJ)((0,eq.TK)({defaultName:a,displayName:l,handle:r,pendingEmail:d,pendingEmailType:u,timezone:o,locale:s})),n(),t.reset(),yield(0,a6.yJ)((0,eN.success)({uid:"update-user-success",message:"Account updated!",position:"br",autoDismiss:1,dismissible:!1})),yield(0,a6.yJ)((0,eg.cL)())}else{let e=yield(0,a6.T1)([i,i.json]);n({...e.exception.errors,[le.Ym]:c()(e.errors,["_error"],void 0)})}}catch(e){r.Cp(e)}}}(),function*(){for(;;){let t=yield(0,a6.s)(eq.Dq),n=yield(0,a6.Lt)(),a=(0,lb.mB)(n),l={"Content-Type":"application/json"},{key:i,value:o,localStorageKey:s}=t.payload,d=JSON.stringify({key:i,value:o});try{if(i){if(a)yield(0,a6.yJ)((0,eq.TK)({preferences:{...a.preferences,[i]:o}})),(yield(0,a6.T1)(lE.LO,"/web-api/user/preferences",l,d)).ok||(yield(0,a6.yJ)((0,eq.TK)({preferences:a.preferences})));else{var e;yield(0,a6.yJ)((e=s||i,{type:ec,payload:{key:e,value:o}}))}}}catch(e){r.Cp(e)}}}()])}()])}(0,d.IP)(),l.T({dsn:"https://e0a36c3727c443f69b3739259d379227@o4505191584890880.ingest.sentry.io/4505192783806464",environment:K(),release:Y(),beforeSend(e,t){if("development"===K())return console.warn({event:e,hint:t}),null;let n=t.originalException;if(null!=n){if(n instanceof a.K4){if((0,o.isNonEmptyArray)(n.graphQLErrors)){let a=n.graphQLErrors[0],l=a?.extension?.statusCode??a?.extensions?.exception?.status?.code;if(null!=l&&("string"==typeof l&&Number.isNaN(l=parseInt(l,10))&&(l=520),l<500))return console.warn({event:e,hint:t}),null}}else if(n instanceof Error&&"Extension context invalidated."===n.message)return console.warn({event:e,hint:t}),null}return(0,s.enrichErrorEvent)(e,t)},ignoreErrors:["Non-Error promise rejection captured with value: Object Not Found Matching Id:","GraphQL error: Unable to show activity for Guest."],integrations:[i.jS({useEffect:m.useEffect,useLocation:h.zy,useNavigationType:h.wQ,createRoutesFromChildren:h.AV,matchRoutes:g.ue})],tracesSampleRate:.1}),(0,X.x)(),(0,N.Eb)();let i8=function(e){if(f()(e))return;let{contents:t,slate:n,session:a}=e;return f()(t)?t=eE.Contents.create(t):eE.Contents.isContents(t)||(t=eE.Contents.deserialize(t)),n=t.nodes.map(eA.A.createWithNode),a=f()(a)?eO.create():eO.create(a),{...e,contents:t,slate:n,session:a}}(window.__PRELOADED_STATE__),i2=c()(i8,["auth","user"]);if(!f()(i2)){r.PN(e=>{e.setUser({id:i2.id,ip_address:"{{auto}}",email:i2.email,username:i2.handle})});let e=(0,j.tn)(i2.locale);(0,j.YC)(e),(0,j.cq)(e,i2.preferences?.dayOfWeek??null,i2.timeFormat??null),(0,j.a6)(i2.timezone??null)}let i6=document.getElementById("app");i6.hasChildNodes()?y.hydrate(a2(i8,!0,i1),i6):y.render(a2(i8,!0,i1),i6)},20955:(e,t,n)=>{"use strict";n.d(t,{F8:()=>u,M8:()=>s,UZ:()=>d});var a=n(49568),l=n(22504),i=n(63856);let r={id:"",user:null},o=new l.wQ.Entity("collaborators",{user:i.v}),s=new l.wQ.Array(o);function d(e){return(0,l.S8)(e,s)}class u extends(0,a.Record)(r){static create(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new u(e)}}},20609:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var a=n(49568);let l={hideCompleted:!1,visibleNodes:(0,a.Set)()};class i extends(0,a.Record)(l){static create(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new i(e)}get isActive(){return this.hideCompleted}isNodeIDVisible(e){return!this.isActive||this.visibleNodes.has(e)}checkNodes(e,t){return this.isActive?this.withMutations(n=>{t.forEach(t=>{let a=e.findParentNodeByID(t.id);null!=a&&e.traverseNode(a.id,[],(e,t)=>(e.completed?n.removeVisibleNodes([e.id]):n.addVisibleNodes([...t,e.id]),!0))})}):this}addVisibleNodes(e){return this.isActive?this.updateIn(["visibleNodes"],t=>t.union((0,a.Set)(e))):this}removeVisibleNodes(e){return this.updateIn(["visibleNodes"],t=>t.subtract(e))}updateContents(e,t){return this.withMutations(n=>{n.set("hideCompleted",t),n.isActive?(n.set("visibleNodes",(0,a.Set)()),e.traverse((e,t)=>(e.completed||n.addVisibleNodes([...t,e.id]),!0))):n.set("visibleNodes",(0,a.Set)())})}}let r=i},79666:(e,t,n)=>{"use strict";n.d(t,{EI:()=>m,Gt:()=>p,Uy:()=>f,hM:()=>y,yo:()=>h});var a=n(49568);n(58156),n(69843);var l=n(22504),i=n(20955),r=n(67347),o=n(51935),s=n(63856);let d=new l.wQ.Entity("documents",{space:r.og,creator:s.v,collaborators:i.M8,tags:o.Ah}),u=new l.wQ.Array(d),c={id:"",assignments:[],collaborators:[],createdBy:"",creator:null,editPath:"",isOwner:!1,isSharedWithUser:!1,isStarred:!1,isCleared:!1,isArchived:!1,isCompleted:!1,isPinned:!1,isDummy:!1,isTemplate:!1,hasCommentDeletePermission:!1,hasFileDeletePermission:!1,hasEditPermission:!1,hasMovePermission:!1,path:"",percentCompleted:0,role:{},sharedPreferences:{},space:null,starPath:"",spaceType:"",tags:[],title:"",updatedFromNow:"",updatedBy:"",viewPath:"",isUnread:!1},p="active",f="archived",m="templated";function y(e){return(0,l.S8)(e,u)}class h extends(0,a.Record)(c){static create(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new h(e)}getStatus(){return this.isArchived?f:this.isTemplate?m:p}toEntity(){return y([this.toJS()]).entities.documents[this.id]}getAvatarEmoji(){let e=this.sharedPreferences.avatar;return null==e?null:"emoji"===e.type?e.value:null}}},37726:(e,t,n)=>{"use strict";function a(e,t,n,a){let l=e.findNextNodeId(n,{skipDescendants:a});if(!t.hideCompleted)return l;for(;null!=l&&!t.isNodeIDVisible(l);)l=e.findNextNodeId(l);return l}n.d(t,{A:()=>a})},93334:(e,t,n)=>{"use strict";function a(e,t,n){let a=e.findPreviousNodeID(n);if(!t.hideCompleted)return a;for(;null!=a&&!(a===e.rootID||t.isNodeIDVisible(a));)a=e.findPreviousNodeID(a);return a}n.d(t,{A:()=>a})},42719:(e,t,n)=>{"use strict";n.d(t,{_O:()=>s}),n(49568);var a=n(22504),l=n(67347),i=n(63856);let r=new a.wQ.Entity("memberships",{user:i.v,space:l.og}),o=new a.wQ.Array(r);function s(e){return(0,a.S8)(e,o)}},88348:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var a=n(9903),l=n(49568),i=n(84478);let r={text:void 0};class o extends(0,l.Record)(r){static create(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new o(e)}static createWithNode(e){return o.create({text:(0,a.G1)(e.text)})}setTextWithValue(e){return this.set("text",e)}setTextWithDelta(e){let t=(0,a.G1)(e);return this.setTextWithValue(t)}setWithNode(e){return this.setTextWithDelta(e.text)}toggleLink(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.update("text",t=>t.change().call(i.Hx,e).value)}insertAutocompleteHyperlink(e,t,n){return this.update("text",a=>a.change().call(i.ev,e,t,n).value)}insertAutocompleteMention(e,t){return this.update("text",n=>n.change().call(i.mP,e,t).value)}insertAutocompleteTag(e,t){return this.update("text",n=>n.change().call(i.S4,e,t).value)}insertAutocompleteText(e,t){return this.update("text",n=>n.change().call(i.B5,e,t).value)}toggleMark(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.update("text",n=>n.change().call(i.dK,e,t).value)}focusNode(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.update("text",t=>(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=e.change();return null!=t&&(n=t>=0?(n=n.collapseToStartOf(e.document)).move(t):n.collapseToEndOf(e.document)),(n=n.focus()).value})(t,e))}unfocusNode(){return this.update("text",e=>e.change().blur().value)}}let s=o},88905:(e,t,n)=>{"use strict";n.d(t,{A:()=>N});var a=n(11617),l=n(49568),i=n(62193),r=n.n(i),o=n(69843),s=n.n(o),d=n(75866),u=n.n(d),c=n(55378),p=n.n(c),f=n(1081);let m=(0,f.Mz)([e=>e.query],e=>e.match(/\S+/g)||[]),y=(0,f.Mz)([m],e=>RegExp(u()(p()(e,e=>(0,a.escapeStringRegExp)(e)),"|"),"gi")),h={query:"",expandedNodes:(0,l.Set)(),visibleNodes:(0,l.Set)(),getQueryItems:m,getRegExp:y,isOpen:!1};class g extends(0,l.Record)(h){static create(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new g(e)}get isActive(){return!r()(this.query)}match(e){let t=[];return e.replace(this.getRegExp(this),(e,n)=>{let a=n+e.length;t.push({match:e,indices:[n,a]})}),t}isNodeIDVisible(e){return!this.isActive||this.visibleNodes.has(e)}isNodeIDCollapsed(e,t){return this.isActive?!this.expandedNodes.has(e):t}updateContentsAndQuery(e,t,n){return this.withMutations(a=>{a.set("query",n),a.isActive?(a.set("isOpen",!0),a.set("visibleNodes",(0,l.Set)()),a.set("expandedNodes",(0,l.Set)()),e.traverse((e,n)=>{let l=[...a.match(e.textString),...a.match(e.attributes.note?.value??"")];if(r()(l)){if(e.id in t){let l=t[e.id]??null;for(let t of l?.assignees?.attachments??[]){let l=t.assignee.handle,i=a.match(`@${l}`);if(!r()(i)){a.addVisibleNodes([...n,e.id]),a.addExpandedNodes(n);break}}}}else a.addVisibleNodes([...n,e.id]),a.addExpandedNodes(n);return!0})):(a.set("visibleNodes",(0,l.Set)()),a.set("expandedNodes",(0,l.Set)()))})}addVisibleNodes(e){return this.isActive?this.updateIn(["visibleNodes"],t=>t.union((0,l.Set)(e))):this}addExpandedNodes(e){return this.isActive?this.updateIn(["expandedNodes"],t=>t.union((0,l.Set)(e))):this}toggleCollapseOfNodeID(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return this.isActive?this.updateIn(["expandedNodes"],n=>(s()(t)&&(t=n.has(e)),t)?n.delete(e):n.add(e)):this}}let N=g},67347:(e,t,n)=>{"use strict";n.d(t,{$x:()=>p,_5:()=>u,og:()=>s});var a=n(49568),l=n(58156),i=n.n(l),r=n(22504);function o(e){return e.startsWith("#")}let s=new r.wQ.Entity("spaces");s.define({parent:s});let d=new r.wQ.Array(s);function u(e){return(0,r.S8)(e,d)}let c={id:"",name:"",color:"",role:"",order:0,inviteURL:"",hasRemovePermissions:!1,memberCount:0,preferences:{},isArchived:!1,isUnread:!1,parent:s,type:""};class p extends(0,a.Record)(c){static create(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new p(e)}hasCustomColor(){return o(this.color)}getColorClassNames(){var e,t;return e=this.id,o(t=this.color)?["custom",`custom-${e}`]:[t]}get avatar(){return i()(this,["preferences","avatars","default","hdpi","url"],null)}get smallAvatar(){return i()(this,["preferences","avatars","small","hdpi","url"],null)}isOwner(){return"owner"===this.role}toEntity(){return u([this.toJS()]).entities.spaces[this.id]}}},51935:(e,t,n)=>{"use strict";n.d(t,{Ah:()=>r,vw:()=>s});var a=n(49568),l=n(22504);let i=new l.wQ.Entity("tags"),r=new l.wQ.Array(i),o={id:0,key:"",rawKey:"",preferences:{}};class s extends(0,a.Record)(o){static create(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new s(e)}toEntity(){var e;return(e=[this.toJS()],(0,l.S8)(e,r)).entities.tags[this.id]}}},63856:(e,t,n)=>{"use strict";n.d(t,{K:()=>d,v:()=>s});var a=n(49568),l=n(58156),i=n.n(l),r=n(22504);let o={activeSubscription:null,avatars:{},id:"",defaultName:"",displayName:null,handle:"",email:"",pendingEmail:null,pendingEmailType:null,initials:"",referralCode:"",timezone:"",locale:"",preferences:{}},s=new r.wQ.Entity("users");class d extends(0,a.Record)(o){static create(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new d(e)}get avatar(){return i()(this,["avatars","mdpi","url"],"https://taskade.com/images/no-avatar.png")}get smallAvatar(){return i()(this,["avatars","small","hdpi","url"],this.avatar)}}},19434:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});let a=(0,n(60258).Z0)({name:"dialogs.aiAssistant",initialState:{isOpen:!1},reducers:{toggleAiAssistantDialog:(e,t)=>null==t.payload||e.isOpen?{isOpen:!1}:{...t.payload,isOpen:!0},setCommand(e,t){if(null==t.payload)return{...e,command:void 0};let{command:n}=t.payload;return{...e,command:n}}}})},11888:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});let a=(0,n(60258).Z0)({name:"dialogs.aiCreateProject",initialState:{isOpen:!1},reducers:{toggleAiCreateProjectDialog:(e,t)=>null==t.payload||e.isOpen?{isOpen:!1}:{isOpen:!0,spaceId:t.payload.spaceId}}})},41893:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var a=n(9211),l=n(60258),i=n(58596);let r=(0,l.Z0)({name:"dialogs.aiCreditLimit",initialState:{isOpen:!1},reducers:{toggleAiCreditLimitDialog(e,t){if(null==t.payload)return{isOpen:!1};{let e;let n=t.payload.error;if(null!=n){if(n instanceof a.K4){let t=n.graphQLErrors[0];e=t?.extensions?.statusCode??t?.extensions?.exception?.status?.code}else e=(0,i.getStatusCodeFromError)(n)}if(402===e||429===e)return{isOpen:!0,error:n,paywallReason:t.payload.paywallReason}}}}})},11156:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});let a=(0,n(60258).Z0)({name:"dialogs.aiPromptTemplates",initialState:{isOpen:!1},reducers:{toggleAiPromptTemplatesDialog:e=>({isOpen:!e.isOpen})}})},73374:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});let a=(0,n(60258).Z0)({name:"dialogs.calendarAddNode",initialState:{isOpen:!1},reducers:{toggleCalendarAddNodeDialog:(e,t)=>null==t.payload||e.isOpen?{isOpen:!1}:{...t.payload,isOpen:!0}}})},12778:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});let a=(0,n(60258).Z0)({name:"dialogs.changeTimezone",initialState:{isOpen:!1},reducers:{toggleChangeTimezoneDialog:e=>({isOpen:!e.isOpen})}})},21199:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});let a=(0,n(60258).Z0)({name:"dialogs.cloudUpload",initialState:{isOpen:!1,documentId:null,nodeId:null,restrictions:null,uploadType:null},reducers:{toggleCloudUploadDialog(e,t){let n=!e.isOpen;if(n&&null!=t&&null!=t.payload){let{documentId:e,nodeId:a,restrictions:l,uploadType:i}=t.payload;return{isOpen:n,documentId:e,nodeId:a,restrictions:l,uploadType:i}}return{isOpen:n,documentId:null,nodeId:null,restrictions:null,uploadType:null}}}})},25702:(e,t,n)=>{"use strict";n.d(t,{$:()=>l,s:()=>a});let a="@@taskade/dialogs/TOGGLE_COMMAND_MODAL_DIALOG";function l(){return{type:a,payload:{}}}},1138:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});let a=(0,n(60258).Z0)({name:"dialogs.copyDocuments",initialState:{isOpen:!1},reducers:{toggleCopyDocumentsDialog:(e,t)=>e.isOpen||null==t.payload?{isOpen:!1}:{isOpen:!0,documentIds:t.payload.documentIds,spaceId:t.payload.spaceId}}})},95998:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});let a=(0,n(60258).Z0)({name:"dialogs.deleteAccount",initialState:{isOpen:!1},reducers:{toggleDeleteAccountDialog:(e,t)=>null==t.payload||e.isOpen?{isOpen:!1}:{...t.payload,isOpen:!0}}})},81590:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});let a=(0,n(60258).Z0)({name:"dialogs.formShare",initialState:{isOpen:!1},reducers:{toggleFormShareDialog:(e,t)=>e.isOpen||null==t.payload?{isOpen:!1}:{isOpen:!0,flowId:t.payload.flowId}}})},92953:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});let a=(0,n(60258).Z0)({name:"dialogs.historyRevert",initialState:{isOpen:!1},reducers:{toggleHistoryRevertDialog:(e,t)=>null==t.payload||e.isOpen?{isOpen:!1}:{...t.payload,isOpen:!0}}})},68704:(e,t,n)=>{"use strict";n.d(t,{AS:()=>r,JM:()=>o,Nq:()=>s,QQ:()=>i});var a=n(69843),l=n.n(a);let i="@@taskade/dialogs/TOGGLE_INVITE_MODAL_DIALOG";function r(e){return{type:i,payload:{resource:l()(e)?null:{type:"document",id:e}}}}function o(e){return{type:i,payload:{resource:l()(e)?null:{type:"space",id:e}}}}function s(){return{type:i,payload:{resource:null}}}},47183:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});let a=(0,n(60258).Z0)({name:"dialogs.invitePicker",initialState:{isOpen:!1},reducers:{toggleInvitePickerDialog:(e,t)=>({isOpen:!e.isOpen,documentID:t?.payload})}})},12590:(e,t,n)=>{"use strict";n.d(t,{BF:()=>i,C9:()=>l,hl:()=>a,ki:()=>r});let a="@@taskade/dialogs/TOGGLE_LARGE_FILE_MODAL_DIALOG",l="@@taskade/dialogs/SHOW_LARGE_FILE_MODAL_DIALOG";function i(){return{type:a,payload:{}}}function r(){return{type:l,payload:{}}}},4125:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});let a=(0,n(60258).Z0)({name:"dialogs.mediaAi",initialState:{isOpen:!1},reducers:{toggleMediaAiDialog(e,t){if(e.isOpen||null==t.payload)return{isOpen:!1};let{spaceId:n,spaceMedia:a}=t.payload;return{isOpen:!0,type:"SpaceMedia",spaceId:n,spaceMedia:a}},toggleEditorMediaAiDialog(e,t){if(e.isOpen||null==t.payload)return{isOpen:!1};let{documentId:n,attachment:a}=t.payload;return{isOpen:!0,type:"NodeFileAttachment",documentId:n,attachment:a}}}})},52770:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});let a=(0,n(60258).Z0)({name:"dialogs.mfaSetupDialog",initialState:{isOpen:!1},reducers:{toggleMfaSetupDialog:(e,t)=>({isOpen:!e.isOpen})}})},39290:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});let a=(0,n(60258).Z0)({name:"dialogs.copyDocuments",initialState:{isOpen:!1},reducers:{toggleMoveDocumentsDialog:(e,t)=>e.isOpen||null==t.payload?{isOpen:!1}:{isOpen:!0,documentIds:t.payload.documentIds,spaceId:t.payload.spaceId}}})},39185:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});let a=(0,n(60258).Z0)({name:"dialogs.moveFolder",initialState:{isOpen:!1},reducers:{toggleMoveFolderDialog:(e,t)=>e.isOpen?{isOpen:!1}:null==t.payload?e:{isOpen:!0,spaceId:t.payload}}})},48946:(e,t,n)=>{"use strict";n.d(t,{_:()=>a,b:()=>l});let a="@@taskade/dialogs/TOGGLE_NODE_COMMENTS_DIALOG";function l(e){return{type:a,payload:e}}},67661:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});let a=(0,n(60258).Z0)({name:"dialogs.node",initialState:{isOpen:!1},reducers:{toggleNodeDialog:(e,t)=>null==t.payload||e.isOpen?{isOpen:!1}:{...t.payload,isOpen:!0}}})},3828:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});let a=(0,n(60258).Z0)({name:"dialogs.oauthCreate",initialState:{isOpen:!1},reducers:{toggleOAuthCreateDialog:e=>({isOpen:!e.isOpen})}})},45285:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});let a=(0,n(60258).Z0)({name:"dialogs.oauthUpdate",initialState:{isOpen:!1},reducers:{toggleOAuthUpdateDialog:(e,t)=>null==t.payload||e.isOpen?{isOpen:!1}:{isOpen:!0,app:t.payload.app}}})},58892:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});let a=(0,n(60258).Z0)({name:"dialogs.print",initialState:{isOpen:!1},reducers:{togglePrintDialog:(e,t)=>null==t.payload||e.isOpen?{isOpen:!1}:{isOpen:!0,projectId:t.payload.projectId}}})},86532:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});let a=(0,n(60258).Z0)({name:"dialogs.projectAiAddBlock",initialState:{isOpen:!1},reducers:{toggleProjectAiAddBlockDialog:(e,t)=>e.isOpen?{isOpen:!1}:{isOpen:!0,nodeId:t?.payload?.nodeId,aiType:t?.payload?.aiType}}})},97927:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});let a=(0,n(60258).Z0)({name:"dialogs.projectSettings",initialState:{isOpen:!1},reducers:{toggleProjectSettingsDialog:(e,t)=>null==t.payload||e.isOpen?{isOpen:!1}:{...t.payload,isOpen:!0}}})},35499:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});let a=(0,n(60258).Z0)({name:"dialogs.quickAdd",initialState:{isOpen:!1},reducers:{toggleQuickAddDialog(e,t){let n=!e.isOpen,a=t.payload?.options??[];if(!n)return{isOpen:!1};if(null==t.payload)return{isOpen:!0};let l={isOpen:!0};for(let e of a)switch(e?.type){case"calendar":l.calendarState=e.state;break;case"content":l.content=e.content;break;default:throw Error("Invalid option.")}return l}}})},28630:(e,t,n)=>{"use strict";n.d(t,{J:()=>l,u:()=>a});let a="@@taskade/dialogs/TOGGLE_SHORTCUTS_MODAL_DIALOG";function l(){return{type:a,payload:{}}}},20964:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});let a=(0,n(60258).Z0)({name:"dialogs.spaceAgentChat",initialState:{isOpen:!1,agentId:null,membership:null,buttonLocation:void 0},reducers:{toggleSpaceAgentChatDialog(e,t){if(e.isOpen)return e.isOpen&&null!=e.agentId&&e.agentId===t.payload?.agentId?e:{isOpen:!1,agentId:null};if(null==t.payload)return{isOpen:!1,agentId:null};let{agentId:n,buttonLocation:a}=t.payload;return{isOpen:!0,agentId:n,buttonLocation:a}}}})},73091:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});let a=(0,n(60258).Z0)({name:"dialogs.spaceAgentGroupChat",initialState:{isOpen:!1},reducers:{toggleSpaceAgentGroupChatDialog(e,t){if(e.isOpen||null==t.payload)return{isOpen:!1};let{spaceAgentGroupId:n}=t.payload;return{isOpen:!0,spaceAgentGroupId:n}}}})},59418:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});let a=(0,n(60258).Z0)({name:"dialogs.spaceAgentGroupEdit",initialState:{isOpen:!1},reducers:{toggleSpaceAgentGroupEditDialog(e,t){if(e.isOpen||null==t.payload)return{isOpen:!1};let{spaceAgentGroupId:n}=t.payload;return{isOpen:!0,spaceAgentGroupId:n}}}})},85917:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});let a=(0,n(60258).Z0)({name:"dialogs.spaceMediaPreview",initialState:{isOpen:!1},reducers:{toggleSpaceMediaPreviewDialog(e,t){if(e.isOpen||null==t.payload)return{isOpen:!1};let{spaceMedias:n,spaceId:a}=t.payload;return{spaceId:a,spaceMedias:n,index:t.payload.index??0,isOpen:!0}},setMediaIndex:(e,t)=>null==t.payload?e:{...e,index:t.payload.index}}})},7227:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});let a=(0,n(60258).Z0)({name:"dialogs.upgradeDialog",initialState:{isOpen:!1},reducers:{toggleUpgradeDialog:(e,t)=>e.isOpen?{isOpen:!1}:null==t.payload?{isOpen:!0}:{isOpen:!0,spaceId:t.payload.spaceId,reason:t.payload.reason}}})},25969:(e,t,n)=>{"use strict";n.d(t,{Q:()=>i});var a=n(83741);function l(e,t){try{return e.marks.some(e=>e?.type===t)}catch(n){return a.v4(l=>{l.setExtra("value",JSON.stringify(e.toJSON(),null,2)),l.setExtra("selection",JSON.stringify(e.selection?.toJSON(),null,2)),l.setExtra("type",t),a.Cp(n)}),!1}}function i(e,t,n,i){if(null==e||null==t||n||t.isBlurred||t.isCollapsed&&!i)return null;let{endOffset:r,startOffset:o}=t;return{nodeID:e,bold:l(t,"bold"),italic:l(t,"italic"),underline:l(t,"underline"),highlight:function(e){try{let t=e.marks.toArray(),n=null;for(let e of t){if(e?.type!=="highlight")continue;let t=e?.data.get("colorName");if(null==n){n=t;continue}if(n!==t)return null}return n}catch(t){a.v4(n=>{n.setExtra("value",JSON.stringify(e.toJSON(),null,2)),n.setExtra("selection",JSON.stringify(e.selection?.toJSON(),null,2)),n.setExtra("type","highlight"),a.Cp(t)})}return null}(t),selection:{end:r,start:o}}}},49798:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});let a=(0,n(60258).Z0)({name:"dialogs.addField",initialState:{isOpen:!1},reducers:{toggleAddFieldDialog(e,t){if(null==t.payload||e.isOpen)return{isOpen:!1};let{fieldType:n,onSaveCallback:a}=t.payload;return{isOpen:!0,fieldType:n,onSaveCallback:a}}}})},59813:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});let a=(0,n(60258).Z0)({name:"dialogs.editField",initialState:{isOpen:!1},reducers:{toggleEditFieldDialog(e,t){if(null==t.payload||e.isOpen)return{isOpen:!1};let{fieldId:n}=t.payload;return{isOpen:!0,fieldId:n}}}})},58593:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});let a=(0,n(60258).Z0)({name:"dialogs.embed",initialState:{isOpen:!1},reducers:{toggleEmbedModalDialog:(e,t)=>null==t.payload||e.isOpen?{isOpen:!1}:{...t.payload,isOpen:!0}}})},10897:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var a=n(60258),l=n(28113);let i=(0,a.Z0)({name:"dialogs.media",initialState:{isOpen:!1},reducers:{toggleMediaDialog(e,t){if(null==t.payload||null==t.payload.media||e.isOpen)return{isOpen:!1};let n=t.payload.index??0;return null!=t.payload.media[n]&&(0,l.FN)(t.payload.media[n])?{isOpen:!0,media:t.payload.media,index:t.payload.index}:{isOpen:!1}},setMediaIndex:(e,t)=>null==t.payload?e:{...e,index:t.payload.index}}})},28113:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>s,Cq:()=>d,FN:()=>y,HX:()=>r,QX:()=>u,R_:()=>l,_U:()=>p,aY:()=>f,lb:()=>o,mP:()=>i,nX:()=>m,vp:()=>c});var a=n(11617);function l(e){return e.isOpen&&null!=e.media}function i(e){return"data"in e&&"type"in e.data&&"embed"===e.data.type}function r(e){return"data"in e&&"type"in e.data&&"file"===e.data.type}function o(e){return!!r(e)&&"file"in e.data&&"mimetype"in e.data.file&&"application/pdf"===e.data.file.mimetype}function s(e){return!!r(e)&&"file"in e.data&&"mimetype"in e.data.file&&("text/markdown"===e.data.file.mimetype||"text/plain"===e.data.file.mimetype)}function d(e){return"data"in e&&"type"in e.data&&"comment"===e.data.type&&"file"===e.data.body.type}function u(e){return!!d(e)&&"pdf"===(0,a.extractFileExtension)(e.data.body.data.file.filename).toLowerCase()}function c(e){if(!d(e))return!1;let t=(0,a.extractFileExtension)(e.data.body.data.file.filename).toLowerCase();return"md"===t||"txt"===t}function p(e){return"__typename"in e&&"ChatMessageFileBody"===e.__typename}function f(e){return!!p(e)&&"pdf"===(0,a.extractFileExtension)(e.filename).toLowerCase()}function m(e){if(!p(e))return!1;let t=(0,a.extractFileExtension)(e.filename).toLowerCase();return"md"===t||"txt"===t}function y(e){return i(e)||r(e)||d(e)||p(e)}},73740:(e,t,n)=>{"use strict";n.d(t,{QT:()=>o,d$:()=>d,sO:()=>i,tV:()=>r});var a=n(97581),l=n(8604);let i=[a.ColorNames.Yellow,a.ColorNames.Green,a.ColorNames.Blue,a.ColorNames.Purple,a.ColorNames.Red],r=[a.ColorNames.Yellow,a.ColorNames.Gold,a.ColorNames.Amber,a.ColorNames.Orange,a.ColorNames.Ruby,a.ColorNames.Red,a.ColorNames.Purple,a.ColorNames.Sapphire,a.ColorNames.Blue,a.ColorNames.Aqua,a.ColorNames.Emerald,a.ColorNames.Green],o={[a.ColorNames.Yellow]:(0,l.zR)({id:"general.highlight_yellow",defaultMessage:"Highlight Yellow"}),[a.ColorNames.Green]:(0,l.zR)({id:"general.highlight_green",defaultMessage:"Highlight Green"}),[a.ColorNames.Blue]:(0,l.zR)({id:"general.highlight_blue",defaultMessage:"Highlight Blue"}),[a.ColorNames.Purple]:(0,l.zR)({id:"general.highlight_purple",defaultMessage:"Highlight Purple"}),[a.ColorNames.Red]:(0,l.zR)({id:"general.highlight_red",defaultMessage:"Highlight Red"})},s=new Set(r);function d(e){return null!=e&&s.has(e)}},54227:(e,t,n)=>{"use strict";function a(e){return"new"===e.type||"new/template"===e.type}function l(e){return"document"===e.type||"embed"===e.type}n.d(t,{a:()=>a,s:()=>l})},38558:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});let a=(0,n(60258).Z0)({name:"dialogs.managePeopleGroup",initialState:{isOpen:!1},reducers:{toggleManagePeopleGroupDialog:(e,t)=>e.isOpen?{isOpen:!1}:null==t.payload?{isOpen:!0}:{...t.payload,isOpen:!0}}})},51642:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});let a=(0,n(60258).Z0)({name:"dialogs.cloudMediaUpload",initialState:{isOpen:!1},reducers:{toggleCloudMediaUploadDialog:(e,t)=>null==t.payload||e.isOpen?{isOpen:!1}:{isOpen:!0,spaceId:t.payload.spaceId,onUploadSuccess:t.payload.onUploadSuccess}}})},98944:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});let a=(0,n(60258).Z0)({name:"dialogs.createFlow",initialState:{isOpen:!1},reducers:{toggleCreateFlowDialog:(e,t)=>null==t.payload||e.isOpen?{isOpen:!1}:{isOpen:!0,spaceId:t.payload.spaceId}}})},65059:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});let a=(0,n(60258).Z0)({name:"dialogs.createSpaceAgent",initialState:{isOpen:!1},reducers:{toggleCreateSpaceAgentDialog:(e,t)=>null==t.payload||e.isOpen?{isOpen:!1}:{isOpen:!0,spaceId:t.payload.spaceId,shouldOpenGenerateAgentDialog:t.payload.shouldOpenGenerateAgentDialog}}})},54622:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});let a=(0,n(60258).Z0)({name:"dialogs.createSpaceAgentGroup",initialState:{isOpen:!1},reducers:{toggleCreateSpaceAgentGroupDialog:(e,t)=>null==t.payload||e.isOpen?{isOpen:!1}:{isOpen:!0,spaceId:t.payload.spaceId}}})},13635:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});let a=(0,n(60258).Z0)({name:"dialogs.editSpaceAgent",initialState:{isOpen:!1},reducers:{toggleEditSpaceAgentDialog:(e,t)=>null==t.payload||e.isOpen?{isOpen:!1}:{isOpen:!0,agentId:t.payload.agentId,tab:t.payload.tab}}})},79135:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});let a=(0,n(60258).Z0)({name:"dialogs.editSpace",initialState:{isOpen:!1},reducers:{toggleEditSpaceDialog:(e,t)=>e.isOpen?{isOpen:!1}:{isOpen:t.payload??"general"}}})},11779:(e,t,n)=>{"use strict";n.d(t,{J:()=>l,U:()=>a});let a="@@taskade/dialogs/TOGGLE_IMPORT_MODAL_DIALOG";function l(e){return{type:a,payload:{platform:e}}}},86955:(e,t,n)=>{"use strict";n.d(t,{F:()=>l});var a=n(2414);let l=(0,a.Ay)`
  fragment BasicUserFields on User {
    id
    default_name
    display_name
    handle
    initials
    timezone
    avatars_v2 {
      small {
        ldpi {
          url
        }
        mdpi {
          url
        }
      }
    }
  }
`},8130:(e,t,n)=>{"use strict";n.d(t,{K:()=>a});let a={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"BasicUserParts"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"default_name"}},{kind:"Field",name:{kind:"Name",value:"display_name"}},{kind:"Field",name:{kind:"Name",value:"handle"}},{kind:"Field",name:{kind:"Name",value:"initials"}},{kind:"Field",name:{kind:"Name",value:"timezone"}},{kind:"Field",name:{kind:"Name",value:"avatars_v2"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"small"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"ldpi"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}}]}},{kind:"Field",name:{kind:"Name",value:"mdpi"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}}]}}]}}]}}]}}]}},3677:(e,t,n)=>{"use strict";n.d(t,{c:()=>a});let a={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CurrentUserQuery"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"me"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"email"}},{kind:"Field",name:{kind:"Name",value:"handle"}},{kind:"Field",name:{kind:"Name",value:"initials"}},{kind:"Field",name:{kind:"Name",value:"default_name"}},{kind:"Field",name:{kind:"Name",value:"display_name"}},{kind:"Field",name:{kind:"Name",value:"locale"}},{kind:"Field",name:{kind:"Name",value:"timezone"}},{kind:"Field",name:{kind:"Name",value:"created_at"}},{kind:"Field",name:{kind:"Name",value:"avatars_v2"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"default"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mdpi"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"small"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"ldpi"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}}]}},{kind:"Field",name:{kind:"Name",value:"mdpi"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"preferences"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"dayOfWeek"}},{kind:"Field",name:{kind:"Name",value:"timeFormat"}},{kind:"Field",name:{kind:"Name",value:"isNightMode"}},{kind:"Field",name:{kind:"Name",value:"isSidebarClosed"}},{kind:"Field",name:{kind:"Name",value:"isRightSidebarClosed"}},{kind:"Field",name:{kind:"Name",value:"emojiSkin"}},{kind:"Field",name:{kind:"Name",value:"onboardSpaceTour"}},{kind:"Field",name:{kind:"Name",value:"onboardEditorTour"}},{kind:"Field",name:{kind:"Name",value:"onboardAgentTour"}},{kind:"Field",name:{kind:"Name",value:"onboardUserSegment"}},{kind:"Field",name:{kind:"Name",value:"firstPromoterId"}},{kind:"Field",name:{kind:"Name",value:"isSpaceAgentConvoListClosed"}},{kind:"Field",name:{kind:"Name",value:"secondaryRibbon"}}]}}]}}]}}]}},51698:(e,t,n)=>{"use strict";n.d(t,{s:()=>l});var a=n(2414);let l=(0,a.Ay)`
  mutation CurrentUserUpdateMutation($input: UserInput!) {
    updateMe(input: $input) {
      id
      handle
      display_name
      timezone
      locale
      pendingEmail {
        email
        type
      }
      preferences {
        dayOfWeek
        timeFormat
      }
    }
  }
`},65705:(e,t,n)=>{"use strict";n.d(t,{X:()=>i});var a=n(2414),l=n(86955);let i=(0,a.Ay)`
  query ProjectAddonsCountdownQuery($id: ID!, $shareToken: ShareTokenInput) {
    document(id: $id, shareToken: $shareToken) {
      id
      addons {
        countdowns {
          id
          last_used_duration
          creator {
            ...BasicUserFields
          }
          states {
            created_at
            end
            actor {
              ...BasicUserFields
            }
            type
          }
          node_id
          removed
        }
      }
    }
  }
  ${l.F}
`},48841:(e,t,n)=>{"use strict";n.d(t,{i:()=>a});let a={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ProjectAddonsQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"shareToken"}},type:{kind:"NamedType",name:{kind:"Name",value:"ShareTokenInput"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"document"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}},{kind:"Argument",name:{kind:"Name",value:"shareToken"},value:{kind:"Variable",name:{kind:"Name",value:"shareToken"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"addons"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"assignees"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"nodeId"}},{kind:"Field",name:{kind:"Name",value:"assignee"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"BasicUserParts"}}]}},{kind:"Field",name:{kind:"Name",value:"assigner"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"BasicUserParts"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"countdowns"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"last_used_duration"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"BasicUserParts"}}]}},{kind:"Field",name:{kind:"Name",value:"states"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"created_at"}},{kind:"Field",name:{kind:"Name",value:"end"}},{kind:"Field",name:{kind:"Name",value:"actor"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"BasicUserParts"}}]}},{kind:"Field",name:{kind:"Name",value:"type"}}]}},{kind:"Field",name:{kind:"Name",value:"node_id"}},{kind:"Field",name:{kind:"Name",value:"removed"}}]}},{kind:"Field",name:{kind:"Name",value:"dates"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"nodeId"}},{kind:"Field",name:{kind:"Name",value:"author"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"BasicUserParts"}}]}},{kind:"Field",name:{kind:"Name",value:"addonDate"}}]}},{kind:"Field",name:{kind:"Name",value:"reactionCollections"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"node_id"}},{kind:"Field",name:{kind:"Name",value:"emojis"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"users"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"skin"}},{kind:"Field",name:{kind:"Name",value:"user"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"BasicUserParts"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"created_at"}}]}}]}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"BasicUserParts"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"default_name"}},{kind:"Field",name:{kind:"Name",value:"display_name"}},{kind:"Field",name:{kind:"Name",value:"handle"}},{kind:"Field",name:{kind:"Name",value:"initials"}},{kind:"Field",name:{kind:"Name",value:"timezone"}},{kind:"Field",name:{kind:"Name",value:"avatars_v2"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"small"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"ldpi"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}}]}},{kind:"Field",name:{kind:"Name",value:"mdpi"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}}]}}]}}]}}]}}]}},36560:(e,t,n)=>{"use strict";n.d(t,{j:()=>a});let a={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"SpacePlanQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"spaceID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"membership"},arguments:[{kind:"Argument",name:{kind:"Name",value:"space_id"},value:{kind:"Variable",name:{kind:"Name",value:"spaceID"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"role"}},{kind:"Field",name:{kind:"Name",value:"space"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"color"}},{kind:"Field",name:{kind:"Name",value:"is_subspace"}},{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"Field",name:{kind:"Name",value:"taskadePlan"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"Field",name:{kind:"Name",value:"state"}},{kind:"Field",name:{kind:"Name",value:"usage"}}]}}]}}]}}]}}]}},97756:(e,t,n)=>{"use strict";n.d(t,{$6:()=>b,$Y:()=>S,D8:()=>v,EL:()=>F,Ho:()=>R,IB:()=>w,LK:()=>M,Ob:()=>A,Ue:()=>T,V:()=>z,ZA:()=>I,_o:()=>L,bk:()=>U,g4:()=>P,iS:()=>E,ld:()=>x,qB:()=>_,r3:()=>k,uE:()=>j,x_:()=>C,zM:()=>D});var a=n(58156),l=n.n(a),i=n(61448),r=n.n(i),o=n(62193),s=n.n(o),d=n(69843),u=n.n(d),c=n(1081),p=n(8515),f=n(69555),m=n(86114),y=n(17594),h=n(66665),g=n(61189),N=n(21094);function v(e,t,n,a,l,i){if(!u()(e)&&(l||i)&&u()(a)){let e=(0,m.A)({copy:i,list:encodeURIComponent(`${t}${n}`)});return`/signup${e}`}return"/signup"}function k(e){return l()(e,["meta","preferences","hideChat"],!1)}function E(e){return l()(e,["meta","preferences","hideCompleted"],!1)}function A(e){return l()(e,["meta","id"])}function S(e){let t=A(e);return u()(t)?null:l()(e,["entities","documents","entities",t,"sharedPreferences"],{})}function b(e){return e.meta.routeState?.view??e.meta.preferences?.view??e.meta.sharedPreferences?.view??p.Vy}function T(e){return e.meta.preferences?.viewPreferences?.calendar??null}function I(e){return e.session.syncState}function D(e){return e.session.outOfSync}function O(e){return r()(e,["meta","id"])}function _(e){return l()(e,["meta","revision"])}function w(e){return l()(e,["meta","newborn"],!1)}function C(e){return l()(e,["meta","space","id"],null)}function x(e){return l()(e,["meta","conference"],!1)}let P=(0,c.Mz)([A,function(e){let t=A(e);return u()(t)?null:l()(e,["entities","documents","entities",t,"createdBy"],"Guest")},function(e){let t=A(e);return u()(t)?null:l()(e,["meta","info","updatedBy","handle"],"Guest")},function(e){let t=A(e);return u()(t)?null:l()(e,["meta","updatedAt"],null)}],(e,t,n,a)=>u()(e)?null:{createdBy:t,updatedBy:n,updatedAt:a}),F=(0,c.Mz)([O,function(e){return l()(e,["contents","rootNode"])}],(e,t)=>{let n=t.textString;return s()(n)?e?"Untitled":null:n}),M=(0,c.Mz)([F],e=>e?`${e} - Taskade`:null),R=(0,c.Mz)([A,y.Tx,h.cH,N.N,y.EZ,g.u],y.YE);function L(e){let t=R(e);return!(!O(e)||s()(t))&&s()(t.editPath)}(0,c.Mz)([A,y.U$],(e,t)=>(0,y.fg)(t,e));let j=(0,c.Mz)([R],e=>null!=e&&(0,f.A)({role:e.role,action:{project:"check",workspace:"check_project"}}));function U(e){let t=l()(e,["meta","info","stats"],null);return l()(t,["completedCount"],0)}function z(e){let t=l()(e,["meta","info","stats"],null),n=U(e),a=l()(t,["totalCount"],0);return 0===a?0:Math.floor(n/a*100)}},21842:(e,t,n)=>{"use strict";n.d(t,{Aq:()=>r,Bv:()=>l,R$:()=>i});var a=n(69555);function l(e){return e?.attachments}function i(e,t){return e?.attachments?.[t.nodeID]??null}function r(e){let t=e.meta.id;if(null==t)return!1;let n=e.entities.documents.entities[t];return null!=n&&(0,a.A)({role:n.role,action:{project:"delete_file"}})}},773:(e,t,n)=>{"use strict";n.d(t,{E7:()=>h,NJ:()=>m,P5:()=>S,ak:()=>k,eP:()=>A,mB:()=>E,qX:()=>N,rB:()=>y,wz:()=>c,xe:()=>v,xt:()=>g});var a=n(58156),l=n.n(a),i=n(56449),r=n.n(i),o=n(69843),s=n.n(o),d=n(1081),u=n(63856);function c(e){let t=e?.auth?.user??null;return null==t?null:new u.K(t)}function p(e){return l()(e,["auth","user"],null)}function f(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(n){return r()(e)?l()(n,["auth","user","preferences",...e],t):l()(n,["auth","user","preferences",e],t)}}let m=f("onboardAddSpace0001"),y=f("onboardInvite0001"),h=f("seenTour001Step2"),g=f("seenTour001Step3"),N=f("seenTour001Step4"),v=f("seenTour001Step5"),k=f("hideGetStartedTemplate"),E=(0,d.Mz)([p],e=>s()(e)?null:new u.K(e)),A=(0,d.Mz)([p],e=>!s()(e));function S(e){return l()(e,["auth","accounts","errors"],[])}(0,d.Mz)([c],e=>e?{email:e.email,displayname:e.displayName,username:e.handle,timezone:e.timezone,locale:e.locale}:{})},17594:(e,t,n)=>{"use strict";n.d(t,{BL:()=>F,EV:()=>w,EZ:()=>D,Ez:()=>A,Fe:()=>P,Gc:()=>k,J3:()=>x,Tx:()=>T,U$:()=>I,YE:()=>v,_v:()=>_,aA:()=>S,fg:()=>O,lx:()=>E,t_:()=>b});var a=n(15125),l=n(58156),i=n.n(l),r=n(69843),o=n.n(r),s=n(1081),d=n(20955),u=n(79666),c=n(67347),p=n(51935),f=n(63856),m=n(25969),y=n(84819),h=n(66665),g=n(61189),N=n(21094);function v(e,t,n,a,l,r){let s=i()(t,[e],null);if(s){let e=i()(n,[s.space],null),t=s.collaborators.map(e=>i()(l,[e],null)).filter(e=>!o()(e)).map(e=>{let t=new f.K({...i()(a,[e.user],null)});return new d.F8({...e,user:t})}),m=s.tags?s.tags.map(e=>i()(r,[e],null)).filter(e=>!o()(e)).map(e=>new p.vw(e)):[],y=null;e&&(y=new c.$x(e));let h=new f.K({...i()(a,[s.creator],null)});return new u.yo({...s,space:y,collaborators:t,creator:h,tags:m})}return null}function k(e){return i()(e,["session","focusNodeID"],null)}function E(e){let t=k(e);if(o()(t))return null;let{slate:n}=e;return n.getIn([t,"text"],null)}function A(e){let t=k(e);return!o()(t)&&t===(0,y.hE)(e).rootID}function S(e,t){return(0,y.YY)(e,t)===k(e)}(0,s.Mz)([k,y.hE],(e,t)=>{if(o()(e)||o()(t))return!1;let n=t.findNodeByID(e);return!o()(n)&&n.completed});let b=(0,s.Mz)([k,E,A],(e,t,n)=>(0,m.Q)(e,t,n,!1));function T(e,t){return i()(e,["entities","documents","entities"],{})}function I(e){return i()(e,["documents","collaborators"],{})}function D(e,t){return i()(e,["entities","collaborators","entities"],{})}function O(e,t){return i()(e,["fetchStatus",t],"")}function _(e,t,n){let a=T(e,t),l=(0,h.cH)(e,t);return v(n,a,l,(0,N.N)(e,t),D(e,t),(0,g.u)(e,t))}function w(e){return i()(e,["session","formatMenuState"],null)}(0,s.Mz)([function(e,t){return i()(e,["documents","shared","list"],[])},T,h.cH,N.N,D,g.u],function(e,t,n,a,l,i){return e.map(e=>v(e,t,n,a,l,i)).filter(e=>!o()(e))}),(0,s.Mz)([w,y.hE],(e,t)=>{if(o()(e))return null;let{nodeID:n,ancestors:a}=e;return a.length>1?t.findNodeByID(a[a.length-1]):t.findNodeByID(n)}),(0,s.Mz)([w],e=>{if(o()(e))return null;let{ancestors:t}=e;return t.length>1?a.FORMAT_TYPE_CHILDREN:a.FORMAT_TYPE_NODE});let C=(0,s.Mz)([w,y.hE],(e,t)=>{if(o()(e))return null;let{nodeID:n,ancestors:a}=e;if(a.length>1){let e=a[a.length-1],n=t.findNodeByID(e);return n?n.getIn(["format","children"],null):null}{let e=t.findNodeByID(n);return null!=e?e.getIn(["format","node"],null):null}});(0,s.Mz)([C],e=>i()(a.MENU_CLASS_NAMES,[e],a.CLASS_NAME_MENU_CHECKBOX));let x=(0,s.Mz)([y.hE],e=>!o()(e)&&e.isAllCollapsed),P=(0,s.Mz)([y.hE],e=>!o()(e)&&e.isCollapsible),F=(0,s.Mz)([y.hE],e=>!o()(e)&&e.isAllCompleted)},84819:(e,t,n)=>{"use strict";n.d(t,{Bv:()=>k,DB:()=>T,Gq:()=>m,TK:()=>f,VJ:()=>g,Vo:()=>y,YY:()=>p,b6:()=>h,en:()=>N,hE:()=>c,k5:()=>b,mM:()=>v,o6:()=>E,wE:()=>S});var a=n(15125),l=n(58156),i=n.n(l),r=n(61448),o=n.n(r),s=n(1081),d=n(21842),u=n(17594);function c(e){return e.contents}function p(e,t){return t.nodeID}function f(e){return e.search}function m(e){return o()(e,["meta","id"])}function y(e,t){let n=p(e,t);return e.slate.getIn([n,"text"],null)}function h(){return(0,s.Mz)([c,p],(e,t)=>e.findNodeByID(t))}function g(e,t){let{ancestors:n}=t,l=c(e),r=p(e,t),o=l.findNodeByID(r),s=o?.format?.node;if(null!=s)return i()(a.FORMAT_CLASS_NAMES,[s],a.CLASS_NAME_CHECKBOX);let d=n[n.length-1],u=l.findNodeByID(d);return u?.format?.children!=null?null:a.CLASS_NAME_CHECKBOX}function N(e,t){let n=c(e),l=p(e,t),i=n.findNodeByID(l),r=i?.format?.children;return a.CHILDREN_FORMAT_CLASS_NAMES[r]}function v(e){return e.documentPreferences}function k(e,t){return(0,d.R$)(e,t)}function E(){return(0,s.Mz)([c,p],(e,t)=>e.findDescendantsForNode(t).every(t=>e.getIn(["nodes",t,"completed"])))}n(3178);let A=(0,s.Mz)([c],e=>2===e.nodes.size),S=(0,s.Mz)([u.aA,A],(e,t)=>!!e||!!t);function b(e,t){let{ancestors:n,nodeId:l}=t,i=c(e),r=i.findNodeByID(l),o=r?.format?.node;if(null!=o)return o;let s=n[n.length-1],d=i.findNodeByID(s);return d?.format?.children!=null?d.format.children:a.FORMAT_CHECKBOX}function T(e,t){let n=c(e),{ancestors:a,indexOfNode:l}=t;if(0===l)return null;let i=a[a.length-1],r=n.findNodeByID(i);if(null==r)return null;let o=r.children.get(l-1);if(null==o)return null;let s=n.findNodeByID(o);return s?.format?.node!=null?s.format.node:r?.format?.children!=null?r.format.children:null}},3178:(e,t,n)=>{"use strict";n.d(t,{E6:()=>u,FI:()=>p,Nr:()=>c,TK:()=>r.TK,Vo:()=>d,mM:()=>r.mM,u1:()=>o,zm:()=>s});var a=n(58156),l=n.n(a),i=n(1081),r=n(84819);function o(e){return e.contents.rootID}function s(e){return e.contents.rootNode}function d(e){let t=o(e);return e.slate.getIn([t,"text"],null)}function u(e){return l()(e,["meta","isOwner"],!(0,r.Gq)(e))}function c(e){return l()(e,["meta","claimable"],!1)}let p=(0,i.Mz)([o],e=>[])},60555:(e,t,n)=>{"use strict";n.d(t,{Iw:()=>d,Nv:()=>r,R2:()=>s,T5:()=>o,hI:()=>i});var a=n(58156),l=n.n(a);function i(e){return l()(e,["session","siteID"])}function r(e){return l()(e,["session","spaceIsNew"],!1)}function o(e){return l()(e,["session","backendError"],null)}function s(e){return l()(e,["session","sideDrawerIsOpen"],!1)}function d(e){return l()(e,["session","firebaseNotificationPermission"],"")}},66665:(e,t,n)=>{"use strict";n.d(t,{Eh:()=>d,cH:()=>r,qD:()=>o,tj:()=>s});var a=n(58156),l=n.n(a);n(79666);var i=n(67347);function r(e){return l()(e,["entities","spaces","entities"],{})}function o(e,t,n){return l()(e,["spaces","memberships","fetchStatus",n],{})}function s(e,t,n){let a=l()(r(e,t),[n],null);return a?new i.$x(a):null}function d(e,t,n){let a=r(e,t),l=[];return Object.keys(a).forEach(e=>{let t=a[e];t.parent===n&&l.push(new i.$x(t))}),l}},61189:(e,t,n)=>{"use strict";n.d(t,{u:()=>i});var a=n(58156),l=n.n(a);function i(e,t){return l()(e,["entities","tags","entities"],{})}},21094:(e,t,n)=>{"use strict";n.d(t,{N:()=>i});var a=n(58156),l=n.n(a);function i(e,t){return l()(e,["entities","users","entities"],{})}},69555:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var a=n(65826);function l(e){let t=e.role,n=e.action;return null!=t&&(null!=t.project&&null!=n.project?a.BO.can(t.project,n.project,"project")??!1:null!=t.workspace&&null!=n.workspace&&(a.BO.can(t.workspace,n.workspace,"workspace")??!1))}},41198:(e,t,n)=>{"use strict";let a;n.d(t,{x:()=>i,z:()=>r});var l=n(58596);function i(){return(0,l.assert)(null!=a,"Global context not set"),a}function r(e){(0,l.assert)(null==a,"Global context already set"),a=e}},15233:(e,t,n)=>{"use strict";n.d(t,{A:()=>i,q:()=>l});let a={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"DocumentTagsParts"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Document"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"tags"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"NullValue"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"key"}},{kind:"Field",name:{kind:"Name",value:"preferences"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"color"}}]}},{kind:"Field",name:{kind:"Name",value:"raw_key"}}]}}]}}]}}]}}]};function l(e){return{__typename:"Tag",id:e.id.toString(),key:e.key,preferences:{__typename:"TagPreferences",color:e.preferences.color},raw_key:e.rawKey}}function i(e,t,n,l){let i=`Document:${e}`,r=l.readFragment({id:i,fragment:a});if(null==r||null==r.tags.edges)return;let o=r.tags.edges,s=o.findIndex(e=>null!=e&&null!=e.node&&e.node.id===t.id.toString());if(n){if(-1!==s)return;o=[...o,{node:t}]}else{if(-1===s)return;(o=[...o]).splice(s,1)}r={...r,tags:{...r.tags,edges:o}},l.writeFragment({id:i,fragment:a,data:r})}},74040:(e,t,n)=>{"use strict";function a(){if("undefined"==typeof navigator)return null;if(null!=navigator.language)return navigator.language;if(Array.isArray(navigator.languages)){let e=navigator.languages[0];if(null!=e)return e}return null}n.d(t,{A:()=>a})},47299:(e,t,n)=>{"use strict";n.d(t,{TR:()=>S,oh:()=>v,U3:()=>E,Ye:()=>b,up:()=>A});var a=n(57798),l=n(97288),i=n(72188),r=n(84819),o=n(23216),s=n(58596),d=n(9903),u=n(16535),c=n(58156),p=n.n(c),f=n(68090),m=n.n(f),y=n(12660),h=n.n(y),g=n(2301),N=n(29373);function v(e,t,n){return function(a,i){let{slate:r,contents:c,attachments:f}=i();if(null==n.rootNode){(0,g.A)(new s.HttpError({code:"BAD_REQUEST",message:"Paste content has no root node.",scope:{extras:{pasteContents:JSON.stringify(n.toST())}}}),o);return}let y=n.extractFragment(n.rootNode.children.toArray());if(0===y.children.length)return;let v=y.children[0];if(1===y.children.length&&0===v.children.length){let t=r.getIn([e,"text"]);if(null==t)return;!function(e,t,n,a){let{document:i}=(0,d.G1)(new(h())(e.text)),r=n.change().insertFragment(i);t((0,l.uS)(a,r))}(v,a,t,e);return}if(0===t.length){a((0,N.Cc)({id:null,position:"afterbegin"},y));return}let k=c.findNodeByID(e);if(null==k)return;let E=k.format?.node;if(null!=E&&(y=(0,u.Ay)(y,e=>(function(e,t){let n=e=>(0,u.Ay)(e,e=>(e.format?.node==null&&(e.format=e.format??{},e.format.node=t),e));return(0,u.Ay)(e,e=>(e.children=e.children.map(n),e))})(e,E))),k.children.size>0){a((0,N.Cc)({id:e,parentId:m()(t),position:"beforebegin"},y));return}if(0===k.textString.length&&null==p()(f,e)){a((0,N.uT)(y,e,t));return}a((0,N.Cc)({id:e,parentId:m()(t),position:"afterend"},y))}}function k(e,t,n,a){let{document:i}=(0,d.G1)(new(h())(e.text)),r=n.change().insertFragment(i);t((0,l.uS)(a,r))}function E(e,t,n){return function(a,l){let{slate:i,contents:r,attachments:o}=l(),s=r.findNodeByID(e);if(null==s)return;let d=n.children[0];if(1===n.children.length&&0===d.children.length&&s.textString.length>0){let t=i.getIn([e,"text"]);if(null==t)return;k(d,a,t,e);return}if(1===n.children.length&&(d.format?.node??"text")==="text"&&0===d.children.length){let t=i.getIn([e,"text"]);if(null==t)return;k(d,a,t,e);return}if(0===t.length){a((0,N.Cc)({id:null,position:"afterbegin"},n));return}if(s.children.size>0){a((0,N.Cc)({id:e,parentId:m()(t),position:"beforebegin"},n));return}if(0===s.textString.length&&null==p()(o,e)){a((0,N.uT)(n,e,t));return}a((0,N.Cc)({id:e,parentId:m()(t),position:"afterend"},n))}}function A(e,t,n){return function(i,o){let s;let d=o(),u=(0,r.hE)(d),c=(0,r.mM)(d);s=c.hideCompleted?function(e,t,n){if(n===e.rootID)return null;let a=e.findPreviousNodeID(n);for(;null!=a;){if(a===e.rootID)return e.rootID;if(t.isNodeIDVisible(a))break;a=e.findPreviousNodeID(a)}return a}(u,c,e):u.findPreviousNodeID(e,t),(0,a.isNil)(s)||s===e||i(l.Lw(s,n,e))}}function S(e,t,n){return function(i,o){let s;let d=o(),u=(0,r.hE)(d),c=(0,r.mM)(d);s=c.hideCompleted?function(e,t,n){let a=e.findNextNodeID(n);for(;null!=a&&!t.isNodeIDVisible(a);)a=e.findNextNodeID(a);return a}(u,c,e):u.findNextNodeID(e,t),(0,a.isNil)(s)||s===e||i(l.Lw(s,n,e))}}function b(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return function(n,a){let{contents:r,search:o}=a();r.findNodeByID(e).children.isEmpty()||n(o.isActive?i.lI(e,t):l.jZ(e,t))}}},94337:(e,t,n)=>{"use strict";n.d(t,{O:()=>i,P:()=>l});var a=n(74761);function l(e){for(var t=arguments.length,n=Array(t>1?t-1:0),l=1;l<t;l++)n[l-1]=arguments[l];return t=>new Promise((l,i)=>{t({type:a.yb,payload:{eventName:e,args:n},executor:{resolve:l,reject:i}})})}function i(){return e=>new Promise((t,n)=>{e({type:a.DP,payload:{},executor:{resolve:t,reject:n}})})}},29904:(e,t,n)=>{"use strict";n.d(t,{p:()=>o,x:()=>c});var a=n(83741),l=n(23216),i=n(58596),r=n(2301);let o=null,s=0,d=0;function u(){try{if("undefined"==typeof document)return null;return document.cookie}catch(e){return null}}function c(){if(null==o)try{let e=n(57317);e.load("1htnaSVfXkfbbK4fpLEsh4RcA8R","https://rudderstack.taskade.cloud"),o=e}catch(o){s+=1;let e=u();if(((0,i.getStatusCodeFromError)(o)??500)>=500)try{n(57317).reset(),d+=1,a.ZQ({category:"analytics",message:"Reset Rudder Analytics"})}catch(e){(0,r.A)(new i.TaskadeError({message:"Failed to reset Rudder Analytics"},{cause:e}),l)}let t=u();(0,r.A)(o,l,{extras:{loadFailedCount:s,resetCount:d,prevCookie:e,currCookie:t}})}return o}},86114:(e,t,n)=>{"use strict";n.d(t,{A:()=>d});var a=n(79516),l=n.n(a),i=n(58156),r=n.n(i),o=n(62193),s=n.n(o);function d(e){let t=Object.keys(e).reduce((t,n)=>{let a=r()(e,[n],null);return a?{...t,[n]:a}:t},{});return s()(t)?"":l()({queryParams:t})}},40941:(e,t,n)=>{"use strict";function a(e){if(!window||window.window!==window)throw Error("This module is only available in browser");let t=window.Blob||window.MozBlob||window.WebKitBlob;if(!t)throw Error("Blob was not supported");let n=e.match(/^data:((.*?)(;charset=.*?)?)(;base64)?,/);if(!n)throw Error("invalid dataURI");let a=n[2]?n[1]:`text/plain${n[3]||";charset=utf-8"}`,l=!!n[4],i=e.slice(n[0].length),r=l?atob(i):decodeURIComponent(i),o=[];for(let e=0;e<r.length;e++)o.push(r.charCodeAt(e));return new t([new Uint8Array(o)],{type:a})}n.d(t,{A:()=>a})},91324:(e,t,n)=>{"use strict";function a(){return"undefined"!=typeof window&&window.navigator.userAgent.toLowerCase().indexOf(" electron/")>-1}n.d(t,{b:()=>a})},72197:(e,t,n)=>{"use strict";n.d(t,{QM:()=>r,$:()=>o,M0:()=>d,kS:()=>s,V2:()=>c,mh:()=>u});var a=n(58156),l=n.n(a);function i(e,t){return e===t}function r(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:i;return!a(l()(e,n),l()(t,n))}function o(){if("undefined"!=typeof document)return document}function s(){if("undefined"!=typeof window)return window}function d(){try{if("undefined"!=typeof localStorage)return localStorage}catch(e){}}function u(e,t,n,a){return`${e.substring(0,n)}${t}${e.substring(a)}`}function c(e){let t=s();t.location.href===e?t.location.reload(!0):t.location.href=e}},12681:(e,t,n)=>{"use strict";n.d(t,{QC:()=>r,YC:()=>s,a6:()=>u,cq:()=>d,tn:()=>o});var a=n(84743),l=n.n(a),i=n(74040);function r(e){switch(e){case"zh-Hans":return"zh-CN";case"zh-Hant":return"zh-TW";default:return e}}function o(e){let t=r(e??(0,i.A)()??"en-US");return l().defineLocale("local",{parentLocale:t}),"local"}function s(e){l().locale(e)}function d(e,t,n){let a={week:{dow:t??l().localeData((0,i.A)()??"en-US").firstDayOfWeek()}};switch(n){case"h:mm A":a.longDateFormat={LT:"h:mm A",LTS:"h:mm:ss A"};break;case"HH:mm":a.longDateFormat={LT:"HH:mm",LTS:"HH:mm:ss"}}l().updateLocale(e,a)}function u(e){null!=e?l().tz.setDefault(e):l().tz.setDefault()}},35159:(e,t,n)=>{"use strict";function a(e){let{onApprove:t=null,onDecline:n=null}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};confirm(e)?t&&t():n&&n()}n.d(t,{A:()=>a})},84478:(e,t,n)=>{"use strict";n.d(t,{ev:()=>o,mP:()=>d,S4:()=>u,B5:()=>c,Hx:()=>r,dK:()=>m});var a=n(93957),l=n(69843),i=n.n(l);function r(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;for(let t of e.value.marks.filter(e=>"link"===e.type))e.removeMark(t);if(i()(t))e.collapseToEnd(),e.focus();else{let n=a.CU.create({data:t,type:"link"});e.toggleMark(n),e.collapseToEnd(),e.toggleMark(n),e.insertText(" "),e.focus()}}function o(e,t,n,l){e.deleteAtRange(a.Q6.create(l)),e.insertText(t),e.extend(-t.length),e.call(r,n)}function s(e,t){for(let t of e.value.marks.filter(e=>e?.type==="mention").toArray())e.removeMark(t);let n=a.CU.create({type:"mention",data:t});return e.toggleMark(n),e.collapseToEnd(),e.toggleMark(n),e.insertText(" "),e.focus(),e}function d(e,t,n){e.deleteAtRange(a.Q6.create(n)),e.insertText(`@${t}`),e.extend(-t.length-1),e.call(s,{mention:!0})}function u(e,t,n){e.deleteAtRange(a.Q6.create(n)),e.insertText(`#${t} `)}function c(e,t,n){e.deleteAtRange(a.Q6.create(n)),e.insertText(t)}n(86139);var p=n(97581);let f=n(73740).sO.map(e=>(0,p.getHslColorScale)(e).hex("80"));function m(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,{document:l,selection:r}=e.value,o=null,s=null;r.isCollapsed?(s=r.moveToRangeOf(l),o=l.getMarksAtRange(s)):o=e.value.marks;let d={type:t};i()(n)||(d.data=n);let u=a.CU.create(d),c=o.some(e=>e.equals(u)),p=o.filter(e=>e.type===u.type);if("highlight"===u.type&&i()(u.data.get("colorName"))&&1===p.count()){let t=p.first(),n=function(e){let t=f.indexOf(e);return -1===t?null:f[t+1]||null}(t.data.get("colorName")||f[0]),l=a.CU.create({data:{colorName:n},type:"highlight"});n?i()(s)?(e.removeMark(t),e.addMark(l)):(e.removeMarkAtRange(s,t),e.addMarkAtRange(s,l)):i()(s)?e.toggleMark(t):e.toggleMarkAtRange(s,t)}else if("link"===u.type&&null==n&&1===p.count()){let t=p.first();i()(s)?e.removeMark(t):e.removeMarkAtRange(s,t)}else if(c&&1===p.count())i()(s)?e.toggleMark(u):e.toggleMarkAtRange(s,u);else if(p.count()>0)i()(s)?(p.forEach(t=>e.removeMark(t)),e.addMark(u)):(p.forEach(t=>e.removeMarkAtRange(s,t)),e.addMarkAtRange(s,u));else if("highlight"===u.type&&i()(u.data.get("colorName"))&&0===p.count()){let t=a.CU.create({data:{colorName:f[0]},type:"highlight"});i()(s)?(e.removeMark(u),e.addMark(t)):(e.removeMarkAtRange(s,u),e.addMarkAtRange(s,t))}else i()(s)?e.toggleMark(u):e.toggleMarkAtRange(s,u)}}},e=>{var t=t=>e(e.s=t);e.O(0,[559,2794,6249],()=>t(94017)),e.O()}]);